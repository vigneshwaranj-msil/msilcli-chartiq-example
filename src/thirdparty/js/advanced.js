/**
 *	8.1.0
 *	Generation date: 2021-08-18T10:23:20.489Z
 *	Client name: angel broking
 *	Package Type: Technical Analysis
 *	License type: annual
 *	Expiration date: "2022/08/01"
 *	Domain lock: ["127.0.0.1","localhost","angelbroking.com","localfolder://"]
 *	Filesystem lock: "file://*", "file://c/*", "file://d/*", "file://e/*"
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
G5XX[586378]=(function(){var F=2;for(;F !== 9;){switch(F){case 2:F=typeof globalThis === '\u006f\u0062\x6a\x65\u0063\u0074'?1:5;break;case 1:return globalThis;break;case 5:var G;try{var V=2;for(;V !== 6;){switch(V){case 3:throw "";V=9;break;case 9:delete G['\u0075\u004e\x64\x6c\u0065'];var Q=Object['\x70\x72\x6f\u0074\u006f\x74\x79\u0070\x65'];delete Q['\u0057\x49\u0073\u006a\u0063'];V=6;break;case 4:V=typeof uNdle === '\x75\u006e\u0064\x65\x66\u0069\x6e\x65\u0064'?3:9;break;case 2:Object['\u0064\x65\u0066\x69\x6e\u0065\u0050\x72\u006f\x70\x65\x72\u0074\x79'](Object['\x70\x72\u006f\x74\u006f\x74\u0079\x70\u0065'],'\u0057\u0049\x73\x6a\x63',{'\x67\x65\x74':function(){var x=2;for(;x !== 1;){switch(x){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});G=WIsjc;G['\u0075\x4e\u0064\u006c\x65']=G;V=4;break;}}}catch(k){G=window;}return G;break;}}})();G5XX[610167]=B8Tq(G5XX[586378]);G5XX[144534]=q3ow(G5XX[586378]);G5XX.R0F7=function(){return typeof G5XX[498995].M0F7 === 'function'?G5XX[498995].M0F7.apply(G5XX[498995],arguments):G5XX[498995].M0F7;};function B8Tq(Y60P){var c60P=2;for(;c60P !== 10;){switch(c60P){case 3:s00P[5]="";s00P[5]="j";s00P[7]=5;s00P[7]=1;c60P=6;break;case 12:var W00P=function(L60P,i60P,t60P,K60P){var f60P=2;for(;f60P !== 5;){switch(f60P){case 2:var y00P=[arguments];Q00P(s00P[0][0],y00P[0][0],y00P[0][1],y00P[0][2],y00P[0][3]);f60P=5;break;}}};c60P=11;break;case 11:W00P(l00P,"charCodeAt",s00P[7],s00P[4]);c60P=10;break;case 2:var s00P=[arguments];s00P[6]="";s00P[6]="Tq";s00P[3]="8";c60P=3;break;case 6:s00P[4]=s00P[5];s00P[4]+=s00P[3];s00P[4]+=s00P[6];c60P=12;break;}}function Q00P(q60P,b60P,m60P,T60P,e60P){var I60P=2;for(;I60P !== 7;){switch(I60P){case 3:Z00P[4]="d";Z00P[3]=0;try{var k60P=2;for(;k60P !== 8;){switch(k60P){case 2:Z00P[9]={};Z00P[1]=(1,Z00P[0][1])(Z00P[0][0]);Z00P[8]=[Z00P[3],Z00P[1].prototype][Z00P[0][3]];Z00P[9].value=Z00P[8][Z00P[0][2]];k60P=3;break;case 3:try{var F60P=2;for(;F60P !== 3;){switch(F60P){case 2:Z00P[6]=Z00P[4];Z00P[6]+=Z00P[5];Z00P[6]+=Z00P[2];F60P=4;break;case 4:Z00P[0][0].Object[Z00P[6]](Z00P[8],Z00P[0][4],Z00P[9]);F60P=3;break;}}}catch(v00P){}k60P=9;break;case 9:Z00P[8][Z00P[0][4]]=Z00P[9].value;k60P=8;break;}}}catch(g00P){}I60P=7;break;case 2:var Z00P=[arguments];Z00P[5]="ef";Z00P[2]="ineProperty";Z00P[4]="";I60P=3;break;}}}function l00P(P60P){var p60P=2;for(;p60P !== 5;){switch(p60P){case 2:var R60P=[arguments];return R60P[0][0].String;break;}}}}G5XX.C60P=function(){return typeof G5XX[553046].a1Tq === 'function'?G5XX[553046].a1Tq.apply(G5XX[553046],arguments):G5XX[553046].a1Tq;};G5XX.n0F7=function(){return typeof G5XX[498995].c0F7 === 'function'?G5XX[498995].c0F7.apply(G5XX[498995],arguments):G5XX[498995].c0F7;};G5XX[498995]=(function(P0F7){return {c0F7:function(){var A0F7,t0F7=arguments;switch(P0F7){case 156:A0F7=(-t0F7[1] / t0F7[4] + t0F7[2]) / t0F7[3] + t0F7[0];break;case 11:A0F7=(-t0F7[0] - t0F7[2]) * t0F7[1] + t0F7[3];break;case 50:A0F7=(t0F7[0] - t0F7[4]) / (t0F7[3] - t0F7[2]) > t0F7[1];break;case 126:A0F7=(t0F7[0] - t0F7[2] + t0F7[1]) / t0F7[4] - t0F7[3];break;case 102:A0F7=(t0F7[1] - t0F7[3]) * t0F7[0] - t0F7[2];break;case 42:A0F7=t0F7[2] + t0F7[1] + t0F7[0] - t0F7[3] - t0F7[4];break;case 25:A0F7=t0F7[0] - (t0F7[2] - t0F7[1]);break;case 78:A0F7=t0F7[4] - t0F7[2] + t0F7[0] + t0F7[3] - t0F7[1];break;case 141:A0F7=t0F7[4] * t0F7[1] / t0F7[0] * t0F7[2] - t0F7[3];break;case 18:A0F7=t0F7[3] - t0F7[1] - t0F7[0] + t0F7[2];break;case 63:A0F7=(t0F7[3] + t0F7[2] - t0F7[0]) / t0F7[4] + t0F7[1];break;case 172:A0F7=-t0F7[3] - t0F7[0] + t0F7[2] + t0F7[1];break;case 54:A0F7=t0F7[0] - t0F7[3] - t0F7[1] + t0F7[4] - t0F7[2];break;case 58:A0F7=t0F7[4] * t0F7[3] / t0F7[2] + t0F7[0] - t0F7[1];break;case 20:A0F7=t0F7[2] - t0F7[0] * t0F7[3] * t0F7[1];break;case 145:A0F7=t0F7[2] * (t0F7[0] - t0F7[1]) > t0F7[3];break;case 64:A0F7=-t0F7[0] + t0F7[1];break;case 14:A0F7=t0F7[1] - t0F7[2] * t0F7[0];break;case 4:A0F7=t0F7[0] + t0F7[1] - t0F7[2];break;case 114:A0F7=t0F7[3] * t0F7[2] * t0F7[0] + (t0F7[1] - t0F7[5] * t0F7[6]) * t0F7[4];break;case 152:A0F7=(t0F7[2] / t0F7[4] + t0F7[1]) * t0F7[0] - t0F7[3];break;case 13:A0F7=(t0F7[3] + t0F7[1] + t0F7[2] + t0F7[4]) / t0F7[0];break;case 138:A0F7=(t0F7[0] / t0F7[3] + t0F7[1]) / t0F7[2] + t0F7[4];break;case 119:A0F7=(t0F7[2] + t0F7[4]) / t0F7[3] + t0F7[0] - t0F7[1];break;case 164:A0F7=t0F7[2] - t0F7[3] * t0F7[1] - t0F7[0];break;case 155:A0F7=t0F7[1] - (t0F7[0] << t0F7[2]);break;case 65:A0F7=t0F7[3] - t0F7[1] + t0F7[0] - t0F7[2];break;case 49:A0F7=(t0F7[1] - t0F7[4]) / t0F7[3] + t0F7[0] + t0F7[2];break;case 146:A0F7=t0F7[1] / (t0F7[3] * t0F7[0]) <= t0F7[2];break;case 160:A0F7=t0F7[1] - t0F7[4] / (t0F7[2] + t0F7[0] / t0F7[3]);break;case 31:A0F7=(t0F7[2] + t0F7[3]) * t0F7[0] - t0F7[1] - t0F7[4];break;case 68:A0F7=(t0F7[2] - t0F7[4]) / t0F7[0] / t0F7[3] - t0F7[1];break;case 169:A0F7=t0F7[0] * t0F7[1] / (t0F7[2] + t0F7[3]);break;case 112:A0F7=(t0F7[3] - t0F7[2]) * t0F7[4] + t0F7[1] - t0F7[0];break;case 140:A0F7=(t0F7[0] * t0F7[1] - t0F7[2]) / t0F7[4] - t0F7[3];break;case 66:A0F7=t0F7[3] * t0F7[0] * t0F7[2] - t0F7[1];break;case 45:A0F7=t0F7[0] + t0F7[3] / (t0F7[2] << t0F7[1]);break;case 143:A0F7=(t0F7[0] - t0F7[4]) * t0F7[3] * t0F7[1] - t0F7[2];break;case 26:A0F7=(t0F7[2] - t0F7[0]) / (t0F7[3] >> t0F7[1]);break;case 166:A0F7=t0F7[1] + t0F7[3] * t0F7[0] + t0F7[2];break;case 30:A0F7=-t0F7[2] * t0F7[0] + t0F7[1];break;case 75:A0F7=t0F7[0] / +t0F7[1];break;case 124:A0F7=(t0F7[1] + t0F7[2]) / +t0F7[0];break;case 136:A0F7=t0F7[3] * (t0F7[1] / t0F7[0] - +t0F7[2]);break;case 8:A0F7=t0F7[2] - t0F7[3] + t0F7[0] + t0F7[1];break;case 170:A0F7=t0F7[2] / t0F7[3] / t0F7[0] - t0F7[1];break;case 106:A0F7=t0F7[3] - t0F7[1] - t0F7[0] - t0F7[2];break;case 84:A0F7=(t0F7[3] + t0F7[1]) / (t0F7[0] >> t0F7[2]);break;case 17:A0F7=(t0F7[1] - t0F7[2]) / t0F7[3] + t0F7[0];break;case 115:A0F7=-t0F7[1] - t0F7[2] + t0F7[0];break;case 82:A0F7=(t0F7[0] - t0F7[1] * t0F7[2]) / t0F7[3];break;case 142:A0F7=(t0F7[2] + t0F7[3]) / t0F7[1] + t0F7[4] + t0F7[0];break;case 10:A0F7=t0F7[0] / t0F7[1];break;case 127:A0F7=(t0F7[1] >> t0F7[3]) * t0F7[0] / (t0F7[2] + t0F7[4]);break;case 92:A0F7=t0F7[1] + t0F7[2] - t0F7[3] + t0F7[0];break;case 105:A0F7=t0F7[3] / t0F7[0] - t0F7[4] + t0F7[1] - t0F7[2];break;case 53:A0F7=t0F7[2] / t0F7[0] / t0F7[3] + t0F7[1];break;case 15:A0F7=t0F7[0] / t0F7[3] - t0F7[1] - t0F7[4] + t0F7[2];break;case 101:A0F7=(t0F7[0] - t0F7[3]) * t0F7[4] * t0F7[2] + t0F7[1];break;case 87:A0F7=-(t0F7[0] - t0F7[1]) * t0F7[2] + t0F7[3];break;case 113:A0F7=(t0F7[4] - t0F7[1] - t0F7[3]) * t0F7[0] - t0F7[2];break;case 144:A0F7=(t0F7[1] % t0F7[0] + t0F7[2]) * t0F7[3];break;case 37:A0F7=t0F7[0] << t0F7[1];break;case 6:A0F7=t0F7[0] - t0F7[1];break;case 80:A0F7=t0F7[1] * (+t0F7[4] * t0F7[2] + t0F7[0]) / (t0F7[5] >> t0F7[3]);break;case 22:A0F7=t0F7[1] * t0F7[0];break;case 77:A0F7=t0F7[2] - t0F7[1] * (t0F7[3] - t0F7[0]);break;case 157:A0F7=(t0F7[0] / t0F7[2] - t0F7[3]) * t0F7[1] + t0F7[4];break;case 139:A0F7=t0F7[4] / t0F7[0] / t0F7[2] * t0F7[3] + t0F7[1];break;case 76:A0F7=t0F7[3] + (t0F7[1] - t0F7[0]) / t0F7[2];break;case 125:A0F7=t0F7[0] * t0F7[1] / t0F7[2] / t0F7[4] - t0F7[3];break;case 161:A0F7=t0F7[1] * -t0F7[0];break;case 85:A0F7=(t0F7[4] + t0F7[2] + t0F7[0]) * t0F7[1] - t0F7[3];break;case 90:A0F7=(t0F7[0] + t0F7[2] * t0F7[3]) / t0F7[1];break;case 72:A0F7=t0F7[3] * t0F7[2] * t0F7[4] - t0F7[1] - t0F7[0];break;case 132:A0F7=-t0F7[3] / t0F7[0] * t0F7[4] / t0F7[2] + t0F7[1];break;case 61:A0F7=(t0F7[0] - t0F7[1]) / (t0F7[3] - t0F7[2]);break;case 56:A0F7=(t0F7[2] + t0F7[1]) * t0F7[3] - t0F7[0];break;case 86:A0F7=t0F7[0] + t0F7[4] - t0F7[1] - t0F7[2] - t0F7[3];break;case 147:A0F7=t0F7[1] / t0F7[0] * t0F7[3] / t0F7[2] + t0F7[4];break;case 28:A0F7=-t0F7[2] / t0F7[1] + t0F7[0];break;case 116:A0F7=(t0F7[0] - t0F7[1]) / t0F7[2] - t0F7[3];break;case 3:A0F7=(t0F7[2] + t0F7[1]) / t0F7[0];break;case 95:A0F7=t0F7[0] + t0F7[5] + t0F7[3] + t0F7[6] + t0F7[2] + t0F7[1] + t0F7[7] + t0F7[4];break;case 104:A0F7=t0F7[2] * t0F7[1] / t0F7[0];break;case 51:A0F7=t0F7[3] / t0F7[0] - t0F7[2] - t0F7[1];break;case 94:A0F7=t0F7[2] / t0F7[4] / t0F7[0] - t0F7[1] + t0F7[3];break;case 83:A0F7=t0F7[2] * t0F7[0] + t0F7[1];break;case 2:A0F7=t0F7[1] + t0F7[0];break;case 62:A0F7=t0F7[3] + t0F7[1] - t0F7[0] - t0F7[4] + t0F7[2];break;case 175:A0F7=(t0F7[2] - t0F7[4] + t0F7[0]) * t0F7[1] + t0F7[3];break;case 5:A0F7=t0F7[0] + t0F7[2] - t0F7[3] - t0F7[1];break;case 108:A0F7=t0F7[3] * t0F7[1] + t0F7[2] + t0F7[4] - t0F7[0];break;case 131:A0F7=t0F7[1] * (t0F7[3] / t0F7[2] - t0F7[0]);break;case 129:A0F7=t0F7[1] * t0F7[2] * t0F7[0];break;case 38:A0F7=t0F7[0] & t0F7[1];break;case 121:A0F7=t0F7[4] * t0F7[3] * t0F7[2] / t0F7[1] - t0F7[0];break;case 148:A0F7=t0F7[0] > t0F7[1];break;case 158:A0F7=t0F7[3] * t0F7[2] / t0F7[1] + t0F7[0];break;case 33:A0F7=t0F7[2] * t0F7[1] < t0F7[0];break;case 48:A0F7=t0F7[3] + t0F7[2] - t0F7[4] + t0F7[0] - t0F7[1];break;case 174:A0F7=-t0F7[0] + t0F7[1] - t0F7[2];break;case 120:A0F7=-t0F7[0] * t0F7[1] / t0F7[4] / t0F7[3] + t0F7[2];break;case 46:A0F7=t0F7[3] + t0F7[2] / (t0F7[0] * t0F7[1]);break;case 57:A0F7=t0F7[3] / t0F7[0] + t0F7[2] - t0F7[1];break;case 1:A0F7=(t0F7[3] - t0F7[0]) * t0F7[1] + t0F7[2];break;case 98:A0F7=(t0F7[0] - (t0F7[3] + t0F7[1])) / t0F7[2];break;case 71:A0F7=t0F7[3] * t0F7[2] + t0F7[0] - t0F7[1];break;case 109:A0F7=(t0F7[1] + t0F7[2]) * t0F7[0];break;case 100:A0F7=-t0F7[2] + t0F7[1] + t0F7[0];break;case 43:A0F7=t0F7[2] - t0F7[0] / t0F7[1];break;case 39:A0F7=(t0F7[3] + t0F7[0]) / t0F7[2] - t0F7[1] + t0F7[4];break;case 133:A0F7=t0F7[1] + t0F7[3] * (t0F7[0] - t0F7[2]);break;case 159:A0F7=(-t0F7[2] + t0F7[4] + t0F7[3]) * t0F7[0] - t0F7[1];break;case 93:A0F7=t0F7[0] - t0F7[2] - t0F7[1] + t0F7[3] + t0F7[4];break;case 44:A0F7=t0F7[0] + t0F7[1] / t0F7[2];break;case 137:A0F7=-t0F7[0] * t0F7[3] - t0F7[4] - t0F7[2] + t0F7[1];break;case 12:A0F7=t0F7[1] / t0F7[2] * t0F7[3] - t0F7[0];break;case 32:A0F7=t0F7[1] + t0F7[0] + t0F7[2] - t0F7[3];break;case 171:A0F7=t0F7[4] + (t0F7[0] / t0F7[1] - t0F7[2] / t0F7[3]);break;case 135:A0F7=(t0F7[0] - t0F7[2]) / t0F7[1] - t0F7[4] + t0F7[3];break;case 134:A0F7=t0F7[2] + (t0F7[0] & t0F7[1]);break;case 9:A0F7=(t0F7[3] + t0F7[1]) / t0F7[0] - t0F7[2];break;case 122:A0F7=t0F7[2] / t0F7[1] * t0F7[3] * t0F7[0] - t0F7[4];break;case 67:A0F7=(t0F7[2] - t0F7[3]) / (t0F7[1] - t0F7[4]) > +t0F7[0];break;case 88:A0F7=t0F7[4] + (t0F7[5] - t0F7[0]) / (t0F7[3] - t0F7[2]) * (t0F7[1] - t0F7[6]);break;case 128:A0F7=(t0F7[2] + t0F7[1] + t0F7[3]) / t0F7[4] - t0F7[0];break;case 153:A0F7=(t0F7[1] - t0F7[4] - t0F7[3]) * t0F7[2] + t0F7[0];break;case 40:A0F7=t0F7[0] ^ t0F7[1];break;case 96:A0F7=t0F7[2] - t0F7[1] - t0F7[0];break;case 123:A0F7=-t0F7[0] - t0F7[1];break;case 16:A0F7=t0F7[0] / t0F7[2] * t0F7[3] + t0F7[1];break;case 27:A0F7=-t0F7[2] * t0F7[1] * t0F7[3] + t0F7[0];break;case 60:A0F7=t0F7[0] < t0F7[1];break;case 173:A0F7=-t0F7[4] + t0F7[2] - t0F7[0] - t0F7[1] + t0F7[3];break;case 52:A0F7=(t0F7[4] + t0F7[1]) * t0F7[0] + t0F7[3] - t0F7[2];break;case 163:A0F7=(-t0F7[0] - t0F7[1]) / t0F7[2] - t0F7[3] + t0F7[4];break;case 55:A0F7=t0F7[2] + t0F7[0] + t0F7[1];break;case 97:A0F7=t0F7[2] + (t0F7[1] >> t0F7[0]);break;case 110:A0F7=t0F7[2] / t0F7[0] + t0F7[1] - t0F7[3] + t0F7[4];break;case 7:A0F7=t0F7[0] - t0F7[2] + t0F7[1];break;case 151:A0F7=(t0F7[3] >> t0F7[4]) - t0F7[0] / (t0F7[1] + t0F7[2]);break;case 103:A0F7=(t0F7[0] - t0F7[2] + t0F7[1]) * t0F7[4] - t0F7[3];break;case 19:A0F7=t0F7[1] + t0F7[0] * t0F7[2];break;case 36:A0F7=t0F7[1] * t0F7[0] - t0F7[2] - t0F7[3];break;case 117:A0F7=-t0F7[1] - t0F7[2] - t0F7[3] + t0F7[4] - t0F7[0];break;case 162:A0F7=(t0F7[2] - t0F7[3]) / t0F7[4] + t0F7[1] - t0F7[0];break;case 149:A0F7=t0F7[0] * (t0F7[1] + t0F7[2]);break;case 41:A0F7=t0F7[0] / t0F7[1] - t0F7[2] + t0F7[3];break;case 79:A0F7=t0F7[1] * (t0F7[0] + t0F7[2]) / t0F7[3];break;case 0:A0F7=t0F7[1] >> t0F7[0];break;case 167:A0F7=t0F7[0] == t0F7[1];break;case 107:A0F7=t0F7[2] - (t0F7[1] ^ t0F7[0]);break;case 91:A0F7=(t0F7[2] + +t0F7[4] * t0F7[3]) / (t0F7[1] >> t0F7[0]);break;case 168:A0F7=t0F7[0] + t0F7[1] / t0F7[2] + t0F7[3];break;case 89:A0F7=(t0F7[2] * t0F7[0] + t0F7[3]) / t0F7[1];break;case 150:A0F7=t0F7[3] - t0F7[0] - t0F7[1] - t0F7[2] - t0F7[4];break;case 23:A0F7=t0F7[1] / t0F7[0] - t0F7[2];break;case 29:A0F7=(-t0F7[1] + t0F7[2]) / t0F7[0] + t0F7[3];break;case 118:A0F7=t0F7[4] * t0F7[2] * t0F7[1] * t0F7[0] - t0F7[3];break;case 69:A0F7=(t0F7[3] - t0F7[2]) * (t0F7[5] - t0F7[0]) / (t0F7[4] - t0F7[6]) + t0F7[1];break;case 47:A0F7=t0F7[1] * t0F7[4] * t0F7[3] / t0F7[0] + t0F7[2];break;case 24:A0F7=t0F7[1] / t0F7[0] + t0F7[2];break;case 99:A0F7=t0F7[0] + t0F7[1] + t0F7[3] + t0F7[2];break;case 154:A0F7=t0F7[0] - +t0F7[1];break;case 74:A0F7=(t0F7[0] << t0F7[2]) / +t0F7[1];break;case 70:A0F7=t0F7[1] - t0F7[3] + t0F7[0] - t0F7[2] - t0F7[4];break;case 59:A0F7=t0F7[1] * t0F7[0] - t0F7[2];break;case 111:A0F7=(t0F7[4] - t0F7[2]) * t0F7[1] / t0F7[3] + t0F7[0];break;case 73:A0F7=(t0F7[4] - t0F7[3]) / t0F7[2] / t0F7[0] + t0F7[1];break;case 21:A0F7=(t0F7[2] + t0F7[0]) / t0F7[4] / t0F7[3] + t0F7[1];break;case 81:A0F7=(t0F7[4] * t0F7[0] - t0F7[1] * t0F7[6]) / (t0F7[3] * t0F7[5] - t0F7[2]);break;case 165:A0F7=t0F7[3] + t0F7[0] * (t0F7[4] << t0F7[1]) + t0F7[2];break;case 34:A0F7=t0F7[1] + (t0F7[0] - t0F7[2]);break;case 130:A0F7=t0F7[0] - +t0F7[1] / (t0F7[4] + t0F7[2] / t0F7[3]);break;case 35:A0F7=t0F7[0] | t0F7[1];break;}return A0F7;},M0F7:function(H0F7){P0F7=H0F7;}};})();function G5XX(){}G5XX.N0F7=function(){return typeof G5XX[498995].c0F7 === 'function'?G5XX[498995].c0F7.apply(G5XX[498995],arguments):G5XX[498995].c0F7;};G5XX[525743]=(function(){var w6iE=2;for(;w6iE !== 9;){switch(w6iE){case 3:return A6iE[4];break;case 2:var A6iE=[arguments];A6iE[5]=undefined;A6iE[4]={};A6iE[4].o5ow=function(){var h6iE=2;for(;h6iE !== 90;){switch(h6iE){case 2:var z6iE=[arguments];h6iE=1;break;case 1:h6iE=A6iE[5]?5:4;break;case 56:z6iE[18]=z6iE[5][z6iE[52]];try{z6iE[65]=z6iE[18][z6iE[29]]()?z6iE[31]:z6iE[30];}catch(b8ow){z6iE[65]=z6iE[30];}h6iE=77;break;case 8:z6iE[6].X7F7=function(){var B5ow=typeof f8ow === 'function';return B5ow;};z6iE[4]=z6iE[6];z6iE[2]={};z6iE[2].s0F7=['w7F7'];h6iE=13;break;case 35:z6iE[23]=z6iE[94];z6iE[81]={};h6iE=33;break;case 27:z6iE[36]={};z6iE[36].s0F7=['l7F7'];z6iE[36].X7F7=function(){var q8ow=function(){return decodeURIComponent('%25');};var U8ow=!(/\x32\x35/).S8ow(q8ow + []);return U8ow;};z6iE[35]=z6iE[36];z6iE[94]={};z6iE[94].s0F7=['l7F7'];z6iE[94].X7F7=function(){var d8ow=function(){return ('aaaa').padEnd(5,'a');};var Y8ow=(/\u0061\x61\u0061\u0061\x61/).S8ow(d8ow + []);return Y8ow;};h6iE=35;break;case 33:z6iE[81].s0F7=['l7F7'];z6iE[81].X7F7=function(){var j8ow=function(){return ('aaa').includes('a');};var e8ow=(/\u0074\x72\x75\u0065/).S8ow(j8ow + []);return e8ow;};z6iE[77]=z6iE[81];z6iE[22]={};h6iE=29;break;case 48:z6iE[5].s8ow(z6iE[51]);z6iE[5].s8ow(z6iE[4]);z6iE[5].s8ow(z6iE[7]);z6iE[5].s8ow(z6iE[3]);h6iE=65;break;case 39:z6iE[92]={};z6iE[92].s0F7=['w7F7'];z6iE[92].X7F7=function(){var c8ow=typeof a8ow === 'function';return c8ow;};h6iE=36;break;case 36:z6iE[97]=z6iE[92];z6iE[5].s8ow(z6iE[23]);z6iE[5].s8ow(z6iE[77]);h6iE=52;break;case 5:return 54;break;case 76:h6iE=z6iE[72] < z6iE[18][z6iE[43]].length?75:70;break;case 4:z6iE[5]=[];z6iE[6]={};z6iE[6].s0F7=['w7F7'];h6iE=8;break;case 13:z6iE[2].X7F7=function(){var Z5ow=typeof M8ow === 'function';return Z5ow;};z6iE[1]=z6iE[2];z6iE[8]={};h6iE=10;break;case 43:z6iE[76]={};z6iE[76].s0F7=['w7F7'];z6iE[76].X7F7=function(){var T8ow=false;var A8ow=[];try{for(var p8ow in console){A8ow.s8ow(p8ow);}T8ow=A8ow.length === 0;}catch(i8ow){}var L8ow=T8ow;return L8ow;};z6iE[51]=z6iE[76];h6iE=39;break;case 58:z6iE[52]=0;h6iE=57;break;case 17:z6iE[9].s0F7=['l7F7'];z6iE[9].X7F7=function(){var V8ow=function(){return [1,2,3,4,5].concat([5,6,7,8]);};var I8ow=!(/\x28\x5b/).S8ow(V8ow + []);return I8ow;};z6iE[3]=z6iE[9];h6iE=27;break;case 75:z6iE[59]={};z6iE[59][z6iE[62]]=z6iE[18][z6iE[43]][z6iE[72]];z6iE[59][z6iE[41]]=z6iE[65];z6iE[38].s8ow(z6iE[59]);h6iE=71;break;case 10:z6iE[8].s0F7=['l7F7'];z6iE[8].X7F7=function(){var G8ow=function(){return ('X').toLowerCase();};var y8ow=(/\u0078/).S8ow(G8ow + []);return y8ow;};z6iE[7]=z6iE[8];z6iE[9]={};h6iE=17;break;case 77:z6iE[72]=0;h6iE=76;break;case 52:z6iE[5].s8ow(z6iE[1]);z6iE[5].s8ow(z6iE[91]);z6iE[5].s8ow(z6iE[35]);z6iE[5].s8ow(z6iE[97]);h6iE=48;break;case 68:h6iE=55?68:67;break;case 65:z6iE[38]=[];z6iE[31]='f0F7';z6iE[30]='g0F7';z6iE[43]='s0F7';z6iE[41]='a7F7';z6iE[29]='X7F7';h6iE=59;break;case 57:h6iE=z6iE[52] < z6iE[5].length?56:69;break;case 70:z6iE[52]++;h6iE=57;break;case 71:z6iE[72]++;h6iE=76;break;case 29:z6iE[22].s0F7=['l7F7'];z6iE[22].X7F7=function(){var g8ow=function(){return ('a').anchor('b');};var O8ow=(/(\x3c|\u003e)/).S8ow(g8ow + []);return O8ow;};z6iE[91]=z6iE[22];h6iE=43;break;case 59:z6iE[62]='W0F7';h6iE=58;break;case 69:h6iE=(function(D6iE){var Z6iE=2;for(;Z6iE !== 22;){switch(Z6iE){case 14:Z6iE=typeof N6iE[5][N6iE[2][z6iE[62]]] === 'undefined'?13:11;break;case 4:N6iE[5]={};N6iE[6]=[];N6iE[7]=0;Z6iE=8;break;case 23:return N6iE[3];break;case 2:var N6iE=[arguments];Z6iE=1;break;case 15:N6iE[9]=N6iE[6][N6iE[7]];N6iE[4]=N6iE[5][N6iE[9]].h / N6iE[5][N6iE[9]].t;Z6iE=26;break;case 13:N6iE[5][N6iE[2][z6iE[62]]]=(function(){var W2iE=2;for(;W2iE !== 9;){switch(W2iE){case 2:var d6iE=[arguments];d6iE[8]={};d6iE[8].h=0;d6iE[8].t=0;return d6iE[8];break;}}}).x8ow(this,arguments);Z6iE=12;break;case 1:Z6iE=N6iE[0][0].length === 0?5:4;break;case 26:Z6iE=N6iE[4] >= 0.5?25:24;break;case 6:N6iE[2]=N6iE[0][0][N6iE[7]];Z6iE=14;break;case 5:return;break;case 8:N6iE[7]=0;Z6iE=7;break;case 20:N6iE[5][N6iE[2][z6iE[62]]].h+=true;Z6iE=19;break;case 12:N6iE[6].s8ow(N6iE[2][z6iE[62]]);Z6iE=11;break;case 17:N6iE[7]=0;Z6iE=16;break;case 11:N6iE[5][N6iE[2][z6iE[62]]].t+=true;Z6iE=10;break;case 18:N6iE[3]=false;Z6iE=17;break;case 19:N6iE[7]++;Z6iE=7;break;case 10:Z6iE=N6iE[2][z6iE[41]] === z6iE[31]?20:19;break;case 7:Z6iE=N6iE[7] < N6iE[0][0].length?6:18;break;case 24:N6iE[7]++;Z6iE=16;break;case 25:N6iE[3]=true;Z6iE=24;break;case 16:Z6iE=N6iE[7] < N6iE[6].length?15:23;break;}}})(z6iE[38])?68:67;break;case 67:A6iE[5]=98;return 34;break;}}};w6iE=3;break;}}})();G5XX[408481]=438;G5XX[553046]=(function(){var y1Tq=function(D8Tq,Q8Tq){var Z1Tq=Q8Tq & 0xffff;var T8Tq=Q8Tq - Z1Tq;return (T8Tq * D8Tq | 0) + (Z1Tq * D8Tq | 0) | 0;},X1Tq=function(A8Tq,I8Tq,v8Tq){var k8Tq=0xcc9e2d51,L8Tq=0x1b873593;var g8Tq=v8Tq;var w8Tq=I8Tq & ~0x3;for(var z8Tq=0;z8Tq < w8Tq;z8Tq+=4){var o8Tq=A8Tq.j8Tq(z8Tq) & 0xff | (A8Tq.j8Tq(z8Tq + 1) & 0xff) << 8 | (A8Tq.j8Tq(z8Tq + 2) & 0xff) << 16 | (A8Tq.j8Tq(z8Tq + 3) & 0xff) << 24;o8Tq=y1Tq(o8Tq,k8Tq);o8Tq=(o8Tq & 0x1ffff) << 15 | o8Tq >>> 17;o8Tq=y1Tq(o8Tq,L8Tq);g8Tq^=o8Tq;g8Tq=(g8Tq & 0x7ffff) << 13 | g8Tq >>> 19;g8Tq=g8Tq * 5 + 0xe6546b64 | 0;}o8Tq=0;switch(I8Tq % 4){case 3:o8Tq=(A8Tq.j8Tq(w8Tq + 2) & 0xff) << 16;case 2:o8Tq|=(A8Tq.j8Tq(w8Tq + 1) & 0xff) << 8;case 1:o8Tq|=A8Tq.j8Tq(w8Tq) & 0xff;o8Tq=y1Tq(o8Tq,k8Tq);o8Tq=(o8Tq & 0x1ffff) << 15 | o8Tq >>> 17;o8Tq=y1Tq(o8Tq,L8Tq);g8Tq^=o8Tq;}g8Tq^=I8Tq;g8Tq^=g8Tq >>> 16;g8Tq=y1Tq(g8Tq,0x85ebca6b);g8Tq^=g8Tq >>> 13;g8Tq=y1Tq(g8Tq,0xc2b2ae35);g8Tq^=g8Tq >>> 16;return g8Tq;};return {a1Tq:X1Tq};})();G5XX[7960]=632;G5XX.y0F7=function(){return typeof G5XX[498995].M0F7 === 'function'?G5XX[498995].M0F7.apply(G5XX[498995],arguments):G5XX[498995].M0F7;};G5XX.W60P=function(){return typeof G5XX[553046].a1Tq === 'function'?G5XX[553046].a1Tq.apply(G5XX[553046],arguments):G5XX[553046].a1Tq;};function q3ow(S6iE){function J4CE(I6iE){var x6iE=2;for(;x6iE !== 5;){switch(x6iE){case 2:var Q6iE=[arguments];return Q6iE[0][0].RegExp;break;}}}function V4CE(E6iE){var q6iE=2;for(;q6iE !== 5;){switch(q6iE){case 2:var r6iE=[arguments];return r6iE[0][0].Function;break;}}}var f6iE=2;for(;f6iE !== 73;){switch(f6iE){case 39:j6iE[61]+=j6iE[90];j6iE[12]=j6iE[76];j6iE[12]+=j6iE[13];j6iE[12]+=j6iE[84];f6iE=54;break;case 43:j6iE[23]+=j6iE[48];j6iE[23]+=j6iE[90];j6iE[61]=j6iE[68];j6iE[61]+=j6iE[48];f6iE=39;break;case 59:j6iE[24]+=j6iE[8];j6iE[24]+=j6iE[6];f6iE=57;break;case 34:j6iE[48]="8o";j6iE[39]="";j6iE[39]="x";j6iE[35]=4;f6iE=30;break;case 2:var j6iE=[arguments];j6iE[8]="";j6iE[6]="al";j6iE[8]="idu";f6iE=3;break;case 57:var F4CE=function(y6iE,P6iE,b6iE,i6iE){var O6iE=2;for(;O6iE !== 5;){switch(O6iE){case 2:var e6iE=[arguments];L4CE(j6iE[0][0],e6iE[0][0],e6iE[0][1],e6iE[0][2],e6iE[0][3]);O6iE=5;break;}}};f6iE=56;break;case 3:j6iE[4]="";j6iE[4]="__res";j6iE[7]="";j6iE[7]="bstract";f6iE=6;break;case 27:j6iE[18]="s8";j6iE[84]="";j6iE[84]="e";j6iE[90]="w";f6iE=23;break;case 77:F4CE(J4CE,"test",j6iE[35],j6iE[55]);f6iE=76;break;case 30:j6iE[35]=1;j6iE[31]=9;j6iE[31]=0;j6iE[23]=j6iE[39];f6iE=43;break;case 23:j6iE[76]="__op";j6iE[68]="a";j6iE[13]="timiz";j6iE[48]="";f6iE=34;break;case 74:F4CE(V4CE,"apply",j6iE[35],j6iE[23]);f6iE=73;break;case 50:j6iE[55]+=j6iE[29];j6iE[55]+=j6iE[2];j6iE[83]=j6iE[5];j6iE[83]+=j6iE[1];f6iE=46;break;case 18:j6iE[1]="o";j6iE[25]="S";j6iE[29]="8";j6iE[18]="";f6iE=27;break;case 6:j6iE[3]="f";j6iE[9]="";j6iE[9]="_a";j6iE[5]="";f6iE=11;break;case 11:j6iE[5]="M8";j6iE[2]="ow";j6iE[1]="";j6iE[49]="_";f6iE=18;break;case 54:j6iE[26]=j6iE[18];j6iE[26]+=j6iE[1];j6iE[26]+=j6iE[90];j6iE[55]=j6iE[25];f6iE=50;break;case 46:j6iE[83]+=j6iE[90];j6iE[58]=j6iE[49];j6iE[58]+=j6iE[9];j6iE[58]+=j6iE[7];f6iE=63;break;case 55:F4CE(X4CE,j6iE[58],j6iE[31],j6iE[83]);f6iE=77;break;case 75:F4CE(X4CE,j6iE[12],j6iE[31],j6iE[61]);f6iE=74;break;case 63:j6iE[72]=j6iE[3];j6iE[72]+=j6iE[29];j6iE[72]+=j6iE[2];j6iE[24]=j6iE[4];f6iE=59;break;case 56:F4CE(X4CE,j6iE[24],j6iE[31],j6iE[72]);f6iE=55;break;case 76:F4CE(t4CE,"push",j6iE[35],j6iE[26]);f6iE=75;break;}}function t4CE(Y6iE){var l6iE=2;for(;l6iE !== 5;){switch(l6iE){case 2:var k6iE=[arguments];return k6iE[0][0].Array;break;}}}function L4CE(a6iE,M6iE,p6iE,u6iE,U6iE){var H6iE=2;for(;H6iE !== 9;){switch(H6iE){case 2:var o6iE=[arguments];o6iE[7]="Property";o6iE[2]="fine";o6iE[6]="de";try{var n6iE=2;for(;n6iE !== 8;){switch(n6iE){case 4:o6iE[5].value=o6iE[3][o6iE[0][2]];try{var B6iE=2;for(;B6iE !== 3;){switch(B6iE){case 2:o6iE[4]=o6iE[6];o6iE[4]+=o6iE[2];o6iE[4]+=o6iE[7];o6iE[0][0].Object[o6iE[4]](o6iE[3],o6iE[0][4],o6iE[5]);B6iE=3;break;}}}catch(I4CE){}o6iE[3][o6iE[0][4]]=o6iE[5].value;n6iE=8;break;case 2:o6iE[5]={};o6iE[1]=(1,o6iE[0][1])(o6iE[0][0]);o6iE[3]=[o6iE[1],o6iE[1].prototype][o6iE[0][3]];n6iE=4;break;}}}catch(a4CE){}H6iE=9;break;}}}function X4CE(T6iE){var G6iE=2;for(;G6iE !== 5;){switch(G6iE){case 2:var R6iE=[arguments];G6iE=1;break;case 1:return R6iE[0][0];break;}}}}G5XX.m2iE=function(){return typeof G5XX[525743].o5ow === 'function'?G5XX[525743].o5ow.apply(G5XX[525743],arguments):G5XX[525743].o5ow;};G5XX[294352]=false;G5XX[586378].k9HH=G5XX;G5XX.g2iE=function(){return typeof G5XX[525743].o5ow === 'function'?G5XX[525743].o5ow.apply(G5XX[525743],arguments):G5XX[525743].o5ow;};var Q71,W71,n71,L71,v71,g71,R71,X71,Y71,Z71,u6M,b6M,k6M,F6M,V6M,x6M,t6M,h6M,r6M,c6M,T6M,U6M,p6M,M6M,i6M,j6M,C6M,I6M,s6M,z6M,a6M,P6M,w6M,A6M,y6M,q6M,K6M,B6M,d6M,G6M,O6M,o6M,D6M,f6M,m6M,N6M,l6M,e6M,H6M,S6M,J6M,E6M,Q6M,W6M,n6M,L6M,v6M,g6M,R6M,X6M,Y6M,Z6M,u2M,b2M,k2M,F2M,V2M,x2M,T2M;import {CIQ as E71, SplinePlotter as t2M, timezoneJS as h2M, $$ as r2M, $$$ as c2M} from "../js/standard.js";Q71=p2M=>{var P50P,U2M;P50P="u";P50P+="nde";P50P+="fined";U2M=typeof _CIQ !== P50P?_CIQ:p2M.CIQ;U2M.Renderer.Aggregations=function(i2M){var M2M;G5XX.m2iE();this.construct(i2M);M2M=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !"1";M2M.highlightable=! !0;if(M2M.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");M2M.invalid=! !{};}};U2M.inheritsFrom(U2M.Renderer.Aggregations,U2M.Renderer.OHLC,!{});U2M.Renderer.Aggregations.requestNew=function(s2M,z2M){G5XX.m2iE();var j2M,a2M,P2M,w2M,A2M,y2M,c50P,I2M;j2M=null;a2M=! !"";P2M=![];w2M=!1;A2M=![];y2M=!1;for(var C2M="0" & 2147483647;C2M < s2M.length;C2M++){c50P="r";c50P+="an";c50P+="gebar";c50P+="s";I2M=s2M[C2M];switch(I2M){case "kagi":case "pandf":j2M=I2M;break;case "heikinashi":case "linebreak":case c50P:case "renko":j2M="candle";break;default:return null;}}if(j2M === null){return null;}return new U2M.Renderer[j2M == "candle"?"OHLC":"Aggregations"]({params:U2M.extend(z2M,{type:j2M})});};U2M.Renderer.Aggregations.prototype.drawIndividualSeries=function(d2M,K2M){var q2M,B2M,f50P,F50P,k50P,I50P;if(K2M.invalid){return;}q2M=this.stx;B2M={colors:[]};G5XX.m2iE();if(K2M.type == "kagi"){f50P="stx_k";f50P+="agi_up";q2M.drawKagiSquareWave(d2M.panel,f50P,"stx_kagi_down",K2M);B2M.colors.push(q2M.getCanvasColor("stx_kagi_up"));B2M.colors.push(q2M.getCanvasColor("stx_kagi_down"));}else if(K2M.type == "pandf"){F50P="stx_pandf_d";F50P+="own";k50P="s";k50P+="tx";k50P+="_pandf_";k50P+="down";I50P="stx";I50P+="_";I50P+="pa";I50P+="ndf_up";q2M.drawPointFigureChart(d2M.panel,I50P,(9900,+"4796") < +"1333"?!"1":(957,"369.45" - 0) === (6860,7630)?(5.97e+3,309.46):"X",K2M);B2M.colors.push(q2M.getCanvasColor("stx_pandf_up"));q2M.drawPointFigureChart(d2M.panel,k50P,("6505" ^ 0) != (746.4,4654)?1765 > "4102" >> 1206007104?5:"O":7.71e+3,K2M);B2M.colors.push(q2M.getCanvasColor(F50P));}return B2M;};G5XX.m2iE();U2M.ChartEngine.prototype.setAggregationType=function(O2M){var p50P,G2M;G5XX.m2iE();p50P="cand";p50P+="le";this.layout.chartType=p50P;G2M=this.chart;if(G2M.baseline.userLevel !== !"1"){G2M.baseline.userLevel=G2M.baseline.defaultLevel;G2M.panel.yAxis.scroll=U2M.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=O2M;this.setMainSeriesRenderer();if(G2M.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};U2M.ChartEngine.prototype.drawKagiSquareWave=function(H2M,E2M,Q2M,W2M){var v8iE=G5XX;var e2M,n2M,o2M,D2M,k8M,L2M,v2M,X2M,Y2M,g2M,R2M,Z2M,u8M,N2M,F8M,J2M,l2M,m2M,V8M,f2M,b8M;e2M=H2M.chart;this.startClip(H2M.name);n2M=e2M.dataSegment;o2M=e2M.context;D2M=H2M.yAxis;if(D2M.flipped){k8M=E2M;E2M=Q2M;Q2M=k8M;}L2M=this.canvasStyle(E2M);v2M=this.canvasStyle(Q2M);this.canvasColor(E2M);if(W2M.border_color_up){o2M.strokeStyle=W2M.border_color_up;}X2M=o2M.strokeStyle;this.canvasColor(Q2M);if(W2M.border_color_down){o2M.strokeStyle=W2M.border_color_down;}Y2M=o2M.strokeStyle;g2M=+"1";if(L2M.width && parseInt(L2M.width,"10" - 0) <= 25){g2M=Math.max(1,U2M.stripPX(L2M.width));}v8iE.y0F7(0);R2M=v8iE.N0F7(1947448544,"1");if(v2M.width && parseInt(v2M.width,"10" - 0) <= ("25" ^ 0)){R2M=Math.max(1,U2M.stripPX(v2M.width));}if(this.highlightedDraggable){o2M.globalAlpha*=0.3;}o2M.beginPath();Z2M=e2M.dataSet.length - e2M.scroll - +"1";u8M=! !{};N2M=null;F8M=null;J2M=null;v8iE.R0F7(1);var z2BP=v8iE.N0F7(4,19,77,0);l2M=H2M.left - ("0.5" - 0) * this.layout.candleWidth + this.micropixels - z2BP;v8iE.m2iE();for(var S2M=0;S2M <= n2M.length;S2M++){l2M+=this.layout.candleWidth;m2M=n2M[S2M];if(!m2M)continue;if(m2M.projection)break;J2M=m2M.kagiTrend;if(D2M.flipped){J2M*=-1;}if(m2M.transform && e2M.transformFunc){V8M=m2M.kagiPrevOpen;m2M=m2M.transform;m2M.kagiPrevOpen=e2M.transformFunc(this,e2M,V8M);}f2M=m2M.cache;v8iE.y0F7(2);b8M=v8iE.N0F7(S2M,Z2M);if(b8M < H2M.cacheLeft || b8M > H2M.cacheRight || !f2M.kagiOpen){f2M.kagiOpen=D2M.semiLog?D2M.height * (+"1" - (Math.log(Math.max(m2M.Open,0)) / Math.LN10 - D2M.logLow) / D2M.logShadow):(D2M.high - m2M.Open) * D2M.multiplier;f2M.kagiClose=D2M.semiLog?D2M.height * (1 - (Math.log(Math.max(m2M.Close,0)) / Math.LN10 - D2M.logLow) / D2M.logShadow):(D2M.high - m2M.Close) * D2M.multiplier;if(D2M.flipped){f2M.kagiOpen=D2M.bottom - f2M.kagiOpen;f2M.kagiClose=D2M.bottom - f2M.kagiClose;}else {f2M.kagiOpen+=D2M.top;f2M.kagiClose+=D2M.top;}}F8M=f2M.kagiClose;N2M=D2M.semiLog?D2M.height * (1 - (Math.log(Math.max(m2M.kagiPrevOpen,0)) / Math.LN10 - D2M.logLow) / D2M.logShadow):(D2M.high - m2M.kagiPrevOpen) * D2M.multiplier;if(D2M.flipped){N2M=D2M.bottom - N2M;}else {N2M+=D2M.top;}if(u8M){o2M.moveTo(Z2M >= 0?H2M.left:Math.floor(l2M),f2M.kagiOpen);o2M.lineTo(Math.floor(l2M),f2M.kagiOpen);if(f2M.kagiClose < f2M.kagiOpen){o2M.strokeStyle=X2M;o2M.lineWidth=g2M;}else {o2M.strokeStyle=Y2M;o2M.lineWidth=R2M;}}else {if(J2M != - +"1" && f2M.kagiClose < N2M && N2M < f2M.kagiOpen){o2M.lineTo(Math.floor(l2M),N2M);o2M.stroke();o2M.beginPath();o2M.moveTo(Math.floor(l2M),N2M);o2M.strokeStyle=X2M;o2M.lineWidth=g2M;}else if(J2M != +"1" && f2M.kagiClose > N2M && N2M > f2M.kagiOpen){o2M.lineTo(Math.floor(l2M),N2M);o2M.stroke();o2M.beginPath();o2M.moveTo(Math.floor(l2M),N2M);o2M.strokeStyle=Y2M;o2M.lineWidth=R2M;}}o2M.lineTo(Math.floor(l2M),f2M.kagiClose);if(S2M + 1 < n2M.length){o2M.lineTo(Math.floor(l2M + this.layout.candleWidth),f2M.kagiClose);}u8M=!{};}o2M.stroke();this.endClip();o2M.lineWidth=1;};U2M.ChartEngine.prototype.drawPointFigureChart=function(j8M,f8M,C8M,q8M){var C8iE=G5XX;var T8M,G8M,t8M,U8M,p8M,I8M,a8M,P8M,O8M,l8M,x8M,o8M,M8M,h8M,r8M,K8M,B8M,c8M,s8M,z8M,e8M,d8M,i8M,D8M,A8M,y8M;T8M=j8M.chart;this.startClip(j8M.name);G8M=T8M.dataSegment;function N8M(Q8M,W8M,E8M){C8iE.y0F7(3);t8M.moveTo(C8iE.n0F7(2,W8M,Q8M),C8iE.N0F7(E8M,p8M,r8M,C8iE.y0F7(4)));C8iE.y0F7(2);t8M.bezierCurveTo(C8iE.N0F7(P8M,W8M),C8iE.n0F7(E8M,p8M,r8M,C8iE.R0F7(4)),C8iE.n0F7(P8M,W8M,C8iE.y0F7(2)),C8iE.N0F7(E8M,r8M,h8M,I8M,C8iE.y0F7(5)),C8iE.n0F7(2,W8M,Q8M,C8iE.R0F7(3)),C8iE.N0F7(E8M,r8M,h8M,I8M,C8iE.R0F7(5)));C8iE.R0F7(6);t8M.bezierCurveTo(C8iE.n0F7(Q8M,a8M),C8iE.N0F7(E8M,r8M,h8M,I8M,C8iE.R0F7(5)),C8iE.n0F7(Q8M,a8M,C8iE.R0F7(6)),C8iE.n0F7(E8M,p8M,r8M,C8iE.R0F7(4)),C8iE.N0F7(2,W8M,Q8M,C8iE.y0F7(3)),C8iE.n0F7(E8M,p8M,r8M,C8iE.y0F7(4)));}t8M=T8M.context;this.canvasColor(f8M);function m8M(S8M,J8M,H8M){C8iE.y0F7(2);t8M.moveTo(C8iE.n0F7(a8M,S8M),C8iE.n0F7(H8M,r8M,I8M,C8iE.y0F7(7)));C8iE.y0F7(6);t8M.lineTo(C8iE.N0F7(J8M,P8M),C8iE.N0F7(p8M,r8M,H8M,h8M,C8iE.y0F7(8)));C8iE.y0F7(2);t8M.moveTo(C8iE.n0F7(a8M,S8M),C8iE.N0F7(p8M,r8M,H8M,h8M,C8iE.R0F7(8)));C8iE.y0F7(6);t8M.lineTo(C8iE.N0F7(J8M,P8M),C8iE.N0F7(H8M,r8M,I8M,C8iE.R0F7(7)));}if(C8M == ((196.74,895) >= (9518,+"557.02")?4760 == 7226?462.73:2089 != (239.36,9940)?"X":(0xb4c,!1):("G",!{})) && q8M.border_color_up){t8M.strokeStyle=q8M.border_color_up;}else if(C8M == "O" && q8M.border_color_down){t8M.strokeStyle=q8M.border_color_down;}U8M=this.canvasStyle(f8M);p8M=parseInt(U8M.paddingTop,10);I8M=parseInt(U8M.paddingBottom,10);a8M=parseInt(U8M.paddingLeft,10);P8M=parseInt(U8M.paddingRight,10);if(U8M.width && parseInt(U8M.width,"10" * 1) <= 25){t8M.lineWidth=Math.max(1,U2M.stripPX(U8M.width));}else {t8M.lineWidth=2;}if(this.highlightedDraggable){t8M.globalAlpha*=0.3;}t8M.beginPath();O8M=this.chart.state.aggregation.box;C8iE.y0F7(9);var G2BP=C8iE.N0F7(5,20,3,0);l8M=T8M.dataSet.length - T8M.scroll - G2BP;x8M=j8M.yAxis;h8M=O8M * x8M.multiplier;C8iE.y0F7(10);C8iE.m2iE();r8M=C8iE.n0F7(h8M,2);K8M=this.layout.candleWidth;C8iE.y0F7(11);var s2BP=C8iE.n0F7(6,2,15,43);B8M=j8M.left - K8M + this.micropixels - s2BP;for(var w8M=0;w8M < G8M.length;w8M++){B8M+=K8M;c8M=G8M[w8M];if(!c8M)continue;if(c8M.projection)break;s8M=c8M.pfOpen;z8M=c8M.pfClose;e8M=c8M.pfTrend;d8M=c8M.pfStepBack;if(c8M.transform && T8M.transformFunc){c8M=c8M.transform;s8M=T8M.transformFunc(this,T8M,s8M);z8M=T8M.transformFunc(this,T8M,z8M);}i8M=c8M.cache;C8iE.R0F7(2);D8M=C8iE.n0F7(w8M,l8M);if(D8M < j8M.cacheLeft || D8M > j8M.cacheRight || !i8M.pfOpen){if(x8M.flipped){i8M.pfOpen=x8M.bottom - (x8M.high - s8M) * x8M.multiplier;i8M.pfClose=x8M.bottom - (x8M.high - z8M) * x8M.multiplier;}else {i8M.pfOpen=(x8M.high - s8M) * x8M.multiplier + x8M.top;i8M.pfClose=(x8M.high - z8M) * x8M.multiplier + x8M.top;}}A8M=Math.round(B8M);C8iE.R0F7(2);y8M=Math.round(C8iE.n0F7(K8M,B8M));o8M=Math.abs(Math.round((z8M - s8M) / O8M));M8M=i8M.pfOpen;if(C8M == d8M){if(d8M == (910.12 <= +"437"?(220.5,635.21) > (5759,67.73)?("0x1dfc" - 0,! ![]):"875.60" * 1:"X")){C8iE.R0F7(6);m8M(A8M,y8M,C8iE.n0F7(M8M,h8M));}else if(d8M == (4900 !== (7940,1450)?(5050,9242) < 4322?"n":(294.78,+"1560") === 971.55?0x19fd:"O":0x14e3)){C8iE.y0F7(2);N8M(A8M,y8M,C8iE.N0F7(h8M,M8M));}}if(C8M == e8M){for(;o8M >= 0;o8M--){if(C8M == ("932.85" - 0 < 40.24?("E",![]):"X")){m8M(A8M,y8M,M8M,h8M,r8M);M8M-=x8M.flipped?-h8M:h8M;}else if(C8M == "O"){N8M(A8M,y8M,M8M,h8M,r8M);M8M+=x8M.flipped?-h8M:h8M;}}}}t8M.stroke();this.endClip();t8M.lineWidth=1;};U2M.ChartEngine.calculateAggregation=function(n8M,v8M,g8M,R8M){var W50P,C50P,h50P,L8M,X8M;W50P="l";W50P+="inebreak";C50P="ran";C50P+="ge";C50P+="bar";C50P+="s";h50P="heik";h50P+="inashi";X8M=n8M.layout;G5XX.g2iE();if([h50P,"heikenashi"].indexOf(v8M) > -1){L8M=U2M.calculateHeikinAshi(n8M,g8M,R8M);}else if(v8M == C50P){L8M=U2M.calculateRangeBars(n8M,g8M,X8M.rangebars,R8M);}else if(v8M == "kagi"){L8M=U2M.calculateKagi(n8M,g8M,X8M.kagi,R8M);}else if(v8M == W50P){L8M=U2M.calculateLineBreak(n8M,g8M,X8M.priceLines,R8M);}else if(v8M == "renko"){L8M=U2M.calculateRenkoBars(n8M,g8M,X8M.renko,R8M);}else if(v8M == "pandf"){L8M=U2M.calculatePointFigure(n8M,g8M,X8M.pandf,R8M);}return L8M;};U2M.calculateHeikinAshi=function(M3M,c3M,T3M){var g8iE=G5XX;var V3M,Y8M,Z8M,t3M,k3M,u3M,b3M,F3M,U3M,p3M,h3M,f80P,I80P,k80P;if(!c3M.length){return c3M;}if(!T3M){T3M=[];}V3M=[];for(var x3M=0;x3M < c3M.length;x3M++){Y8M=c3M[x3M];if(!Y8M)continue;g8iE.y0F7(12);var y2BP=g8iE.N0F7(5,3,3,6);Z8M=V3M[V3M.length - y2BP];if(!Z8M && !x3M){g8iE.R0F7(6);var Z2BP=g8iE.n0F7(11,10);Z8M=T3M[T3M.length - Z2BP];}if(!Z8M){Z8M=Y8M;}t3M=Y8M.Close;k3M=Y8M.Open;u3M=Y8M.High;b3M=Y8M.Low;F3M=Z8M.Open;k3M=k3M || k3M === +"0"?k3M:t3M;u3M=u3M || u3M === 0?u3M:t3M;b3M=b3M || b3M === 0?b3M:t3M;F3M=F3M || F3M === 0?F3M:Z8M.Close;g8iE.R0F7(2);var R0BP=g8iE.N0F7(2,0);U3M=(F3M + Z8M.Close) / R0BP;g8iE.R0F7(13);p3M=g8iE.N0F7(4,u3M,b3M,k3M,t3M);h3M={DT:Y8M.DT,displayDate:Y8M.displayDate,Date:Y8M.Date,Open:U3M,Close:p3M,High:Math.max(u3M,Math.max(U3M,p3M)),Low:Math.min(b3M,Math.min(U3M,p3M)),Volume:Y8M.Volume,iqPrevClose:Z8M.Close};for(var r3M in Y8M){if(!h3M[r3M] && h3M[r3M] !== 0){h3M[r3M]=Y8M[r3M];}}V3M.push(h3M);}f80P=247811235;I80P=136535217;k80P=2;g8iE.g2iE();for(var p80P=1;g8iE.C60P(p80P.toString(),p80P.toString().length,99028) !== f80P;p80P++){return V3M;}if(g8iE.W60P(k80P.toString(),k80P.toString().length,"75616" >> 1454657056) !== I80P){return V3M;}};U2M.calculateKagi=function(q3M,s3M,I3M,A3M){var s8iE=G5XX;var y3M,P3M,a3M,i3M,B3M,C3M,K3M,j3M;if(!s3M.length){return s3M;}if(!A3M){A3M=[];}y3M=q3M.layout;P3M=q3M.chart;I3M=parseFloat(I3M);P3M.defaultChartStyleConfig.kagi=U2M.ChartEngine.isDailyInterval(y3M.interval)?4:+"0.4";if(isNaN(I3M) || I3M <= 0){I3M=P3M.defaultChartStyleConfig.kagi;if(U2M.Market.Symbology.isForexSymbol(P3M.symbol)){I3M/=+"4";}if(y3M.kagi !== null){y3M.kagi=null;q3M.changeOccurred("layout");}}I3M/=100;a3M=[];s8iE.R0F7(2);var Y0BP=s8iE.n0F7(1,0);i3M=A3M[A3M.length - ("1" | Y0BP)];s8iE.g2iE();B3M=i3M?i3M.DT:0;for(var z3M="0" - 0;z3M < s3M.length;z3M++){C3M=s3M[z3M];if(!C3M)continue;if(!i3M){s8iE.R0F7(14);i3M=s3M[s8iE.N0F7(1,z3M,"1")];}if(!i3M)continue;K3M=i3M.Open || i3M.Open === 0?i3M.Open:i3M.Close;if(K3M > i3M.Close){if(C3M.Close > i3M.Close * (1 + I3M)){C3M.Open=i3M.Close;}else {if(i3M.Close > C3M.Close){i3M.Close=C3M.Close;}i3M.Volume+=C3M.Volume;if(z3M < s3M.length - 1)continue;}}else if(K3M < i3M.Close){if(C3M.Close < i3M.Close * (1 - I3M)){C3M.Open=i3M.Close;}else {if(i3M.Close < C3M.Close){i3M.Close=C3M.Close;}i3M.Volume+=C3M.Volume;if(z3M < s3M.length - 1)continue;}}else {i3M.Close=C3M.Close;i3M.Volume+=C3M.Volume;if(z3M < s3M.length - 1)continue;}j3M={DT:i3M.DT,displayDate:i3M.displayDate,Date:i3M.Date,Open:i3M.Open,Close:i3M.Close,High:Math.max(i3M.Open,i3M.Close),Low:Math.min(i3M.Open,i3M.Close),Volume:i3M.Volume,iqPrevClose:i3M.iqPrevClose};for(var w3M in i3M){if(!j3M[w3M] && j3M[w3M] !== 0){j3M[w3M]=i3M[w3M];}}if(a3M.length){j3M.kagiPrevOpen=a3M[a3M.length - 1].Open;}else {j3M.kagiPrevOpen=j3M.Open;}if(j3M.Close > j3M.kagiPrevOpen && j3M.kagiPrevOpen > j3M.Open){j3M.kagiTrend=1;}else if(j3M.Close < j3M.kagiPrevOpen && j3M.kagiPrevOpen < j3M.Open){s8iE.y0F7(0);j3M.kagiTrend=-s8iE.N0F7(1606038016,"1");}if(B3M < j3M.DT){a3M.push(j3M);}i3M=C3M;P3M.currentQuote={Close:C3M.Close};}return a3M;};U2M.calculateLineBreak=function(L3M,J3M,O3M,v3M){var W8iE=G5XX;var E3M,Q3M,o3M,g3M,W3M,d3M,D3M,f3M,l3M,e3M,m3M,G3M,N3M,H3M;if(!J3M.length){return J3M;}if(!v3M){v3M=[];}E3M=L3M.layout;Q3M=L3M.chart;W8iE.g2iE();Q3M.defaultChartStyleConfig.priceLines=3;O3M=parseInt(O3M,10);if(isNaN(O3M) || O3M <= 0){O3M=Q3M.defaultChartStyleConfig.priceLines;if(E3M.priceLines !== null){E3M.priceLines=null;L3M.changeOccurred("layout");}}else if(O3M > 10){E3M.priceLines=O3M=10;}o3M=v3M.slice(-O3M);g3M=o3M.length;W3M=0;a:for(var n3M=0;n3M < J3M.length;n3M++){d3M=J3M[n3M];if(!d3M)continue;W3M+=d3M.Volume;W8iE.y0F7(15);var L0BP=W8iE.n0F7(18,13,15,9,3);D3M=o3M[o3M.length - L0BP];if(!D3M){D3M={Open:d3M.Open,Close:d3M.Open,High:d3M.Open,Low:d3M.Open};}f3M=D3M.Close;l3M=D3M.High;e3M=D3M.Low;m3M=D3M.Open;l3M=l3M || l3M === 0?l3M:f3M;e3M=e3M || e3M === "0" * 1?e3M:f3M;m3M=m3M || m3M === 0?m3M:f3M;G3M={DT:d3M.DT,displayDate:d3M.displayDate,Date:d3M.Date,Close:d3M.Close,Volume:W3M,iqPrevClose:f3M};Q3M.currentQuote={Close:d3M.Close};if(d3M.Close > f3M && D3M.Close > m3M){;}else if(d3M.Close < f3M && D3M.Close < m3M){;}else if(d3M.Close > l3M){for(N3M=2;N3M <= O3M;N3M++){H3M=o3M[o3M.length - N3M];if(H3M && d3M.Close <= H3M.High){continue a;}}}else if(d3M.Close < e3M){for(N3M=2;N3M <= O3M;N3M++){H3M=o3M[o3M.length - N3M];if(H3M && d3M.Close >= H3M.Low){continue a;}}}else continue;if(d3M.Close < D3M.Close){G3M.Open=Math.min(m3M,f3M);}else {G3M.Open=Math.max(m3M,f3M);}G3M.Low=Math.min(G3M.Open,G3M.Close);G3M.High=Math.max(G3M.Open,G3M.Close);for(var S3M in d3M){if(!G3M[S3M] && G3M[S3M] !== 0){G3M[S3M]=d3M[S3M];}}o3M.push(G3M);W8iE.R0F7(0);W3M=W8iE.N0F7(360442464,"0");}return o3M.slice(g3M);};U2M.calculateRenkoBars=function(V4M,X3M,R3M,x4M){var Z2iE=G5XX;Z2iE.g2iE();var t4M,k4M,F4M,C4M,T4M,h4M,O50P,U4M,Y3M,Z3M,u4M,p4M,b4M,M4M,i4M,j4M;if(!X3M.length){return [];}if(!x4M){x4M=[];}t4M=V4M.layout;k4M=V4M.chart;F4M=k4M.state.aggregation;if(!F4M){F4M=k4M.state.aggregation={};}function r4M(I4M,s4M){var z4M;I4M=Number(I4M.toFixed("8" | 8));s4M=Number(s4M.toFixed(+"8"));z4M={DT:u4M.DT,displayDate:u4M.displayDate,Date:u4M.Date,Open:I4M,Close:s4M,High:Math.max(I4M,s4M),Low:Math.min(I4M,s4M),Volume:0,iqPrevClose:I4M != s4M?I4M:null};for(var a4M in u4M){if(!z4M[a4M] && z4M[a4M] !== 0){z4M[a4M]=u4M[a4M];}}U4M.push(z4M);}C4M=Math.min(300,X3M.length);if(!F4M.minMax){F4M.minMax=V4M.determineMinMax(X3M.slice(X3M.length - C4M),["Close","High","Low"]);}Z2iE.y0F7(9);var i0BP=Z2iE.N0F7(1,6,5,0);T4M=F4M.minMax[i0BP] - F4M.minMax[0];h4M=V4M.panels[k4M.name].height;if(!h4M){return [];}Z2iE.R0F7(16);var t0BP=Z2iE.N0F7(1250,7250,5,11);Z2iE.y0F7(17);var K0BP=Z2iE.N0F7(43,2,15,1);Z2iE.R0F7(2);var q0BP=Z2iE.N0F7(5000,5000);k4M.defaultChartStyleConfig.renko=Math.floor(t0BP * T4M / (h4M / K0BP)) / q0BP;if(R3M === null || isNaN(R3M) || R3M <= 0){R3M=k4M.defaultChartStyleConfig.renko;if(t4M.renko !== null){t4M.renko=null;V4M.changeOccurred("layout");}}else {Z2iE.R0F7(10);R3M=Math.max(R3M,Z2iE.n0F7(T4M,h4M));if(t4M.renko !== R3M){O50P="la";O50P+="y";O50P+="ou";O50P+="t";t4M.renko=R3M;V4M.changeOccurred(O50P);}}U4M=[];Y3M=null;Z3M=null;u4M=null;if(x4M.length){Z2iE.y0F7(18);var b0BP=Z2iE.N0F7(18,14,33,0);p4M=x4M[x4M.length - b0BP];Y3M=p4M.Low - R3M;Z3M=p4M.High + R3M;}for(var c4M=0;c4M < X3M.length;c4M++){b4M=X3M[c4M];if(!b4M)continue;if(!Y3M && !Z3M){M4M=b4M.Open || b4M.Open === 0?b4M.Open:b4M.Close;i4M=Math.floor(M4M / R3M) * R3M;j4M=isNaN(i4M)?M4M:i4M;Z2iE.y0F7(6);Y3M=Z2iE.N0F7(j4M,R3M);Z2iE.R0F7(2);Z3M=Z2iE.n0F7(R3M,j4M);}while(! ![]){if(!u4M){u4M=b4M;}if(b4M.Close <= Y3M){Z2iE.R0F7(2);r4M(Z2iE.N0F7(R3M,Y3M),Y3M);Z2iE.R0F7(19);Z3M=Z2iE.n0F7(2,Y3M,R3M);Y3M-=R3M;u4M=null;}else if(b4M.Close >= Z3M){Z2iE.y0F7(6);r4M(Z2iE.n0F7(Z3M,R3M),Z3M);Z2iE.y0F7(20);Y3M=Z2iE.N0F7("2",R3M,Z3M,1);Z3M+=R3M;u4M=null;}else break;}k4M.currentQuote=b4M;}if(Y3M < X3M[X3M.length - +"1"].Close && Y3M + R3M > X3M[X3M.length - ("1" ^ 0)].Close){Z2iE.y0F7(2);r4M(Z2iE.n0F7(R3M,Y3M),X3M[X3M.length - 1].Close);}else if(Z3M > X3M[X3M.length - +"1"].Close && Z3M - R3M < X3M[X3M.length - 1].Close){Z2iE.R0F7(6);r4M(Z2iE.N0F7(Z3M,R3M),X3M[X3M.length - 1].Close);}return U4M;};U2M.calculateRangeBars=function(l4M,B4M,w4M,S4M){var h2iE=G5XX;var Q50P,H4M,e4M,f4M,v4M,Q4M,J4M,l50P,W70P,O70P,Q70P,W4M,P4M,d4M,G4M,E4M,O4M,A4M,N4M,o4M,y4M,q4M,K4M,L4M,R4M;Q50P="H";Q50P+="ig";Q50P+="h";if(!B4M.length){return B4M;}if(!S4M){S4M=[];}H4M=l4M.layout;e4M=l4M.chart;function g4M(Z4M){var X4M;X4M={DT:O4M.DT,displayDate:O4M.displayDate,Date:O4M.Date,Open:Number(E4M.toFixed("8" & 2147483647)),Close:Number(Z4M.toFixed(8)),High:Number(d4M.toFixed(8)),Low:Number(G4M.toFixed(+"8")),Volume:+"0"};X4M.iqPrevClose=X4M.Open;for(var Y4M in O4M){if(!X4M[Y4M] && X4M[Y4M] !== 0){X4M[Y4M]=O4M[Y4M];}}W4M.push(X4M);}function n4M(){h2iE.m2iE();h2iE.R0F7(2);d4M=h2iE.n0F7(w4M,P4M);h2iE.R0F7(6);G4M=h2iE.n0F7(P4M,w4M);E4M=P4M;}f4M=e4M.state.aggregation;if(!f4M){f4M=e4M.state.aggregation={};}v4M=Math.min(300,B4M.length);if(!f4M.minMax){f4M.minMax=l4M.determineMinMax(B4M.slice(B4M.length - v4M),["Close",Q50P,"Low"]);}h2iE.R0F7(6);var m0BP=h2iE.n0F7(13,12);Q4M=f4M.minMax[m0BP] - f4M.minMax[0];J4M=l4M.panels[e4M.name].height;if(!J4M){return [];}function m4M(b7M,u7M){h2iE.g2iE();while(+"1"){if(!O4M){O4M=b7M;}if(P4M < u7M){P4M=Math.min(u7M,d4M);h2iE.y0F7(6);G4M=Math.max(G4M,h2iE.n0F7(P4M,w4M));if(u7M < d4M)break;}else if(P4M >= u7M){P4M=Math.max(u7M,G4M);h2iE.R0F7(2);d4M=Math.min(d4M,h2iE.n0F7(w4M,P4M));if(u7M > G4M)break;}if(typeof P4M == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}g4M(P4M);O4M=null;n4M();}}h2iE.y0F7(16);var T0BP=h2iE.n0F7(625,9910,125,18);h2iE.y0F7(6);h2iE.m2iE();var e0BP=h2iE.N0F7(510,480);h2iE.y0F7(21);var P0BP=h2iE.n0F7(9,9995,9996,2001,1);e4M.defaultChartStyleConfig.range=Math.floor(T0BP * Q4M / (J4M / e0BP)) / P0BP;if(w4M === null || isNaN(w4M) || w4M < 0){w4M=e4M.defaultChartStyleConfig.range;if(H4M.range !== null){l50P="lay";l50P+="out";H4M.range=null;l4M.changeOccurred(l50P);}}else {W70P=-875852393;O70P=- +"2012201393";Q70P=2;for(var B70P=1;h2iE.C60P(B70P.toString(),B70P.toString().length,63272) !== W70P;B70P++){h2iE.y0F7(2);w4M=Math.max(w4M,h2iE.N0F7(J4M,Q4M));Q70P+=2;}if(h2iE.C60P(Q70P.toString(),Q70P.toString().length,36307) !== O70P){h2iE.y0F7(10);w4M=Math.max(w4M,h2iE.n0F7(Q4M,J4M));}if(H4M.range !== w4M){H4M.range=w4M;l4M.changeOccurred("layout");}}W4M=[];P4M=null;d4M=null;G4M=null;E4M=null;O4M=null;for(var D4M=0;D4M < B4M.length;D4M++){A4M=B4M[D4M];if(!A4M)continue;h2iE.R0F7(6);N4M=B4M[h2iE.N0F7(D4M,1)];if(!D4M){if(!N4M){h2iE.R0F7(6);var c0BP=h2iE.N0F7(2,1);N4M=S4M[S4M.length - c0BP];}if(N4M){P4M=N4M.Close;if(P4M || P4M === 0){n4M();}}}if(!N4M)continue;o4M=A4M.Close;y4M=A4M.Open;q4M=A4M.High;K4M=A4M.Low;if(!o4M && o4M !== 0)continue;y4M=y4M || y4M === 0?y4M:o4M;q4M=q4M || q4M === 0?q4M:o4M;K4M=K4M || K4M === 0?K4M:o4M;if(!P4M && P4M !== +"0"){L4M=Math.floor(y4M / w4M) * w4M;P4M=isNaN(L4M)?y4M:L4M;n4M();m4M(N4M,y4M);}if(D4M){m4M(A4M,y4M);}if(q4M - y4M < y4M - K4M){if(q4M){m4M(A4M,q4M);}if(K4M){m4M(A4M,K4M);}}else {if(K4M){m4M(A4M,K4M);}if(q4M){m4M(A4M,q4M);}}m4M(A4M,o4M);if(D4M == B4M.length - 1 && o4M != E4M){R4M=d4M;h2iE.R0F7(2);d4M=h2iE.n0F7(w4M,G4M);h2iE.y0F7(6);G4M=h2iE.n0F7(R4M,w4M);g4M(o4M);}}return W4M;};U2M.calculatePointFigure=function(a7M,P7M,A7M,y7M){var w2iE=G5XX;var c7M,p7M,q7M,k7M,h7M,M7M,s7M,z7M,C7M,r7M,t7M,T7M,F7M,U7M,I7M,V7M,x7M,i7M,j7M;if(!P7M.length){return P7M;}if(!y7M){y7M=[];}c7M=a7M.layout;p7M=a7M.chart;q7M=p7M.state.aggregation;if(!q7M){q7M=p7M.state.aggregation={};}p7M.defaultChartStyleConfig.box=1;function B7M(o7M,O7M){for(var G7M in o7M){if(!O7M[G7M] && O7M[G7M] !== 0){O7M[G7M]=o7M[G7M];}}return O7M;}p7M.defaultChartStyleConfig.reversal=3;if(!A7M){A7M={};}k7M=A7M.box;if(!k7M){if(c7M.pandf){if(c7M.pandf.box !== null){c7M.pandf.box=null;a7M.changeOccurred("layout");}}k7M=p7M.defaultChartStyleConfig.box;h7M=P7M[P7M.length - 1].Close;if(h7M){if(h7M < 0.25){k7M=+"0.0625";}else if(h7M < 1){k7M=0.125;}else if(h7M < 5){k7M=0.25;}else if(h7M < 20){w2iE.R0F7(22);k7M=w2iE.N0F7(1,"0.5");}else if(h7M < 100){w2iE.y0F7(22);k7M=w2iE.N0F7(1,"1");}else if(h7M < 200){k7M=2;}else if(h7M < +"500"){k7M=4;}else if(h7M < 1000){k7M=5;}else if(h7M < 25000){k7M=50;}else {k7M=500;}}if(!U2M.ChartEngine.isDailyInterval(c7M.interval)){k7M/=10;}if(U2M.Market.Symbology.isForexSymbol(p7M.symbol)){if(h7M){if(h7M < "1" << 14987520){k7M=0.001;}else if(h7M < +"2"){k7M=0.002;}else if(h7M < +"50"){k7M=0.02;}else if(h7M < "200" >> 1615849152){k7M=0.2;}}if(U2M.ChartEngine.isDailyInterval(c7M.interval)){k7M*=10;}}p7M.defaultChartStyleConfig.box=k7M;}k7M=parseFloat(k7M);if(isNaN(k7M) || k7M <= 0){if(c7M.pandf){if(c7M.pandf.box !== null){c7M.pandf.box=null;a7M.changeOccurred("layout");}}p7M.defaultChartStyleConfig.box=k7M=1;}M7M=Math.ceil(parseFloat(A7M.reversal));if(M7M > 0 && M7M > A7M.reversal){c7M.pandf.reversal=M7M;a7M.changeOccurred("layout");}else if(isNaN(M7M) || M7M <= +"0"){if(c7M.pandf){if(c7M.pandf.reversal !== null){c7M.pandf.reversal=null;a7M.changeOccurred("layout");}}M7M=p7M.defaultChartStyleConfig.reversal;}q7M.box=k7M;M7M*=k7M;s7M=0.00000001;z7M=(k7M.toString() + ".").split(".")[1].length;C7M=[];r7M=0;function w7M(D7M,f7M,m7M,N7M,l7M){w2iE.g2iE();D7M.High=Math.max(f7M,D7M.High);D7M.Low=Math.min(m7M,D7M.Low);D7M.Close=N7M;D7M.Volume+=l7M;}for(var K7M=0;K7M < P7M.length;K7M++){T7M=P7M[K7M];if(!T7M)continue;r7M+=T7M.Volume;U7M=T7M.Close;I7M=T7M.Open;V7M=T7M.High;x7M=T7M.Low;I7M=I7M || I7M === 0?I7M:U7M;V7M=V7M || V7M === 0?V7M:U7M;x7M=x7M || x7M === 0?x7M:U7M;if(!C7M.length && !y7M.length){t7M=B7M(T7M,d7M(T7M,I7M,V7M,x7M,U7M,r7M,V7M + k7M,Number((Math.ceil(x7M / k7M - s7M) * k7M).toFixed(z7M)),Number((Math.floor(V7M / k7M + s7M) * k7M).toFixed(z7M))));t7M.pfTrend=(2240,8880) == (6390,518.87)?"f":"X";if(t7M.pfOpen == t7M.pfClose){t7M.pfStepBack=158 >= (781,"6310" * 1)?(! ![],!{}):(1637,856.11) > (+"311",+"2980")?551.58:"-";}C7M.push(t7M);r7M=0;continue;}w2iE.y0F7(23);var f0BP=w2iE.N0F7(3,3,0);F7M=C7M[C7M.length - f0BP];if(!F7M){F7M=U2M.clone(y7M[y7M.length - 1]);}if(F7M.pfTrend == ((867.53,2783) !== (217.37,241)?(3870,3130) != +"4640"?"O":818 > 6980?(!1,311.83):(3.72e+3,0xb33):(883.68,604.73))){if(x7M <= F7M.pfClose - k7M){F7M.pfClose=Number((Math.ceil(x7M / k7M - s7M) * k7M).toFixed(z7M));if(F7M.pfStepBack == ((625.21,9670) === 8407?! ![]:"O")){F7M.pfStepBack=null;}w7M(F7M,V7M,x7M,U7M,r7M);}else if(V7M >= F7M.pfClose + M7M){i7M=F7M.pfClose + k7M;j7M=Number((Math.floor(V7M / k7M + s7M) * k7M).toFixed(z7M));t7M=d7M(T7M,I7M,V7M,x7M,U7M,r7M,F7M.pfClose,i7M,j7M);if(i7M == j7M){t7M.pfStepBack=(3200,8435) === (8330,8259)?("J","7.23e+3" | 2068):"X";}if(F7M.pfStepBack == "O"){F7M.pfOpen=i7M;F7M.pfClose=j7M;F7M.pfTrend="X";w7M(F7M,V7M,x7M,U7M,r7M);}else {t7M=B7M(T7M,t7M);t7M.pfTrend="X";C7M.push(t7M);}}else {w7M(F7M,V7M,x7M,U7M,r7M);}r7M=0;}else if(F7M.pfTrend == "X"){if(V7M >= F7M.pfClose + k7M){F7M.pfClose=Number((Math.floor(V7M / k7M + s7M) * k7M).toFixed(z7M));if(F7M.pfStepBack == (3846 === (1310,"8534" << 1955904448)?"8298" * 1 <= (365.75,1041)?(0x1ab3,4.14e+3):"1330" << 1761333472 == 1500?(+"948.52",8.62e+3):("0xaa1" << 692355680,0xe0f):"X") || F7M.pfStepBack == "-"){F7M.pfStepBack=null;}w7M(F7M,V7M,x7M,U7M,r7M);}else if(x7M <= F7M.pfClose - M7M){i7M=F7M.pfClose - k7M;j7M=Number((Math.ceil(x7M / k7M - s7M) * k7M).toFixed(z7M));t7M=d7M(T7M,I7M,V7M,x7M,U7M,r7M,F7M.pfClose,i7M,j7M);if(i7M == j7M){t7M.pfStepBack=8592 == ("0" - 0,22.09)?"k":448 <= 1580?"O":"2.08e+3" >> 1290793664;}if(F7M.pfStepBack == (447 <= 215.21?(! ![],7.36e+2):468.81 == (8470,+"2967")?("B",5.03e+3):"X") || F7M.pfStepBack == ((3815,3810) >= (5810,8150)?(! !"",158.15):(7360,6397) === (419.98,165.24)?0x1aa3:"-")){F7M.pfOpen=i7M;F7M.pfClose=j7M;F7M.pfTrend=7520 < (104.69,105.75)?![]:"O";w7M(F7M,V7M,x7M,U7M,r7M);if(i7M != j7M && F7M.pfStepBack == (4916 == (6310,10)?584.93:"-")){F7M.pfStepBack=null;}}else {t7M=B7M(T7M,t7M);t7M.pfTrend=2525 < 8000?901.77 == (+"247.32",7350)?! !0:"O":670.49;C7M.push(t7M);}}else {w7M(F7M,V7M,x7M,U7M,r7M);}r7M=0;}}function d7M(e7M,H7M,S7M,J7M,E7M,Q7M,W7M,n7M,L7M){return {DT:e7M.DT,Date:e7M.Date,pfOpen:n7M,pfClose:L7M,Open:H7M,Close:E7M,High:S7M,Low:J7M,Volume:Q7M,iqPrevClose:W7M};}return C7M;};};W71=R7M=>{var v7M,g7M,J40P,S40P,A40P,a40P,Q40P,I40P,f40P,e40P,T40P,H50P,N50P,d50P;v7M=typeof _CIQ !== "undefined"?_CIQ:R7M.CIQ;g7M=typeof _timezoneJS !== "undefined"?_timezoneJS:R7M.timezoneJS;if(!v7M.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {J40P="p";J40P+="attern";S40P="lineWid";S40P+="th";A40P="fil";A40P+="lColo";A40P+="r";a40P="c";a40P+="ol";a40P+="o";a40P+="r";Q40P="l";Q40P+="ine";Q40P+="W";Q40P+="idth";I40P="cq-cvp-controller[cq-cvp-head";I40P+="er=\"2\"]";f40P="c";f40P+="q-cvp-controller[cq-c";f40P+="vp-header=\"";f40P+="1\"]";e40P="pattern";e40P+="2";T40P="pa";T40P+="t";T40P+="t";T40P+="ern1";H50P="l";H50P+="i";H50P+="neWi";H50P+="dth";N50P="c";N50P+="o";N50P+="lor";d50P="lineW";d50P+="idth";v7M.Drawing.ray=function(){this.name="ray";};v7M.inheritsFrom(v7M.Drawing.ray,v7M.Drawing.line);v7M.Drawing.ray.prototype.calculateOuterSet=function(Z7M){var t1iE=G5XX;t1iE.g2iE();var X7M,Y7M;if(this.p0[+"0"] == this.p1[+"0"] || this.p0["1" - 0] == this.p1[1] || v7M.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}X7M={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};t1iE.R0F7(24);var I0BP=t1iE.N0F7(5,4000,200);Y7M=X7M.x1 + I0BP;if(X7M.x0 > X7M.x1){t1iE.y0F7(24);var k0BP=t1iE.N0F7(2,994,503);Y7M=X7M.x1 - k0BP;}this.v0B=this.v0;this.v1B=v7M.yIntersection(X7M,Y7M);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(Y7M,Z7M.chart);};v7M.Drawing.ray.prototype.adjust=function(){var u1M;u1M=this.stx.panels[this.panelName];if(!u1M){return;}this.setPoint(0,this.d0,this.v0,u1M.chart);this.setPoint(1,this.d1,this.v1,u1M.chart);if(v7M.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,u1M.chart);}};v7M.Drawing.continuous=function(){G5XX.m2iE();this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};v7M.inheritsFrom(v7M.Drawing.continuous,v7M.Drawing.segment);v7M.Drawing.continuous.prototype.click=function(h1M,k1M,F1M){G5XX.g2iE();var b1M,x1M,V1M,t1M;b1M=this.stx.panels[this.panelName];if(!b1M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,k1M,F1M,b1M.chart);this.penDown=!"";return !{};}if(this.accidentalClick(k1M,F1M)){this.stx.undo();return ! ![];}this.setPoint(1,k1M,F1M,b1M.chart);x1M=v7M.Drawing.segment;V1M=new x1M();t1M=this.serialize(this.stx);V1M.reconstruct(this.stx,t1M);this.stx.addDrawing(V1M);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return ! !{};}this.setPoint(0,k1M,F1M,b1M.chart);return !"1";};v7M.Drawing.ellipse=function(){this.name="ellipse";};v7M.inheritsFrom(v7M.Drawing.ellipse,v7M.Drawing.BaseTwoPoint);v7M.Drawing.ellipse.prototype.render=function(r1M){var X1iE=G5XX;var U1M,w1M,j1M,C1M,I1M,p1M,s1M,z1M,a1M,P1M,M1M,c1M,T1M,i1M,A1M;U1M=this.stx.panels[this.panelName];if(!U1M){return;}w1M=this.stx.pixelFromTick(this.p0[+"0"],U1M.chart);j1M=this.stx.pixelFromTick(this.p1["0" ^ 0],U1M.chart);C1M=this.stx.pixelFromValueAdjusted(U1M,this.p0[0],this.p0[1]);I1M=this.stx.pixelFromValueAdjusted(U1M,this.p1[0],this.p1[+"1"]);X1iE.R0F7(25);p1M=X1iE.n0F7(w1M,w1M,j1M);s1M=j1M;z1M=C1M;a1M=I1M;X1iE.R0F7(25);P1M=X1iE.n0F7(C1M,C1M,I1M);X1iE.y0F7(26);M1M=X1iE.N0F7(P1M,83325984,a1M,"6");c1M=this.lineWidth;if(!c1M){c1M=1.1;}T1M=this.color;if(T1M == "auto" || v7M.isTransparent(T1M)){T1M=this.stx.defaultColor;}X1iE.m2iE();if(this.highlighted){T1M=this.stx.getCanvasColor("stx_highlight_vector");if(c1M == 0.1){c1M=1.1;}}i1M=this.fillColor;r1M.beginPath();r1M.moveTo(p1M,z1M);X1iE.y0F7(2);r1M.bezierCurveTo(p1M,X1iE.N0F7(M1M,a1M),s1M,X1iE.N0F7(M1M,a1M),s1M,z1M);X1iE.y0F7(6);r1M.bezierCurveTo(s1M,X1iE.N0F7(P1M,M1M),p1M,X1iE.N0F7(P1M,M1M),p1M,z1M);if(i1M && !v7M.isTransparent(i1M) && i1M != "auto"){r1M.fillStyle=i1M;r1M.globalAlpha=0.2;r1M.fill();r1M.globalAlpha=1;}if(T1M && this.pattern != "none"){r1M.strokeStyle=T1M;r1M.lineWidth=c1M;if(r1M.setLineDash){r1M.setLineDash(v7M.borderPatternToArray(c1M,this.pattern));r1M.lineDashOffset=0;;}r1M.stroke();}r1M.closePath();if(this.highlighted){A1M=this.highlighted == "p1"?! !{}:!{};this.littleCircle(r1M,j1M,I1M,A1M);}};v7M.Drawing.ellipse.prototype.intersected=function(G1M,O1M,y1M){var F1iE=G5XX;var B50P,q1M,K1M,B1M,d1M;if(!this.p0 || !this.p1){return null;}F1iE.g2iE();if(this.pointIntersection(this.p1[0],this.p1["1" - 0],y1M)){B50P="p";B50P+="1";this.highlighted=B50P;return {action:"drag",point:"p1"};}q1M=this.p0[0] - (this.p1[0] - this.p0[0]);K1M=this.p1[0];B1M=this.p1[1];F1iE.R0F7(27);var F0BP=F1iE.n0F7(1121,16,10,7);F1iE.y0F7(28);var p0BP=F1iE.N0F7(2,8,8);d1M=this.p0[F0BP] - (this.p1[p0BP] - this.p0[+"1"]);if(y1M.x0 > Math.max(q1M,K1M) || y1M.x1 < Math.min(q1M,K1M)){return ![];}if(y1M.y1 > Math.max(d1M,B1M) || y1M.y0 < Math.min(d1M,B1M)){return !1;}this.highlighted=! ![];return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:G1M,value:O1M};};v7M.Drawing.ellipse.prototype.configs=["color","fillColor",d50P,"pattern"];v7M.Drawing.ellipse.prototype.reconstruct=function(D1M,o1M){this.stx=D1M;this.color=o1M.col;this.fillColor=o1M.fc;this.panelName=o1M.pnl;this.pattern=o1M.ptrn;this.lineWidth=o1M.lw;this.d0=o1M.d0;this.d1=o1M.d1;this.tzo0=o1M.tzo0;this.tzo1=o1M.tzo1;this.v0=o1M.v0;this.v1=o1M.v1;this.adjust();};v7M.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};v7M.Drawing.channel=function(){this.name="channel";this.dragToDraw=!{};this.p2=null;};v7M.inheritsFrom(v7M.Drawing.channel,v7M.Drawing.segment);v7M.Drawing.channel.prototype.configs=["color","fillColor","lineWidth","pattern"];v7M.Drawing.channel.prototype.move=function(l1M,f1M,m1M){var N1M;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[f1M,m1M];}else {G5XX.y0F7(4);var h0BP=G5XX.n0F7(0,15,14);G5XX.R0F7(4);var C0BP=G5XX.N0F7(1,10,10);N1M=m1M - (this.p1[h0BP] - this.p0[C0BP]) / (this.p1["0" | 0] - this.p0[0]) * (f1M - this.p1[0]);this.p2=[this.p1[0],N1M];}this.render(l1M);};v7M.Drawing.channel.prototype.click=function(J1M,H1M,S1M){var e1M;e1M=this.stx.panels[this.panelName];if(!e1M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,H1M,S1M,e1M.chart);this.penDown=!"";return ![];}if(this.accidentalClick(H1M,S1M)){this.stx.undo();return ! ![];}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],e1M.chart);this.penDown=!"1";return !0;}this.setPoint(+"1",H1M,S1M,e1M.chart);if(this.p0[0] == this.p1[+"0"]){this.p1=null;return !"1";}this.p2=[this.p1[0],this.p1[+"1"]];return !"1";};v7M.Drawing.channel.prototype.boxIntersection=function(L1M,R1M,W1M){var C1iE=G5XX;var E1M,Q1M,n1M,v1M,g1M;E1M=this.p0;Q1M=this.p1;n1M=this.p2;if(!E1M || !Q1M || !n1M){return ![];}if(W1M.x0 > Math.max(E1M[0],Q1M[0]) || W1M.x1 < Math.min(E1M["0" ^ 0],Q1M[0])){return ![];}C1iE.R0F7(29);var W0BP=C1iE.n0F7(1,17,4,14);C1iE.y0F7(6);var O0BP=C1iE.N0F7(12,11);C1iE.y0F7(30);var Q0BP=C1iE.N0F7(11,78,7);C1iE.R0F7(7);var l0BP=C1iE.n0F7(1344963037,14,11);C1iE.y0F7(31);var B0BP=C1iE.n0F7(20,10,1,5,109);v1M=(Q1M[0] - E1M[0]) * ((n1M[W0BP] < E1M[O0BP]?W1M.y1:W1M.y0) - E1M[Q0BP]) - (Q1M["1" << l0BP] - E1M[B0BP]) * (L1M - E1M[0]);C1iE.y0F7(23);var d0BP=C1iE.N0F7(7,7,0);C1iE.y0F7(31);var U0BP=C1iE.n0F7(14,3,10,13,318);C1iE.y0F7(9);var w0BP=C1iE.N0F7(5,17,6,18);C1iE.R0F7(32);var o0BP=C1iE.N0F7(8,0,20,27);C1iE.R0F7(2);var u0BP=C1iE.n0F7(1,0);g1M=(n1M[0] - E1M[0]) * ((n1M[d0BP] > E1M[U0BP]?W1M.y1:W1M.y0) - (E1M[w0BP] + n1M[+"1"] - Q1M[+"1"])) - (Q1M[o0BP] - E1M[u0BP]) * (L1M - E1M[0]);C1iE.R0F7(33);return C1iE.n0F7(0,g1M,v1M);};v7M.Drawing.channel.prototype.intersected=function(Z1M,u5M,b5M){var Y1M,U50P;if(!this.p0 || !this.p1 || !this.p2){return null;}Y1M={0:this.p0,1:this.p1,2:this.p2};for(var X1M in Y1M){if(this.pointIntersection(Y1M[X1M][0],Y1M[X1M][1],b5M)){U50P="dra";U50P+="g";G5XX.y0F7(2);this.highlighted=G5XX.N0F7(X1M,"p");return {action:U50P,point:((8788,0.96) > "4129" >> 2109808480?!0:"p") + X1M};}}G5XX.m2iE();if(this.boxIntersection(Z1M,u5M,b5M)){this.highlighted=!"";return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),p2:v7M.clone(this.p2),tick:Z1M,value:u5M};}return null;};v7M.Drawing.channel.prototype.render=function(k5M){var w50P,F5M,t5M,V5M,h5M,r5M,x5M,p5M,U5M,c5M,T5M,M5M,i5M,j5M;w50P="a";w50P+="u";w50P+="to";F5M=this.stx.panels[this.panelName];if(!F5M){return;}t5M=this.stx.pixelFromTick(this.p0[0],F5M.chart);V5M=this.stx.pixelFromTick(this.p1[+"0"],F5M.chart);h5M=this.stx.pixelFromValueAdjusted(F5M,this.p0[0],this.p0[1]);r5M=this.stx.pixelFromValueAdjusted(F5M,this.p1[0],this.p1[1]);x5M=null;if(this.p2){x5M=this.stx.pixelFromValueAdjusted(F5M,this.p2[0],this.p2[+"1"]);}p5M=this.lineWidth;U5M=this.getLineColor();c5M=this.fillColor;if(this.p2 && c5M && !v7M.isTransparent(c5M) && c5M != w50P){k5M.beginPath();k5M.moveTo(t5M,h5M);k5M.lineTo(V5M,r5M);k5M.lineTo(V5M,x5M);G5XX.R0F7(34);k5M.lineTo(t5M,G5XX.n0F7(x5M,h5M,r5M));k5M.closePath();k5M.globalAlpha=0.2;k5M.fillStyle=c5M;k5M.fill();k5M.globalAlpha=1;}T5M={pattern:this.pattern,lineWidth:p5M};if((this.penDown || this.highlighted) && this.pattern == "none"){T5M.pattern="dotted";}this.stx.plotLine(t5M,V5M,h5M,r5M,U5M,"segment",k5M,F5M,T5M);if(this.p2){G5XX.R0F7(34);this.stx.plotLine(t5M,V5M,G5XX.n0F7(x5M,h5M,r5M),x5M,U5M,"segment",k5M,F5M,T5M);}if(this.highlighted){M5M=this.highlighted == "p0"?! !{}:!{};i5M=this.highlighted == "p1"?! ![]:!{};j5M=this.highlighted == "p2"?! !1:!{};this.littleCircle(k5M,t5M,h5M,M5M);this.littleCircle(k5M,V5M,r5M,i5M);this.littleCircle(k5M,V5M,x5M,j5M);}};v7M.Drawing.channel.prototype.reposition=function(a5M,C5M,P5M,w5M){var o50P,I5M,s5M,z5M;o50P="m";o50P+="o";o50P+="v";G5XX.m2iE();o50P+="e";if(!C5M){return;}I5M=this.stx.panels[this.panelName];s5M=C5M.tick - P5M;z5M=C5M.value - w5M;if(C5M.action == o50P){this.setPoint(0,C5M.p0[0] - s5M,C5M.p0[1] - z5M,I5M.chart);this.setPoint(1,C5M.p1[0] - s5M,C5M.p1[1] - z5M,I5M.chart);this.setPoint(2,C5M.p2[0] - s5M,C5M.p2[1] - z5M,I5M.chart);this.render(a5M);}else if(C5M.action == "drag"){this[C5M.point]=[P5M,w5M];this.setPoint(+"0",this.p0[0],this.p0[1],I5M.chart);this.setPoint(1,this.p1[0],this.p1[1],I5M.chart);this.setPoint(2,this.p2[0],this.p2[1],I5M.chart);this.render(a5M);}};v7M.Drawing.channel.prototype.adjust=function(){var A5M,V70P,E70P,z70P;A5M=this.stx.panels[this.panelName];if(!A5M){return;}this.setPoint(0,this.d0,this.v0,A5M.chart);V70P=-459972222;E70P=522287679;z70P=2;for(var s70P=1;G5XX.C60P(s70P.toString(),s70P.toString().length,85518) !== V70P;s70P++){this.setPoint(1,this.d1,this.v1,A5M.chart);z70P+=2;}if(G5XX.W60P(z70P.toString(),z70P.toString().length,66248) !== E70P){this.setPoint(3,this.d1,this.v1,A5M.chart);}this.setPoint(2,this.d1,this.v2,A5M.chart);;};v7M.Drawing.channel.prototype.reconstruct=function(q5M,y5M){this.stx=q5M;this.color=y5M.col;this.fillColor=y5M.fc;this.panelName=y5M.pnl;this.pattern=y5M.ptrn;this.lineWidth=y5M.lw;this.d0=y5M.d0;this.d1=y5M.d1;this.tzo0=y5M.tzo0;this.tzo1=y5M.tzo1;G5XX.g2iE();this.v0=y5M.v0;this.v1=y5M.v1;this.v2=y5M.v2;this.adjust();};v7M.Drawing.channel.prototype.serialize=function(){G5XX.g2iE();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};v7M.Drawing.pitchfork=function(){var u50P;u50P="pi";u50P+="tchfor";u50P+="k";this.name=u50P;this.dragToDraw=![];this.p2=null;};v7M.inheritsFrom(v7M.Drawing.pitchfork,v7M.Drawing.channel);v7M.Drawing.pitchfork.prototype.configs=[N50P,"lineWidth","pattern"];v7M.Drawing.pitchfork.prototype.move=function(d5M,K5M,B5M){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[K5M,B5M];}else {this.p2=[K5M,B5M];}this.render(d5M);};v7M.Drawing.pitchfork.prototype.intersected=function(f5M,m5M,N5M){var o5M,D5M,r50P;if(!this.p0 || !this.p1 || !this.p2){return null;}o5M={0:this.p0,1:this.p1,2:this.p2};for(var O5M in o5M){if(this.pointIntersection(o5M[O5M][0],o5M[O5M][1],N5M)){G5XX.R0F7(2);this.highlighted=G5XX.N0F7(O5M,"p");return {action:"drag",point:(8716 != ("3360" * 1,462.09)?"p":5207 >= (6421,505.52)?"B":142.71) + O5M};}}D5M=this.rays;G5XX.g2iE();for(var G5M=0;G5M < D5M.length;G5M++){r50P="segm";r50P+="e";r50P+="nt";if(this.lineIntersection(f5M,m5M,N5M,G5M?"ray":r50P,D5M[G5M][0],D5M[G5M]["1" << 1492103904],! ![])){this.highlighted=! !{};return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),p2:v7M.clone(this.p2),tick:f5M,value:m5M};}}return null;};v7M.Drawing.pitchfork.prototype.render=function(v5M){var D5iE=G5XX;var l5M,e5M,Q5M,g5M,H5M,S5M,R5M,J5M,E5M,Z5M,u0M,b0M,W5M,X5M,Y5M,a50P,L5M,k0M,j50P,A50P,F0M,V0M,x0M;l5M=this.stx.panels[this.panelName];if(!l5M){return;}D5iE.m2iE();e5M=this.stx;Q5M=this.p2;if(!Q5M){Q5M=this.p1;}g5M=e5M.pixelFromTick(this.p0[0],l5M.chart);H5M=e5M.pixelFromTick(this.p1[0],l5M.chart);S5M=e5M.pixelFromTick(Q5M["0" - 0],l5M.chart);R5M=e5M.pixelFromValueAdjusted(l5M,this.p0[+"0"],this.p0[1]);J5M=e5M.pixelFromValueAdjusted(l5M,this.p1[0],this.p1[1]);E5M=e5M.pixelFromValueAdjusted(l5M,Q5M[+"0"],Q5M[1]);Z5M=this.lineWidth;u0M=this.getLineColor();b0M={pattern:this.pattern,lineWidth:Z5M};D5iE.R0F7(35);W5M=D5iE.n0F7("50",48);D5iE.y0F7(36);X5M=D5iE.N0F7(R5M,2,J5M,E5M);D5iE.y0F7(36);Y5M=D5iE.N0F7(g5M,2,H5M,S5M);if(Y5M < ("0" | 0)){W5M*=-1;}D5iE.y0F7(10);X5M*=D5iE.N0F7(W5M,Y5M);D5iE.y0F7(3);this.rays=[[[H5M,J5M],[S5M,E5M]],[[g5M,R5M],[D5iE.n0F7(2,S5M,H5M),D5iE.N0F7(2,E5M,J5M)]]];if(!(H5M == S5M && J5M == E5M)){D5iE.y0F7(6);this.rays.push([[H5M,J5M],[D5iE.n0F7(H5M,W5M),D5iE.N0F7(J5M,X5M)]],[[S5M,E5M],[D5iE.n0F7(S5M,W5M),D5iE.N0F7(E5M,X5M)]]);}for(var n5M=0;n5M < this.rays.length;n5M++){a50P="r";a50P+="a";a50P+="y";L5M=this.rays[n5M];k0M=n5M?a50P:"segment";e5M.plotLine(L5M[0][0],L5M[1][0],L5M[0][1],L5M["1" << 1853713056]["1" ^ 0],u0M,k0M,v5M,l5M,b0M);}if(this.highlighted){j50P="p";j50P+="2";A50P="p";A50P+="1";F0M=this.highlighted == "p0"?! !{}:!{};V0M=this.highlighted == A50P?! ![]:!"1";x0M=this.highlighted == j50P?!"":!1;this.littleCircle(v5M,g5M,R5M,F0M);this.littleCircle(v5M,H5M,J5M,V0M);this.littleCircle(v5M,S5M,E5M,x0M);}};v7M.Drawing.pitchfork.prototype.adjust=function(){var t0M;t0M=this.stx.panels[this.panelName];if(!t0M){return;}this.setPoint(0,this.d0,this.v0,t0M.chart);this.setPoint(1,this.d1,this.v1,t0M.chart);this.setPoint(2,this.d2,this.v2,t0M.chart);};v7M.Drawing.pitchfork.prototype.reconstruct=function(r0M,h0M){this.stx=r0M;G5XX.m2iE();this.color=h0M.col;this.panelName=h0M.pnl;this.pattern=h0M.ptrn;this.lineWidth=h0M.lw;this.d0=h0M.d0;this.d1=h0M.d1;this.d2=h0M.d2;this.tzo0=h0M.tzo0;this.tzo1=h0M.tzo1;this.tzo2=h0M.tzo2;this.v0=h0M.v0;this.v1=h0M.v1;this.v2=h0M.v2;this.adjust();};v7M.Drawing.pitchfork.prototype.serialize=function(){G5XX.m2iE();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};v7M.Drawing.gartley=function(){this.name="gartley";this.dragToDraw=!{};this.maxSegments=+"4";this.shape=null;this.points=[];};v7M.inheritsFrom(v7M.Drawing.gartley,v7M.Drawing.continuous);v7M.Drawing.gartley.prototype.check=function(T0M,c0M){var z5iE=G5XX;var x80P,M80P,S80P;if(!c0M){return ! ![];}z5iE.m2iE();if(T0M[0] >= c0M[+"0"] || T0M[+"1"] == c0M[1]){return ! !0;}if(this.segment == 1){z5iE.R0F7(37);x80P=z5iE.n0F7("126076350",7521440);z5iE.R0F7(38);M80P=-z5iE.n0F7("1512090479",2147483647);S80P=2;for(var X80P=1;z5iE.C60P(X80P.toString(),X80P.toString().length,75344) !== x80P;X80P++){if(T0M[+"1"] < c0M[1]){this.shape="M";}else {this.shape="W";}S80P+=2;}if(z5iE.W60P(S80P.toString(),S80P.toString().length,63409) !== M80P){if(T0M[6] >= c0M[8]){this.shape="W";}else {this.shape="W";}}}else if(this.segment == 2){if(this.shape == "M" && T0M[1] < c0M[1]){return !"1";}else if(this.shape == "W" && T0M[+"1"] > c0M[1]){return ! !0;}else if((c0M[1] - T0M[+"1"]) / (this.points[0][1] - T0M[1]) < 0.618){return ![];}else if((c0M[1] - T0M[1]) / (this.points[0][1] - T0M[1]) >= 0.786){return !1;}}else if(this.segment == 3){if(this.shape == "M" && T0M[1] > c0M[1]){return ! !0;}else if(this.shape == (990.88 < 4550?"W":6015 !== (4230,2137)?(139.59,"R"):("V","m")) && T0M[1] < c0M[1]){return ! !"";}else if((c0M[1] - T0M["1" * 1]) / (this.points[1][1] - T0M[1]) < 0.618){return ![];}else if((c0M[1] - T0M[1]) / (this.points[1][1] - T0M[1]) >= "0.786" - 0){return !{};}}else if(this.segment == 4){if(this.shape == (3538 === 497.44?0x2489:+"3480" <= (+"9710",261)?("H",0x8fd):"M") && (T0M[1] < c0M[1] || c0M[1] < this.points[0][1])){return !{};}else if(this.shape == "W" && (T0M[1] > c0M[1] || c0M[1] > this.points[0][1])){return !1;}else if((this.points[1][+"1"] - c0M[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return ![];}else if((this.points[1][1] - c0M[1]) / (this.points[1][1] - this.points[2]["1" - 0]) >= 1.618){return ![];}}return ! !1;};v7M.Drawing.gartley.prototype.click=function(i0M,p0M,M0M){var U0M;U0M=this.stx.panels[this.panelName];if(!U0M){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,p0M,M0M,U0M.chart);this.pts=[];this.penDown=! !"1";G5XX.y0F7(0);this.segment=G5XX.n0F7(1787833440,"1");return !1;}if(this.accidentalClick(p0M,M0M)){this.penDown=!"";return ![];}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,p0M,M0M,U0M.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[0][1],U0M.chart);this.penDown=!{};return ! !"1";}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(+"0",p0M,M0M,U0M.chart);;}return ![];};v7M.Drawing.gartley.prototype.render=function(C0M){var G5iE=G5XX;var n50P,j0M,O0M,A0M,o0M,y0M,z0M,e70P,P70P,c70P,D0M,q0M,w0M,P0M,s0M,K0M,B0M,d0M,G0M;n50P="n";n50P+="o";n50P+="ne";j0M=this.stx.panels[this.panelName];if(!j0M){return;}O0M=this.stx.pixelFromTick(this.p0[0],j0M.chart);A0M=this.stx.pixelFromTick(this.p1[0],j0M.chart);o0M=this.stx.pixelFromValueAdjusted(j0M,this.p0[0],this.p0[1]);y0M=this.stx.pixelFromValueAdjusted(j0M,this.p1[0],this.p1[+"1"]);if(this.segment == 2){this.drawDropZone(C0M,+"0.618" * this.points["0" & 2147483647][1] + "0.382" * 1 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0["0" ^ 0]);}else if(this.segment == 3){this.drawDropZone(C0M,0.618 * this.points[1][1] + +"0.382" * this.p0[1],0.786 * this.points[1][1] + +"0.214" * this.p0[1],this.p0[0]);}else if(this.segment == 4){G5iE.R0F7(36);var N0BP=G5iE.n0F7(5,18,14,74);G5iE.y0F7(23);var r0BP=G5iE.N0F7(2,6,2);G5iE.R0F7(39);var a0BP=G5iE.n0F7(8,8,8,0,8);G5iE.R0F7(7);var A0BP=G5iE.n0F7(0,21,20);z0M=1.618 * this.points[N0BP][r0BP] - 0.618 * this.points[a0BP][A0BP];e70P=1409131414;G5iE.R0F7(35);P70P=G5iE.n0F7("443173069",308936837);c70P=2;for(var I70P=1;G5iE.W60P(I70P.toString(),I70P.toString().length,14486) !== e70P;I70P++){if(this.shape === ""){z0M=Math.max(z0M,this.points[1][+"7"]);}else {z0M=Math.min(z0M,this.points[2][5]);}this.drawDropZone(C0M,z0M,5519 / this.points["3" & 2147483647][3] * (1134 / this.points[6][0]),this.p0[8]);c70P+=2;}if(G5iE.C60P(c70P.toString(),c70P.toString().length,32304) !== P70P){if(this.shape == "M"){z0M=Math.max(z0M,this.points[0][1]);}else {z0M=Math.min(z0M,this.points[0][1]);}this.drawDropZone(C0M,z0M,1.27 * this.points[+"2"][1] - +"0.27" * this.points[1][1],this.p0[0]);}}D0M=this.lineWidth;G5iE.g2iE();q0M=this.getLineColor();w0M={pattern:this.pattern,lineWidth:D0M};if((this.penDown || this.highlighted) && this.pattern == n50P){w0M.pattern="dotted";}if(this.segment <= this.maxSegments){this.stx.plotLine(O0M,A0M,o0M,y0M,q0M,this.name,C0M,j0M,w0M);}P0M=this.fillColor;s0M=[];if(this.points.length){C0M.beginPath();for(var I0M=1;I0M < this.points.length && I0M <= +"4";I0M++){K0M=this.stx.pixelFromTick(this.points[I0M - 1][0],j0M.chart);B0M=this.stx.pixelFromTick(this.points[I0M][0],j0M.chart);d0M=this.stx.pixelFromValueAdjusted(j0M,this.points[I0M - 1][0],this.points[I0M - 1][1]);G0M=this.stx.pixelFromValueAdjusted(j0M,this.points[I0M]["0" >> 1211725120],this.points[I0M][1]);if(I0M == "1" - 0){s0M.push(K0M,d0M);}s0M.push(B0M,G0M);this.stx.plotLine(K0M,B0M,d0M,G0M,q0M,this.name,C0M,j0M,w0M);}if(this.points.length == 2 || this.points.length == +"4"){s0M.push(A0M,y0M);}if(this.points[2]){s0M.push(this.stx.pixelFromTick(this.points[2][0],j0M.chart),this.stx.pixelFromValueAdjusted(j0M,this.points[2][0],this.points[2][1]));}if(P0M && P0M != "auto" && !v7M.isTransparent(P0M)){for(var a0M=0;a0M < s0M.length;a0M+=2){if(a0M === 0){C0M.moveTo(s0M[0],s0M["1" & 2147483647]);}C0M.lineTo(s0M[a0M],s0M[a0M + 1]);}C0M.fillStyle=P0M;C0M.globalAlpha=0.2;C0M.closePath();C0M.fill();G5iE.R0F7(0);C0M.globalAlpha=G5iE.n0F7(1152234400,"1");}};};v7M.Drawing.gartley.prototype.lineIntersection=function(l0M,e0M,H0M,S0M){var f0M,N0M;f0M=this.points;N0M=this.stx.panels[this.panelName];G5XX.m2iE();if(f0M.length != this.maxSegments + 1 || !N0M){return !1;}for(var m0M="0" >> 25125280;m0M < f0M.length - 1;m0M++){if(v7M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,l0M,e0M,H0M,"segment",f0M[m0M],f0M[m0M + ("1" ^ 0)])){return ! !{};}}return !{};};v7M.Drawing.gartley.prototype.boxIntersection=function(n0M,L0M,E0M){G5XX.g2iE();var Q0M,W0M;if(!this.p0 || !this.p1){return !1;}if(E0M.x0 > Math.max(this.p0[0],this.p1[0]) || E0M.x1 < Math.min(this.p0[0],this.p1[0])){return !{};}Q0M=Math.min(this.p0[1],this.p1[1]);W0M=Math.max(this.p0[1],this.p1[1]);for(var J0M=0;J0M < this.points.length;J0M++){Q0M=Math.min(Q0M,this.points[J0M][1]);W0M=Math.max(W0M,this.points[J0M][1]);}if(E0M.y1 > W0M || E0M.y0 < Q0M){return !{};}return !0;};v7M.Drawing.gartley.prototype.reposition=function(b9M,g0M,X0M,Y0M){var R0M,Z0M,u9M;if(!g0M){return;}R0M=this.stx.panels[this.panelName];Z0M=g0M.tick - X0M;g0M.tick=X0M;u9M=g0M.value - Y0M;g0M.value=Y0M;if(g0M.action == "move"){this.pts=[];for(var v0M=+"0";v0M < this.points.length;v0M++){this.points[v0M][0]-=Z0M;this.points[v0M][1]-=u9M;this.setPoint(1,this.points[v0M][+"0"],this.points[v0M][1],R0M.chart);if(v0M && v0M < this.points.length - ("1" | 1)){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[v0M]=this.p1;}this.setPoint(0,this.points[0][+"0"],this.points[0][1],R0M.chart);this.render(b9M);;}};v7M.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];v7M.Drawing.gartley.prototype.adjust=function(){var k9M;k9M=this.stx.panels[this.panelName];if(!k9M){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,k9M.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,k9M.chart);this.points.push(this.p1);};v7M.Drawing.gartley.prototype.reconstructPoints=function(){var x9M,V9M;x9M=this.stx.panels[this.panelName];if(!x9M){return;}this.points=[];for(var F9M=0;F9M < this.pts.length;F9M+=3){V9M=v7M.strToDateTime(this.pts[F9M]);V9M.setMinutes(V9M.getMinutes() + Number(this.pts[F9M + 1]) - V9M.getTimezoneOffset());this.points.push([this.stx.tickFromDate(v7M.yyyymmddhhmmssmmm(V9M),x9M.chart),this.pts[F9M + +"2"]]);}};v7M.Drawing.gartley.prototype.reconstruct=function(h9M,t9M){this.stx=h9M;G5XX.g2iE();this.color=t9M.col;this.fillColor=t9M.fc;this.panelName=t9M.pnl;this.pattern=t9M.ptrn;this.lineWidth=t9M.lw;this.d0=t9M.d0;this.d1=t9M.d1;this.tzo0=t9M.tzo0;this.tzo1=t9M.tzo1;this.v0=t9M.v0;this.v1=t9M.v1;this.pts=t9M.pts.split(441.81 >= (621.97,5670)?("205.83" - 0,"P"):("3917" >> 1797704384,7310) !== 7880?",":547.09);this.adjust();};v7M.Drawing.gartley.prototype.serialize=function(){G5XX.g2iE();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join((4515,502.71) <= (4220,8220)?(630.21,4270) >= (609.36,7320)?! ![]:(640.98,799.02) > ("8950" | 544)?323.07:",":(!1,"l"))};};v7M.Drawing.freeform=function(){var v50P;v50P="free";v50P+="form";this.name=v50P;this.splineTension=0.3;this.dragToDraw=! ![];};v7M.inheritsFrom(v7M.Drawing.freeform,v7M.Drawing.segment);v7M.Drawing.freeform.prototype.measure=function(){};v7M.Drawing.freeform.prototype.intersected=function(c9M,T9M,r9M){var g50P;g50P="m";g50P+="o";g50P+="v";g50P+="e";G5XX.m2iE();if(r9M.x0 > this.hiX || r9M.x1 < this.lowX){return null;}if(r9M.y1 > this.hiY || r9M.y0 < this.lowY){return null;}this.highlighted=! !{};return {action:g50P,p0:v7M.clone(this.p0),tick:c9M,value:T9M};};v7M.Drawing.freeform.prototype.reposition=function(j9M,U9M,C9M,I9M){var x50P,p9M,M9M,i9M;x50P="mo";x50P+="v";x50P+="e";if(!U9M){return;}p9M=this.stx.panels[this.panelName];M9M=U9M.tick - C9M;i9M=U9M.value - I9M;if(U9M.action == x50P){this.setPoint(0,U9M.p0[0] - M9M,U9M.p0[1] - i9M,p9M.chart);this.adjust();this.render(j9M);}};v7M.Drawing.freeform.prototype.click=function(w9M,z9M,P9M){var s9M,a9M;s9M=this.stx.panels[this.panelName];if(!s9M){return;}if(this.penDown === ! !0){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(z9M,s9M.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(s9M,z9M,P9M)));a9M=this.stx.dateFromTick(z9M,s9M.chart,! !1);this.d0=v7M.yyyymmddhhmmssmmm(a9M);this.tzo0=a9M.getTimezoneOffset();this.v0=P9M;this.p0=[v7M.ChartEngine.crosshairX - this.startX,v7M.ChartEngine.crosshairY - this.startY];G5XX.R0F7(40);this.nodes=[this.p0[0],this.p0[G5XX.n0F7("1",0)]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=s9M.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! ![];return ! !0;}this.penDown=! !0;this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! !1;};v7M.Drawing.freeform.prototype.move=function(q9M,K9M,B9M){var A9M,y9M;G5XX.m2iE();if(!this.penDown){return;}A9M=this.stx.panels[this.panelName];y9M=this.stx.dateFromTick(K9M,A9M.chart,! !{});this.d1=v7M.yyyymmddhhmmssmmm(y9M);this.tzo1=y9M.getTimezoneOffset();this.v1=B9M;this.p1=[v7M.ChartEngine.crosshairX - this.startX,A9M.yAxis.flipped?this.startY - v7M.ChartEngine.crosshairY:v7M.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[+"0"] == this.pNodes[this.pNodes.length - 1][+"0"]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - ("1" & 2147483647)][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(q9M);return ! !"";};v7M.Drawing.freeform.prototype.intervalRatio=function(D9M,d9M,e9M,H9M,O9M,o9M){var f5iE=G5XX;var G9M,M50P,A80P,j80P,n80P,J50P,S50P,D50P,X50P;function f9M(v9M,L9M){if(v7M.Market.Symbology.isForexSymbol(L9M)){return 1440;}f5iE.g2iE();return 390;}G9M=0;if(D9M == d9M){G9M=1;}else if(!isNaN(D9M) && !isNaN(d9M)){f5iE.y0F7(10);G9M=f5iE.n0F7(D9M,d9M);}else if(isNaN(D9M)){if(D9M == "month"){if(d9M == "week"){G9M=l9M(O9M,o9M);}else if(d9M == "day"){G9M=N9M(O9M,o9M);}else if(!isNaN(d9M)){G9M=N9M(O9M,o9M) * f9M(O9M,o9M) / d9M;}}else if(D9M == "week"){M50P="d";M50P+="a";M50P+="y";if(d9M == "month"){f5iE.y0F7(2);var j0BP=f5iE.N0F7(1,0);G9M=j0BP / l9M(O9M,o9M);}if(d9M == M50P){G9M=m9M(O9M,o9M);}else if(!isNaN(d9M)){G9M=m9M(O9M,o9M) * f9M(O9M,o9M) / d9M;}}else if(D9M == "day"){A80P=1880960970;j80P=-1759405345;n80P=2;for(var g80P=1;f5iE.W60P(g80P.toString(),g80P.toString().length,"91168" << 726707904) !== A80P;g80P++){J50P="m";J50P+="o";J50P+="n";J50P+="th";S50P="w";S50P+="e";S50P+="e";S50P+="k";if(d9M === S50P){G9M=0 % m9M(O9M,o9M);}else if(d9M != J50P){G9M=("3" ^ 0) - N9M(O9M,o9M);}else if(-isNaN(d9M)){G9M=f9M(O9M,o9M) % d9M;}n80P+=+"2";}if(f5iE.W60P(n80P.toString(),n80P.toString().length,44254) !== j80P){D50P="mon";D50P+="t";D50P+="h";X50P="w";X50P+="ee";X50P+="k";if(d9M == X50P){f5iE.y0F7(2);var n0BP=f5iE.N0F7(1,0);G9M=n0BP / m9M(O9M,o9M);}else if(d9M == D50P){f5iE.y0F7(4);var v0BP=f5iE.n0F7(0,17,16);G9M=v0BP / N9M(O9M,o9M);}else if(!isNaN(d9M)){G9M=f9M(O9M,o9M) / d9M;}}}}else if(!isNaN(D9M)){if(d9M == "month"){G9M=D9M / (N9M(O9M,o9M) * f9M(O9M,o9M));}else if(d9M == "week"){G9M=D9M / (m9M(O9M,o9M) * f9M(O9M,o9M));}else if(d9M == "day"){G9M=D9M / f9M(O9M,o9M);}}function m9M(E9M,Q9M){return 5;}f5iE.g2iE();function N9M(W9M,n9M){return 30;}f5iE.y0F7(10);G9M*=f5iE.N0F7(e9M,H9M);function l9M(S9M,J9M){f5iE.m2iE();return 5;}return G9M;};v7M.Drawing.freeform.prototype.render=function(F25){var T5iE=G5XX;var g9M,Z9M,V25,x25,t25,u25,R9M,h25,b25,k25,r25,Y9M;g9M=this.stx.panels[this.panelName];if(!g9M){return;}Z9M=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,g9M.chart.symbol);if(Z9M === 0){return;}V25=this.stx.layout.candleWidth / this.candleWidth;x25=g9M.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,g9M.chart);t25=this.stx.pixelFromTick(this.p0[0],g9M.chart);u25=this.stx.pixelFromValueAdjusted(g9M,this.p0["0" | 0],this.p0[1]);R9M=[];h25=this.lineWidth;T5iE.m2iE();b25=this.getLineColor();k25={pattern:this.pattern,lineWidth:h25};for(var X9M=0;X9M < this.pNodes.length;X9M++){r25=Z9M * V25 * this.pNodes[X9M][+"0"] + t25;T5iE.y0F7(41);var g0BP=T5iE.N0F7(4,1,16,13);Y9M=x25 * this.pNodes[X9M][g0BP];if(g9M.yAxis.flipped){T5iE.R0F7(6);Y9M=T5iE.n0F7(u25,Y9M);}else {Y9M+=u25;}R9M.push(r25,Y9M);}if(!R9M.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(R9M,b25,this.name,F25,g9M,k25);}else {this.stx.plotSpline(R9M,this.splineTension,b25,this.name,F25,! ![],k25);}};v7M.Drawing.freeform.prototype.adjust=function(){var c25,I25,T25,i25,j25,p25,C25,M25;c25=this.stx.panels[this.panelName];if(!c25){return;}I25=[this.nodes[0],this.nodes[1]];this.pNodes=[I25];this.lowX=this.nodes[0];this.hiX=this.nodes[0];G5XX.y0F7(37);this.lowY=this.nodes[G5XX.N0F7("1",1868458080)];this.hiY=this.nodes[1];for(var U25=2;U25 < this.nodes.length;U25+=2){G5XX.R0F7(2);T25=[this.nodes[U25],this.nodes[G5XX.N0F7(1,U25)]];this.pNodes.push(T25);this.lowX=Math.min(this.lowX,T25["0" | 0]);this.hiX=Math.max(this.hiX,T25[0]);this.lowY=Math.max(this.lowY,T25[+"1"]);this.hiY=Math.min(this.hiY,T25[1]);}i25=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,c25.chart.symbol);if(i25 === 0){return;}j25=this.stx.layout.candleWidth / this.candleWidth;p25=c25.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,c25.chart);C25=this.stx.pixelFromTick(this.p0["0" & 2147483647],c25.chart);M25=this.stx.pixelFromValueAdjusted(c25,this.p0[0],this.p0["1" & 2147483647]);this.lowX=this.stx.tickFromPixel(Math.floor(i25 * j25 * this.lowX) + C25,c25.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(i25 * j25 * this.hiX) + C25,c25.chart);if(c25.yAxis.flipped){this.lowY=this.stx.valueFromPixel(M25 - Math.floor(p25 * this.lowY),c25);this.hiY=this.stx.valueFromPixel(M25 - Math.ceil(p25 * this.hiY),c25);}else {this.lowY=this.stx.valueFromPixel(Math.floor(p25 * this.lowY) + M25,c25);this.hiY=this.stx.valueFromPixel(Math.ceil(p25 * this.hiY) + M25,c25);}};v7M.Drawing.freeform.prototype.serialize=function(){G5XX.g2iE();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};v7M.Drawing.freeform.prototype.reconstruct=function(z25,s25){this.stx=z25;this.color=s25.col;this.panelName=s25.pnl;this.pattern=s25.ptrn;this.lineWidth=s25.lw;this.candleWidth=s25.cw;this.multiplier=s25.mlt;this.d0=s25.d0;this.tzo0=s25.tzo0;this.v0=s25.v0;this.interval=s25.inter;this.periodicity=s25.pd;this.nodes=s25.nodes;this.adjust();};v7M.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;G5XX.R0F7(40);this.h=G5XX.n0F7("0",0);this.padding=4;this.text="";this.ta=null;this.fontSize=+"0";this.font={};this.stemEntry="";this.defaultWidth=50;this.defaultHeight=10;;};v7M.inheritsFrom(v7M.Drawing.callout,v7M.Drawing.annotation);v7M.Drawing.callout.prototype.configs=["color","fillColor",H50P,"pattern","font"];v7M.Drawing.callout.prototype.copyConfig=function(a25){v7M.Drawing.copyConfig(this,a25);this.borderColor=this.color;};v7M.Drawing.callout.prototype.move=function(P25,w25,A25){if(!this.penDown){return;}this.copyConfig();this.p0=[w25,A25];this.render(P25);};v7M.Drawing.callout.prototype.onChange=function(d25){var B25,K25,U60P,w60P,o60P,q25;B25=this.stx.panels[this.panelName];if(!B25){return;}K25=d25.target;this.w=K25.clientWidth;this.h=K25.clientHeight;U60P=547179607;G5XX.m2iE();w60P=+"1184797136";o60P=2;for(var N60P=1;G5XX.W60P(N60P.toString(),N60P.toString().length,89406) !== U60P;N60P++){q25=this.context && this.stx.chart.tempCanvas.context;v7M.clearCanvas(q25.canvas,this.stx);o60P+=2;}if(G5XX.W60P(o60P.toString(),o60P.toString().length,21905) !== w60P){q25=this.context || this.stx.chart.tempCanvas.context;v7M.clearCanvas(q25.canvas,this.stx);}this.render(q25);this.edit(q25);};v7M.Drawing.callout.prototype.render=function(G25){var a5iE=G5XX;var S25,v25,L25,o25,O25,f25,D25,J25,E25,H25,N25,Q25,l25,W25,m25,e25,G50P,z50P,E50P,V50P,s50P,g25;this.context=G25;S25=this.stx.panels[this.panelName];if(!S25){return;}v25=this.stx.pixelFromTick(this.p0[0],S25.chart);L25=this.stx.pixelFromValueAdjusted(S25,this.p0[0],this.p0[1]);if(isNaN(L25)){return;}G25.font=this.fontString;G25.textBaseline="top";o25=v25;O25=L25;a5iE.y0F7(28);var x0BP=a5iE.N0F7(11,2,18);f25=this.w / x0BP;a5iE.y0F7(42);var M0BP=a5iE.n0F7(7,18,10,5,28);D25=this.h / M0BP;if(this.penDown){f25=this.defaultWidth;D25=this.defaultHeight;if(!D25){D25=this.fontSize;}}J25=this.lineWidth;if(!J25){J25=1.1;}E25=this.color;if(E25 == "auto" || v7M.isTransparent(E25)){E25=this.stx.defaultColor;}H25=this.borderColor;if(H25 == "auto" || v7M.isTransparent(H25)){H25=this.stx.defaultColor;}if(this.highlighted){H25=this.stx.getCanvasColor("stx_highlight_vector");}m25=Math.min(Math.min(f25,D25) / 2,8);if(this.stem){if(this.stem.t){N25=this.stx.pixelFromTick(this.stem.t);l25=this.stx.pixelFromValueAdjusted(S25,this.stem.t,this.stem.v);}else if(this.stem.x){N25=o25;l25=O25;o25+=this.stem.x;O25+=this.stem.y;}e25="";if(N25 >= o25 + f25){a5iE.y0F7(2);Q25=a5iE.N0F7(f25,o25);e25=(9500,888.83) <= (529,"4813" << 1756382432)?"r":(! !{},"B");}else if(N25 > o25 - f25 && N25 < o25 + f25){Q25=o25;e25="c";}else if(N25 <= o25 - f25){a5iE.R0F7(6);Q25=a5iE.N0F7(o25,f25);e25=(1880,4250) !== 4871?(4130,3270) == (3000,8520)?!0:7147 != (172.15,526.95)?"l":(6.15e+3,0x15c2):! !"1";}if(l25 >= O25 + D25){a5iE.y0F7(2);W25=a5iE.N0F7(D25,O25);e25+="b";}else if(l25 > O25 - D25 && l25 < O25 + D25){W25=O25;e25+=(187,9500) >= 3362?(+"5177",5872) <= (2330,+"3750")?(202.85,! !1):"m":(3.88e+3,"C");}else if(l25 <= O25 - D25){a5iE.R0F7(6);W25=a5iE.n0F7(O25,D25);e25+="t";}this.stemEntry=e25;if(e25 != "cm"){N25=Math.round(N25);Q25=Math.round(Q25);l25=Math.round(l25);W25=Math.round(W25);}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight_bg",G25);}else {if(this.fillColor){G25.fillStyle=this.fillColor;G25.globalAlpha=0.4;}else if(this.stem){G25.fillStyle=this.stx.containerColor;}}G25.strokeStyle=H25;if(G25.setLineDash){G25.setLineDash(v7M.borderPatternToArray(J25,this.pattern));G25.lineDashOffset=+"0";;}if(H25){G50P="non";G50P+="e";z50P="c";z50P+="t";E50P="l";E50P+="t";V50P="l";V50P+="b";G25.beginPath();G25.lineWidth=J25;a5iE.R0F7(4);G25.moveTo(a5iE.n0F7(o25,f25,m25),a5iE.N0F7(O25,D25,a5iE.R0F7(6)));if(this.stemEntry != "rt"){a5iE.y0F7(2);G25.quadraticCurveTo(a5iE.n0F7(f25,o25),a5iE.n0F7(O25,D25,a5iE.y0F7(6)),a5iE.N0F7(f25,o25,a5iE.y0F7(2)),a5iE.n0F7(O25,m25,D25,a5iE.y0F7(7)));;}else {G25.lineTo(N25,l25);a5iE.y0F7(2);G25.lineTo(a5iE.N0F7(f25,o25),a5iE.n0F7(O25,m25,D25,a5iE.R0F7(7)));}a5iE.y0F7(2);G25.lineTo(a5iE.n0F7(f25,o25),a5iE.n0F7(m25,2,O25,a5iE.y0F7(43)));if(this.stemEntry == "rm"){G25.lineTo(N25,l25);}a5iE.R0F7(2);G25.lineTo(a5iE.n0F7(f25,o25),a5iE.N0F7(O25,m25,2,a5iE.y0F7(44)));a5iE.R0F7(2);G25.lineTo(a5iE.n0F7(f25,o25),a5iE.N0F7(O25,D25,m25,a5iE.R0F7(4)));if(this.stemEntry != "rb"){a5iE.y0F7(2);G25.quadraticCurveTo(a5iE.N0F7(f25,o25),a5iE.N0F7(D25,O25,a5iE.R0F7(2)),a5iE.N0F7(o25,f25,m25,a5iE.y0F7(4)),a5iE.n0F7(D25,O25,a5iE.y0F7(2)));;}else {G25.lineTo(N25,l25);a5iE.R0F7(4);G25.lineTo(a5iE.N0F7(o25,f25,m25),a5iE.N0F7(D25,O25,a5iE.R0F7(2)));}a5iE.y0F7(44);G25.lineTo(a5iE.n0F7(o25,m25,2),a5iE.N0F7(D25,O25,a5iE.R0F7(2)));if(this.stemEntry == "cb"){G25.lineTo(N25,l25);}a5iE.R0F7(43);G25.lineTo(a5iE.N0F7(m25,2,o25),a5iE.N0F7(D25,O25,a5iE.R0F7(2)));a5iE.R0F7(7);G25.lineTo(a5iE.n0F7(o25,m25,f25),a5iE.N0F7(D25,O25,a5iE.y0F7(2)));if(this.stemEntry != V50P){a5iE.y0F7(6);G25.quadraticCurveTo(a5iE.N0F7(o25,f25),a5iE.n0F7(D25,O25,a5iE.R0F7(2)),a5iE.n0F7(o25,f25,a5iE.R0F7(6)),a5iE.N0F7(O25,D25,m25,a5iE.R0F7(4)));;}else {G25.lineTo(N25,l25);a5iE.R0F7(6);G25.lineTo(a5iE.N0F7(o25,f25),a5iE.N0F7(O25,D25,m25,a5iE.R0F7(4)));}a5iE.y0F7(6);G25.lineTo(a5iE.N0F7(o25,f25),a5iE.n0F7(O25,565869600,"2",m25,a5iE.y0F7(45)));if(this.stemEntry == "lm"){G25.lineTo(N25,l25);}a5iE.R0F7(6);G25.lineTo(a5iE.N0F7(o25,f25),a5iE.n0F7(m25,2,O25,a5iE.R0F7(43)));a5iE.y0F7(6);G25.lineTo(a5iE.N0F7(o25,f25),a5iE.N0F7(O25,m25,D25,a5iE.y0F7(7)));if(this.stemEntry != E50P){a5iE.R0F7(6);G25.quadraticCurveTo(a5iE.N0F7(o25,f25),a5iE.n0F7(O25,D25,a5iE.y0F7(6)),a5iE.N0F7(o25,m25,f25,a5iE.R0F7(7)),a5iE.n0F7(O25,D25,a5iE.R0F7(6)));;}else {G25.lineTo(N25,l25);a5iE.R0F7(7);G25.lineTo(a5iE.N0F7(o25,m25,f25),a5iE.N0F7(O25,D25,a5iE.y0F7(6)));}a5iE.y0F7(43);G25.lineTo(a5iE.N0F7(m25,2,o25),a5iE.N0F7(O25,D25,a5iE.R0F7(6)));if(this.stemEntry == z50P){G25.lineTo(N25,l25);}a5iE.R0F7(46);G25.lineTo(a5iE.N0F7("2",1,m25,o25),a5iE.N0F7(O25,D25,a5iE.R0F7(6)));a5iE.y0F7(4);G25.lineTo(a5iE.n0F7(o25,f25,m25),a5iE.N0F7(O25,D25,a5iE.R0F7(6)));G25.fill();G25.globalAlpha=1;if(this.pattern != G50P){G25.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",G25);}else {G25.fillStyle=E25;}O25+=this.padding;if(!this.ta){for(var n25=0;n25 < this.arr.length;n25++){G25.fillText(this.arr[n25],o25 - f25 + this.padding,O25 - D25);O25+=this.fontSize;}}G25.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){s50P="p";s50P+="0";g25=this.highlighted == s50P?! !"1":!"1";this.littleCircle(G25,N25,l25,g25);};};v7M.Drawing.callout.prototype.click=function(X25,Y25,Z25){var R25,G80P,s80P,y80P;if(this.stx.overXAxis || this.stx.overYAxis){return;}R25=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,Y25,Z25,R25.chart);if(!this.penDown){G80P=-1097706936;s80P=-707394389;y80P=2;for(var R50P=1;G5XX.W60P(R50P.toString(),R50P.toString().length,2497) !== G80P;R50P++){this.stem={d:this.d0,v:this.v0};this.penDown=!"1";this.adjust();return ! !{};}if(G5XX.C60P(y80P.toString(),y80P.toString().length,78003) !== s80P){this.stem={d:this.d0,v:this.v0};this.penDown=! !{};this.adjust();return !1;}this.stem={d:this.d0,v:this.v0};this.penDown=! ![];this.adjust();return !{};}this.adjust();this.edit(X25);this.penDown=! !0;return ![];};v7M.Drawing.callout.prototype.reposition=function(c35,u35,t35,h35){var b35,V35,x35,y50P;G5XX.m2iE();if(!u35){return;}b35=this.stx.panels[this.panelName];V35=u35.tick - t35;x35=u35.value - h35;if(u35.stem){y50P="dr";y50P+="ag";if(u35.action == y50P){this.stem={d:this.stx.dateFromTick(t35,b35.chart,! !{}),v:h35};}else if(u35.action == "move"){this.setPoint(0,u35.p0["0" - 0] - V35,u35.p0[1] - x35,b35.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(u35.stem.d,b35.chart) - V35),v:u35.stem.v - x35};}this.adjust();}else {this.setPoint(0,u35.p0[0] - V35,u35.p0[1] - x35,b35.chart);}this.render(c35);};v7M.Drawing.callout.prototype.lineIntersection=function(f35,m35,O35,D35){var E5iE=G5XX;var a35,T35,M35,A35,y35,K35,U35,C35,s35,B35,d35,p35;a35=this.stx.panels[this.panelName];T35=this.stem;M35=this.p0;A35=this.stx;if(!M35 || !T35 || !a35){return ![];}y35=T35.t || this.stx.tickFromDate(T35.d,a35.chart);K35={x0:M35[0],x1:y35,y0:M35[1],y1:T35.v};U35=v7M.convertBoxToPixels(A35,this.panelName,K35);C35=U35.x0;s35=U35.y0;B35=U35.x1;d35=U35.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){E5iE.R0F7(47);var S0BP=E5iE.n0F7(204,1,1,12,17);C35-=this.w / S0BP;}else if(this.stemEntry.indexOf((1342,271.09) != (90.65,837.59)?(+"9212",8190) !== 3796?837.05 > (+"11.87",112.69)?"r":(+"664.58",514.92):(!"1","T"):("x",0x1f4f)) > -1){E5iE.R0F7(48);var J0BP=E5iE.n0F7(17,53,9,40,11);C35+=this.w / J0BP;}if(this.stemEntry.indexOf("t") > -1){s35-=this.h / ("2" ^ 0);}else if(this.stemEntry.indexOf(218.69 == (616,"1934" >> 1423469024)?(0x1083,"J"):"b") > -1){E5iE.y0F7(48);var X0BP=E5iE.N0F7(9,3,4,1,9);s35+=this.h / X0BP;}}E5iE.m2iE();p35=v7M.convertBoxToPixels(A35,this.panelName,O35);return v7M.boxIntersects(p35.x0,p35.y0,p35.x1,p35.y1,C35,s35,B35,d35,D35);};v7M.Drawing.callout.prototype.intersected=function(S35,E35,H35){var i5iE=G5XX;var Z50P,J35,W35,n35,L35,v35,R35,X35,Y35,R10P;Z50P="se";Z50P+="gment";J35=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,H35)){this.highlighted="p0";return {action:"drag",stem:! ![]};}i5iE.y0F7(6);var D0BP=i5iE.n0F7(22,20);W35=this.stx.pixelFromTick(this.p0[0],J35.chart) - this.w / D0BP;i5iE.R0F7(49);var H0BP=i5iE.N0F7(14,0,6,1,19);n35=this.stx.pixelFromValueAdjusted(J35,this.p0[0],this.p0[H0BP]) - this.h / +"2";i5iE.m2iE();L35=W35 + this.w;v35=n35 + this.h;if(this.stem && this.stem.x){W35+=this.stem.x;L35+=this.stem.x;n35+=this.stem.y;v35+=this.stem.y;}R35=this.stx.pixelFromTick(S35,J35.chart);X35=this.stx.pixelFromValueAdjusted(J35,S35,E35);if(R35 + H35.r >= W35 && R35 - H35.r <= L35 && X35 + H35.r >= n35 && X35 - H35.r <= v35){this.highlighted=! !"1";return {p0:v7M.clone(this.p0),tick:S35,value:E35};}Y35=this.lineIntersection(S35,E35,H35,Z50P);if(Y35){R10P="m";R10P+="ov";R10P+="e";this.highlighted=!"";return {action:R10P,stem:v7M.clone(this.stem),p0:v7M.clone(this.p0),tick:S35,value:E35};}return null;};v7M.Drawing.fibonacci=function(){this.name="fibonacci";this.configurator="fibonacci";};v7M.inheritsFrom(v7M.Drawing.fibonacci,v7M.Drawing.BaseTwoPoint);v7M.Drawing.fibonacci.mapping={trend:"t",color:(6755,623.14) > (3148,4108)?306.25 >= (4170,"9841" & 2147483647)?("l",0xb75):755.46:"c",parameters:4233 !== (4287,2640)?5815 == 1870?"D":"p":"k",pattern:"pt",opacity:"o",lineWidth:"lw",level:1960 > (8802,"97" * 1)?"l":960.36,extendLeft:(717.06,361.86) == +"802"?32.36 > (2250,324)?0x15bc:("2944" - 0,780.94) < (9214,9213)?(+"44.66",441.21):(0xa94,"607.68" - 0):"e",printLevels:"pl",printValues:"pv",timezone:"tz",display:"d"};G5XX.R0F7(6);v7M.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,0.5,0.618,+"1",G5XX.n0F7("1.382",0),G5XX.N0F7(1,"1.618",G5XX.R0F7(22))];v7M.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth","pattern","parameters"];v7M.Drawing.fibonacci.prototype.initializeSettings=function(F45){var b45,u45;b45=this.recommendedLevels;if(b45 && !F45.currentVectorParameters.fibonacci.fibsAlreadySet){u45=F45.currentVectorParameters.fibonacci.fibs;for(var Z35=0;Z35 < u45.length;Z35++){delete u45[Z35].display;for(var k45=0;k45 < b45.length;k45++){if(u45[Z35].level == b45[k45]){u45[Z35].display=! !{};}}}}};v7M.Drawing.fibonacci.prototype.setOuter=function(){var V45,x45,U45,p45,M45,i45,j45,I45,s45,h45,r45,t45,T45,C45;V45=this.stx;x45=V45.panels[this.panelName];if(!x45){return;}U45=Math.max(this.p0[+"1"],this.p1[1]);p45=Math.min(this.p0[1],this.p1[1]);G5XX.R0F7(6);M45=G5XX.N0F7(U45,p45);this.outer={p0:v7M.clone(this.p0),p1:v7M.clone(this.p1)};i45=V45.pixelFromValueAdjusted(x45,this.p0[0],this.p0[1]);j45=V45.pixelFromValueAdjusted(x45,this.p1[0],this.p1[1]);I45=V45.pixelFromTick(this.p0[+"0"],x45.chart);s45=V45.pixelFromTick(this.p1[+"0"],x45.chart);h45=0;r45=1;for(var c45=0;c45 < this.parameters.fibs.length;c45++){t45=this.parameters.fibs[c45];if(t45.level >= h45 && t45.level <= r45 || !t45.display)continue;T45=V45.pixelFromValueAdjusted(x45,this.p0[+"0"],j45 < i45?U45 - M45 * t45.level:p45 + M45 * t45.level);C45=v7M.xIntersection({x0:I45,x1:s45,y0:i45,y1:j45},T45);if(t45.level < h45){h45=t45.level;this.outer.p1[1]=V45.valueFromPixel(T45,x45);G5XX.y0F7(37);this.outer.p1[G5XX.N0F7("0",2106298176)]=V45.tickFromPixel(C45,x45.chart);}else if(t45.level > r45){r45=t45.level;this.outer.p0[1]=V45.valueFromPixel(T45,x45);this.outer.p0[0]=V45.tickFromPixel(C45,x45.chart);}}};v7M.Drawing.fibonacci.prototype.click=function(w45,a45,P45){var z45;z45=this.stx.panels[this.panelName];if(!z45){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,a45,P45,z45.chart);this.penDown=! ![];return ![];}if(this.accidentalClick(a45,P45)){return this.dragToDraw;}this.setPoint(1,a45,P45,z45.chart);this.setOuter();this.parameters=v7M.clone(this.parameters);this.penDown=!{};return ! ![];;};v7M.Drawing.fibonacci.prototype.render=function(A45){var P5iE=G5XX;var Y10P,y45,Q45,W45,n45,R45,l45,m45,d45,K45,X45,Y45,Z45,F15,V15,u15,x15,L45,e45,v45,H45,N45,L10P,o45,q45,J45,D45,B45,t15,S45,f45,G45,b15,O45,k15,t10P,i10P,h15,r15;Y10P="stx_yax";Y10P+="i";Y10P+="s";y45=this.stx.panels[this.panelName];if(!y45){return;}Q45=y45.yAxis;if(!this.p1){return;}W45=Math.max(this.p0[1],this.p1[1]);n45=Math.min(this.p0[1],this.p1[1]);R45=Q45.flipped?n45 - W45:W45 - n45;l45=this.stx.pixelFromTick(this.p0[0],y45.chart);m45=this.stx.pixelFromTick(this.p1[0],y45.chart);d45=this.stx.pixelFromValueAdjusted(y45,this.p0[0],this.p0["1" >> 125388832]);K45=this.stx.pixelFromValueAdjusted(y45,this.p1[0],this.p1[1]);X45=Math.min(K45,d45);Y45=Math.max(K45,d45);P5iE.R0F7(6);Z45=P5iE.n0F7(Y45,X45);P5iE.R0F7(50);F15=P5iE.n0F7(K45,0,l45,m45,d45);V15={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:+"1"}};if(!this.parameters.trend){this.parameters.trend=V15;}u15=this.getLineColor(this.parameters.trend.color);A45.textBaseline="middle";this.stx.canvasFont(Y10P,A45);P5iE.y0F7(4);var V0BP=P5iE.n0F7(30,6,26);x15=A45.measureText("161.8%").width + V0BP;L45=Number.MAX_VALUE;e45=Number.MAX_VALUE;v45=Number.MAX_VALUE * - +"1";H45=Number.MAX_VALUE * - +"1";N45=this.color;if(N45 == "auto" || v7M.isTransparent(N45)){N45=this.stx.defaultColor;}this.rays=[];for(var g45=0;g45 < this.parameters.fibs.length;g45++){L10P="a";L10P+="u";L10P+="t";L10P+="o";A45.textAlign="left";A45.fillStyle=N45;o45=this.parameters.fibs[g45];if(!o45.display)continue;q45=this.stx.pixelFromValueAdjusted(y45,this.p0[0],K45 < d45?W45 - R45 * o45.level:n45 + R45 * o45.level);J45=v7M.xIntersection({x0:l45,x1:m45,y0:d45,y1:K45},q45);D45=this.parameters.extendLeft?0:J45;B45=y45.left + y45.width;if(this.parameters.printLevels){P5iE.R0F7(4);var E0BP=P5iE.n0F7(0,13,12);P5iE.y0F7(51);var z0BP=P5iE.N0F7(1,91,9,110);P5iE.R0F7(52);var G0BP=P5iE.N0F7(19,10,3276,20,614);P5iE.y0F7(6);var s0BP=P5iE.n0F7(4458,5);P5iE.R0F7(53);var y0BP=P5iE.n0F7(4449,8897,4449,1);P5iE.R0F7(54);var Z0BP=P5iE.n0F7(33318,19,27746,5,5);P5iE.y0F7(55);var R6BP=P5iE.n0F7(17,2,5341);P5iE.y0F7(6);var Y6BP=P5iE.n0F7(533,6);P5iE.y0F7(6);var L6BP=P5iE.n0F7(22480,16860);P5iE.y0F7(2);var i6BP=P5iE.N0F7(13,2476);t15=Math.round(o45.level * ("1000" * E0BP)) / z0BP + (+"2420" < (G0BP,s0BP)?(207.55,y0BP) > (Z0BP,R6BP)?"%":Y6BP:(L6BP,i6BP));B45-=x15;if(this.parameters.printValues){A45.fillStyle=N45;this.stx.canvasFont("stx_yaxis",A45);;}if(B45 < D45){A45.textAlign="right";}A45.fillText(t15,B45,q45);if(B45 < D45){B45+=+"5";}else {B45-=5;}}if(this.parameters.printValues){if(J45 < y45.width){S45=this.stx.transformedPriceFromPixel(q45,y45);if(Q45.priceFormatter){S45=Q45.priceFormatter(this.stx,y45,S45);}else {S45=this.stx.formatYAxisPrice(S45,y45);}if(A45 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(y45,S45,q45,N45,null,A45);if(A45 == this.stx.chart.context){this.stx.startClip(y45.name);}}}f45=o45.color;if(f45 == "auto" || v7M.isTransparent(f45)){f45=this.color;}if(f45 == "auto" || v7M.isTransparent(f45)){f45=this.stx.defaultColor;}G45=o45.color;if(G45 == "auto" || v7M.isTransparent(G45)){G45=this.fillColor;}if(G45 == L10P || v7M.isTransparent(G45)){G45=this.stx.defaultColor;}A45.fillStyle=G45;b15=v7M.clone(o45.parameters);if(this.highlighted){b15.opacity=+"1";}this.stx.plotLine(D45,B45,q45,q45,this.highlighted?u15:f45,"segment",A45,y45,b15);this.rays.push([[D45,q45],[B45,q45]]);A45.globalAlpha=0.05;A45.beginPath();A45.moveTo(B45,q45);A45.lineTo(D45,q45);if(D45){A45.lineTo(m45,K45);}else {A45.lineTo(D45,K45);}A45.lineTo(B45,K45);if(typeof G45 != "undefined"){A45.fill();}A45.globalAlpha=+"1";if(q45 < e45){L45=J45;e45=q45;}if(q45 > H45){v45=J45;H45=q45;}}for(var E45=0;E45 <= 1;E45++){O45=F15?Y45 - Z45 * E45:X45 + Z45 * E45;O45=Math.round(O45);if(O45 < e45){L45=v7M.xIntersection({x0:l45,x1:m45,y0:d45,y1:K45},O45);e45=O45;}if(O45 > H45){v45=v7M.xIntersection({x0:l45,x1:m45,y0:d45,y1:K45},O45);H45=O45;}}P5iE.g2iE();k15=v7M.clone(this.parameters.trend.parameters);if(this.highlighted){k15.opacity=1;}this.stx.plotLine(L45,v45,e45,H45,u15,"segment",A45,y45,k15);if(this.highlighted){t10P="p";t10P+="1";i10P="p";i10P+="0";h15=this.highlighted == i10P?! !{}:! !0;r15=this.highlighted == t10P?! !{}:!1;this.littleCircle(A45,l45,d45,h15);this.littleCircle(A45,m45,K45,r15);}};v7M.Drawing.fibonacci.prototype.reposition=function(T15,c15,U15,p15){if(!c15){return;}v7M.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);G5XX.m2iE();this.adjust();};v7M.Drawing.fibonacci.prototype.intersected=function(P15,w15,A15){var q10P,j15,C15,I15,K10P,s15,z15,a15,b10P,m10P;q10P="se";q10P+="gmen";q10P+="t";j15=this.p0;C15=this.p1;if(!j15 || !C15){return null;}I15={0:j15,1:C15};for(var M15 in I15){if(this.pointIntersection(I15[M15]["0" & 2147483647],I15[M15][1],A15)){K10P="d";K10P+="r";K10P+="ag";G5XX.R0F7(2);this.highlighted=G5XX.N0F7(M15,"p");return {action:K10P,point:(("8340" >> 1606798432,413.35) === 682.37?(491.44,464.55) === "350.91" - 0?(762.98,![]):(+"1109",982) >= (549.59,3683)?0x1ced:2.26e+3:"p") + M15};}}s15=this.outer;z15=this.rays;a15=s15 && this.lineIntersection(P15,w15,A15,q10P,s15.p0,s15.p1);if(!a15){for(var i15="0" >> 1254393184;i15 < z15.length;i15++){b10P="r";b10P+="a";b10P+="y";if(this.lineIntersection(P15,w15,A15,b10P,z15[i15][0],z15[i15][1],! ![])){a15=!0;break;}}}if(a15){m10P="m";m10P+="o";m10P+="ve";this.highlighted=!0;return {action:m10P,p0:v7M.clone(j15),p1:v7M.clone(C15),tick:P15,value:w15};}return null;};v7M.Drawing.fibonacci.prototype.reconstruct=function(q15,y15){y15=v7M.replaceFields(y15,v7M.reverseObject(v7M.Drawing.fibonacci.mapping));this.stx=q15;this.parameters=y15.parameters;if(!this.parameters){this.parameters=v7M.clone(this.stx.currentVectorParameters.fibonacci);}this.color=y15.col;this.fillColor=y15.fc;this.panelName=y15.pnl;this.d0=y15.d0;this.d1=y15.d1;this.d2=y15.d2;G5XX.m2iE();this.tzo0=y15.tzo0;this.tzo1=y15.tzo1;this.tzo2=y15.tzo2;this.v0=y15.v0;this.v1=y15.v1;this.v2=y15.v2;this.adjust();};v7M.Drawing.fibonacci.prototype.adjust=function(){var K15;K15=this.stx.panels[this.panelName];if(!K15){return;}this.setPoint(0,this.d0,this.v0,K15.chart);this.setPoint(1,this.d1,this.v1,K15.chart);G5XX.g2iE();this.setOuter();};v7M.Drawing.fibonacci.prototype.serialize=function(){var B15;B15={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return v7M.replaceFields(B15,v7M.Drawing.fibonacci.mapping);};v7M.Drawing.retracement=function(){this.name="retracement";};v7M.inheritsFrom(v7M.Drawing.retracement,v7M.Drawing.fibonacci);v7M.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!{};G5XX.m2iE();this.p2=null;};v7M.inheritsFrom(v7M.Drawing.fibprojection,v7M.Drawing.fibonacci);v7M.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,1.618,2.618,4.236];v7M.Drawing.fibprojection.prototype.click=function(o15,G15,O15){var k5iE=G5XX;var d15,N70P,r70P,a70P;d15=this.stx.panels[this.panelName];if(!d15){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,G15,O15,d15.chart);this.penDown=! !1;return !{};}k5iE.m2iE();if(this.accidentalClick(G15,O15)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],d15.chart);this.parameters=v7M.clone(this.parameters);N70P=-212182643;k5iE.y0F7(22);r70P=k5iE.n0F7(1,"1870936004");a70P=2;for(var j70P=1;k5iE.W60P(j70P.toString(),j70P.toString().length,+"29970") !== N70P;j70P++){return !"1";}if(k5iE.C60P(a70P.toString(),a70P.toString().length,62418) !== r70P){return ! ![];}}this.setPoint(1,G15,O15,d15.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};v7M.Drawing.fibprojection.prototype.render=function(D15){var r5iE=G5XX;var I10P,P10P,e10P,T10P,f15,Z15,b05,Q15,n15,v15,L15,g15,S15,k05,R15,F05,J15,f10P,E15,m15,V05,e15,N15,c10P,x05,W15,H15,l15,u05,Y15,t05,h05,r05,Q30P,l30P,B30P;I10P="se";I10P+="gm";I10P+="ent";P10P="161";P10P+=".";P10P+="8";P10P+="%";e10P="stx_yax";e10P+="i";e10P+="s";T10P="aut";T10P+="o";f15=this.stx.panels[this.panelName];if(!f15){return;}Z15=f15.yAxis;if(!this.p1){return;}r5iE.R0F7(56);var t6BP=r5iE.N0F7(179,20,10,6);r5iE.R0F7(52);var K6BP=r5iE.n0F7(3,11,89,15,14);b05=this.p1[t6BP] - this.p0[K6BP];Q15=this.stx.pixelFromTick(this.p0[0],f15.chart);n15=this.stx.pixelFromTick(this.p1[0],f15.chart);v15=this.stx.pixelFromValueAdjusted(f15,this.p0[+"0"],this.p0[1]);L15=this.stx.pixelFromValueAdjusted(f15,this.p1[0],this.p1[1]);g15=null;S15=null;if(this.p2){g15=this.stx.pixelFromTick(this.p2[0],f15.chart);S15=this.stx.pixelFromValueAdjusted(f15,this.p2[0],this.p2[1]);}k05={color:T10P,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=k05;}R15=this.getLineColor(this.parameters.trend.color);D15.textBaseline="middle";this.stx.canvasFont(e10P,D15);r5iE.R0F7(57);var q6BP=r5iE.n0F7(1,0,9,1);F05=D15.measureText(P10P).width + q6BP;J15=this.color;if(J15 == "auto" || v7M.isTransparent(J15)){J15=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var X15=0;X15 < this.parameters.fibs.length;X15++){f10P="a";f10P+="u";f10P+="to";D15.textAlign="left";D15.fillStyle=J15;E15=this.parameters.fibs[X15];if(!E15.display)continue;m15=this.stx.pixelFromValueAdjusted(f15,this.p2[0],this.p2[+"1"] + b05 * E15.level);V05=v7M.xIntersection({x0:Q15,x1:n15,y0:v15,y1:L15},m15);e15=this.parameters.extendLeft?0:Q15;N15=f15.left + f15.width;if(this.parameters.printLevels){c10P="ri";c10P+="g";c10P+="h";c10P+="t";r5iE.y0F7(24);var b6BP=r5iE.N0F7(4,2000,500);r5iE.R0F7(58);var m6BP=r5iE.N0F7(8,6,2,2,8);x05=Math.round(E15.level * b6BP) / m6BP + ((+"8827",69.17) > +"8358"?(747.23,"D"):"%");N15-=F05;if(this.parameters.printValues){D15.fillStyle=J15;this.stx.canvasFont("stx_yaxis",D15);;}if(N15 < e15){D15.textAlign=c10P;}D15.fillText(x05,N15,m15);if(N15 < e15){N15+=5;}else {r5iE.R0F7(37);N15-=r5iE.n0F7("5",738260352);}}if(this.parameters.printValues){if(V05 < f15.width){W15=this.stx.transformedPriceFromPixel(m15,f15);if(Z15.priceFormatter){W15=Z15.priceFormatter(this.stx,f15,W15);}else {W15=this.stx.formatYAxisPrice(W15,f15);}if(D15 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(f15,W15,m15,J15,null,D15);if(D15 == this.stx.chart.context){this.stx.startClip(f15.name);}}}H15=E15.color;if(H15 == "auto" || v7M.isTransparent(H15)){H15=this.color;}if(H15 == "auto" || v7M.isTransparent(H15)){H15=this.stx.defaultColor;}l15=E15.color;if(l15 == "auto" || v7M.isTransparent(l15)){l15=this.fillColor;}if(l15 == f10P || v7M.isTransparent(l15)){l15=this.stx.defaultColor;}D15.fillStyle=l15;u05=v7M.clone(E15.parameters);if(this.highlighted){u05.opacity=1;}this.stx.plotLine(e15,N15,m15,m15,this.highlighted?R15:H15,"segment",D15,f15,u05);this.rays.push([[e15,m15],[N15,m15]]);D15.globalAlpha=+"0.05";D15.beginPath();D15.moveTo(N15,m15);D15.lineTo(e15,m15);if(e15){D15.lineTo(Q15,S15);}else {D15.lineTo(e15,S15);}D15.lineTo(N15,S15);if(typeof l15 != "undefined"){D15.fill();}D15.globalAlpha=1;}}Y15=v7M.clone(this.parameters.trend.parameters);if(this.highlighted){r5iE.y0F7(35);Y15.opacity=r5iE.N0F7("1",0);}this.stx.plotLine(Q15,n15,v15,L15,R15,"segment",D15,f15,Y15);if(this.p2){this.stx.plotLine(n15,g15,L15,S15,R15,I10P,D15,f15,Y15);}if(this.highlighted){t05=this.highlighted == "p0"?! !{}:! !0;h05=this.highlighted == "p1"?! !1:! !"";r05=this.highlighted == "p2"?!0:!1;Q30P=-1242955850;l30P=1858842213;B30P=2;for(var U30P=1;r5iE.C60P(U30P.toString(),U30P.toString().length,66047) !== Q30P;U30P++){this.littleCircle(D15,Q15,v15,t05);this.littleCircle(D15,n15,L15,h05);this.littleCircle(D15,g15,S15,r05);B30P+=2;}if(r5iE.C60P(B30P.toString(),B30P.toString().length,"68079" >> 583232992) !== l30P){this.littleCircle(D15,Q15,v15,t05);this.littleCircle(D15,n15,L15,h05);this.littleCircle(D15,g15,S15,r05);}}};v7M.Drawing.fibprojection.prototype.move=function(U05,c05,T05){G5XX.m2iE();if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[c05,T05];}else {this.p2=[c05,T05];}this.render(U05);};v7M.Drawing.fibprojection.prototype.reposition=function(C05,p05,I05,s05){var M05,i05,j05;if(!p05){return;}M05=this.stx.panels[this.panelName];i05=p05.tick - I05;j05=p05.value - s05;G5XX.g2iE();if(p05.action == "move"){this.setPoint(+"0",p05.p0[0] - i05,p05.p0[1] - j05,M05.chart);this.setPoint(+"1",p05.p1[0] - i05,p05.p1["1" | 0] - j05,M05.chart);this.setPoint(2,p05.p2[0] - i05,p05.p2[1] - j05,M05.chart);this.render(C05);}else if(p05.action == "drag"){this[p05.point]=[I05,s05];this.setPoint(0,this.p0[0],this.p0[1],M05.chart);this.setPoint(1,this.p1[0],this.p1[1],M05.chart);this.setPoint(2,this.p2[0],this.p2[1],M05.chart);this.render(C05);}};v7M.Drawing.fibprojection.prototype.intersected=function(y05,q05,K05){var k10P,a05,z05,P05,B05,d05,G05,F10P;k10P="se";k10P+="g";k10P+="me";k10P+="nt";a05=this.p0;z05=this.p1;P05=this.p2;if(!a05 || !z05 || !P05){return null;}B05={0:a05,1:z05,2:P05};for(var w05 in B05){if(this.pointIntersection(B05[w05]["0" * 1],B05[w05][1],K05)){G5XX.y0F7(2);this.highlighted=G5XX.n0F7(w05,"p");return {action:"drag",point:(4891 != (4324,548)?"p":(! !{},1.17e+3)) + w05};}}d05=this.rays;G05=this.lineIntersection(y05,q05,K05,"segment",a05,z05) || this.lineIntersection(y05,q05,K05,k10P,z05,P05);if(!G05){for(var A05=0;A05 < d05.length;A05++){if(this.lineIntersection(y05,q05,K05,"ray",d05[A05][0],d05[A05][1],! !{})){G05=! !{};break;}}}if(G05){F10P="mo";F10P+="ve";this.highlighted=! !{};return {action:F10P,p0:v7M.clone(a05),p1:v7M.clone(z05),p2:v7M.clone(P05),tick:y05,value:q05};}return null;};v7M.Drawing.fibprojection.prototype.adjust=function(){var O05;O05=this.stx.panels[this.panelName];G5XX.g2iE();if(!O05){return;}this.setPoint(0,this.d0,this.v0,O05.chart);this.setPoint(1,this.d1,this.v1,O05.chart);this.setPoint(+"2",this.d2,this.v2,O05.chart);};v7M.Drawing.fibarc=function(){var p10P;p10P="fibar";p10P+="c";this.name=p10P;;};v7M.inheritsFrom(v7M.Drawing.fibarc,v7M.Drawing.fibonacci);v7M.Drawing.fibarc.prototype.recommendedLevels=[0.382,0.5,0.618,+"1"];v7M.Drawing.fibarc.prototype.setOuter=function(){var J5iE=G5XX;var o05,D05,f05,N05,l05,m05,e05;o05=this.stx.panels[this.panelName];if(!o05){return;}this.outer={p0:v7M.clone(this.p0),p1:v7M.clone(this.p1)};D05=this.stx.pixelFromValueAdjusted(o05,this.p0[0],this.p0[1]);f05=this.stx.pixelFromValueAdjusted(o05,this.p1[0],this.p1["1" ^ 0]);N05=this.stx.pixelFromTick(this.p0[0],o05.chart);l05=this.stx.pixelFromTick(this.p1[0],o05.chart);J5iE.R0F7(59);J5iE.g2iE();m05=J5iE.N0F7(D05,2,f05);e05=v7M.xIntersection({x0:N05,x1:l05,y0:D05,y1:f05},m05);J5iE.R0F7(38);this.outer.p0[J5iE.n0F7("1",2147483647)]=this.stx.valueFromPixel(m05,o05);this.outer.p0[0]=this.stx.tickFromPixel(e05,o05.chart);};v7M.Drawing.fibarc.prototype.intersected=function(Q05,v05,S05){var C10P,h10P,g05,J05,E05,X05,R05,Z05,H05,n05,Y05,L05;C10P="m";C10P+="ove";h10P="s";h10P+="eg";h10P+="me";h10P+="nt";g05=this.stx.panels[this.panelName];if(!g05){return;}J05=this.p0;E05=this.p1;X05=this.outer;if(!J05 || !E05){return null;}R05={0:J05,1:E05};for(var W05 in R05){if(this.pointIntersection(R05[W05][0],R05[W05][1],S05)){G5XX.R0F7(2);this.highlighted=G5XX.N0F7(W05,"738.33" * 1 == (4620,6512)?(!0,"8.97e+3" << 1986779232):(4850,6850) === ("332" << 412325440,2830)?266.42 > 8444?"F":168.50:"p");return {action:"drag",point:(357.41 == (777,2190)?(2040,+"896.12") == (+"6867",3250)?("X",0x4cd):(0x48a,+"640.76"):"p") + W05};}}if(this.lineIntersection(Q05,v05,S05,h10P,X05.p0,X05.p1)){this.highlighted=! ![];return {action:"move",p0:v7M.clone(J05),p1:v7M.clone(E05),tick:Q05,value:v05};}Z05={x0:J05[0],x1:E05[0],y0:J05[+"1"],y1:E05[1]};H05=v7M.convertBoxToPixels(this.stx,this.panelName,Z05);n05={x:Math.abs(Math.sqrt(2) * (H05.x1 - H05.x0)),y:Math.abs(Math.sqrt("2" ^ 0) * (H05.y1 - H05.y0))};Y05=this.stx.pixelFromTick(Q05,g05.chart);L05=this.stx.pixelFromValueAdjusted(g05,Q05,v05);if(Y05 + S05.r < H05.x1 - n05.x || Y05 - S05.r > H05.x1 + n05.x){return null;}if(L05 + S05.r < H05.y1 - n05.y || L05 - S05.r > H05.y1 + n05.y){return null;}if(H05.y0 < H05.y1 && L05 - S05.r > H05.y1){return null;}if(H05.y0 > H05.y1 && L05 + S05.r < H05.y1){return null;}this.highlighted=! !{};return {action:C10P,p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:Q05,value:v05};};v7M.Drawing.fibarc.prototype.render=function(b95){var V5iE=G5XX;var d10P,W10P,k95,s95,C95,t95,i95,V95,P95,w95,q95,T95,B10P,l10P,Q10P,F95,O95,B95,I95,o95,O10P,D95,j95,h95,r95,G95,U10P,N95,l95;d10P="seg";d10P+="ment";W10P="m";W10P+="i";W10P+="d";W10P+="dle";k95=this.stx.panels[this.panelName];if(!k95){return;}s95=k95.yAxis;if(!this.p1){return;}C95=this.stx.pixelFromTick(this.p0[0],k95.chart);t95=this.stx.pixelFromTick(this.p1[+"0"],k95.chart);i95=this.stx.pixelFromValueAdjusted(k95,this.p0[0],this.p0[1]);V95=this.stx.pixelFromValueAdjusted(k95,this.p1[0],this.p1["1" & 2147483647]);V5iE.R0F7(60);P95=V5iE.N0F7(V95,i95);V5iE.y0F7(61);w95=Math.abs(V5iE.n0F7(V95,i95,C95,t95));q95=this.getLineColor(this.parameters.trend.color);b95.textBaseline=W10P;this.stx.canvasFont("stx_yaxis",b95);T95=this.color;if(T95 == "auto" || v7M.isTransparent(T95)){T95=this.stx.defaultColor;}V5iE.g2iE();for(var z95="0" & 2147483647;z95 < this.parameters.fibs.length;z95++){B10P="a";B10P+="u";B10P+="t";B10P+="o";l10P="a";l10P+="ut";l10P+="o";Q10P="a";Q10P+="uto";b95.fillStyle=T95;F95=this.parameters.fibs[z95];if(F95.level < 0 || !F95.display)continue;V5iE.y0F7(7);var T6BP=V5iE.n0F7(6,13,18);V5iE.R0F7(62);var e6BP=V5iE.N0F7(17,17,11,2,12);V5iE.R0F7(63);var P6BP=V5iE.n0F7(7,1,15,0,8);O95=Math.abs(this.p1[T6BP] - this.p0[e6BP]) * Math.sqrt(P6BP) * F95.level;V5iE.R0F7(64);var c6BP=V5iE.n0F7(4,5);V5iE.R0F7(64);var f6BP=V5iE.n0F7(3,4);V5iE.R0F7(64);var I6BP=V5iE.n0F7(9,10);V5iE.R0F7(65);var k6BP=V5iE.n0F7(12,3,19,11);B95=this.p1[c6BP] + O95 * (P95?-("1" | f6BP):I6BP) * (s95.flipped?- +"1":k6BP);I95=this.stx.pixelFromValueAdjusted(k95,this.p0[0],B95);o95=v7M.xIntersection({x0:C95,x1:t95,y0:i95,y1:V95},I95);if(this.parameters.printLevels){O10P="cen";O10P+="t";O10P+="er";b95.textAlign=O10P;V5iE.y0F7(23);var F6BP=V5iE.n0F7(4,9000,1250);V5iE.y0F7(56);var p6BP=V5iE.n0F7(458,15,24,12);V5iE.R0F7(36);var h6BP=V5iE.n0F7(7,6591,9,39532);V5iE.y0F7(66);var C6BP=V5iE.n0F7(9,1464885,19,8617);V5iE.R0F7(32);var W6BP=V5iE.N0F7(10,8647,18,18);D95=Math.round(F95.level * F6BP) / p6BP + ((h6BP,C6BP) !== (793.89,W6BP)?"%":("u",! ![]));if(this.parameters.printValues){b95.fillStyle=T95;this.stx.canvasFont("stx_yaxis",b95);;}b95.fillText(D95,t95,Math.round(I95 - 5));}b95.textAlign="left";if(this.parameters.printValues){if(o95 < k95.width){j95=B95;if(s95.priceFormatter){j95=s95.priceFormatter(this.stx,k95,j95);}else {j95=this.stx.formatYAxisPrice(j95,k95);}if(b95 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(k95,j95,I95,T95,null,b95);if(b95 == this.stx.chart.context){this.stx.startClip(k95.name);}}}h95=F95.color;if(h95 == Q10P || v7M.isTransparent(h95)){h95=this.color;}if(h95 == l10P || v7M.isTransparent(h95)){h95=this.stx.defaultColor;}b95.strokeStyle=this.highlight?q95:h95;r95=F95.color;if(r95 == B10P || v7M.isTransparent(r95)){r95=this.fillColor;}if(r95 == "auto" || v7M.isTransparent(r95)){r95=this.stx.defaultColor;}b95.fillStyle=r95;b95.globalAlpha=this.highlighted?1:F95.parameters.opacity;b95.lineWidth=F95.parameters.lineWidth;if(b95.setLineDash){b95.setLineDash(v7M.borderPatternToArray(b95.lineWidth,F95.parameters.pattern));b95.lineDashOffset=0;;}b95.save();b95.beginPath();V5iE.y0F7(10);b95.scale(V5iE.N0F7(1,w95),1);V5iE.y0F7(22);b95.arc(V5iE.n0F7(w95,t95),V95,Math.abs(I95 - V95),0,Math.PI,!P95);if(this.pattern != "none"){b95.stroke();}V5iE.y0F7(22);b95.globalAlpha=V5iE.N0F7(1,"0.05");b95.fill();b95.restore();if(b95.setLineDash){b95.setLineDash([]);}b95.globalAlpha=+"1";}b95.textAlign="left";G95=v7M.clone(this.parameters.trend.parameters);if(this.highlighted){G95.opacity=1;}V5iE.R0F7(59);this.stx.plotLine(t95,V5iE.n0F7(C95,2,t95),V95,V5iE.N0F7(i95,2,V95),q95,d10P,b95,k95,G95);if(this.highlighted){U10P="p";U10P+="0";N95=this.highlighted == U10P?! !"1":! !"";l95=this.highlighted == "p1"?!"":![];this.littleCircle(b95,C95,i95,N95);this.littleCircle(b95,t95,V95,l95);}};v7M.Drawing.fibfan=function(){G5XX.g2iE();var w10P;w10P="f";w10P+="ibfa";w10P+="n";this.name=w10P;;};v7M.inheritsFrom(v7M.Drawing.fibfan,v7M.Drawing.fibonacci);v7M.Drawing.fibfan.prototype.recommendedLevels=[0,+"0.382",0.5,0.618,1];v7M.Drawing.fibfan.prototype.setOuter=function(){};v7M.Drawing.fibfan.prototype.render=function(e95){var X5iE=G5XX;var E95,p6q,H95,L95,Q95,V6q,M6q,i6q,j6q,I6q,s6q,t6q,h6q,r6q,u6q,o10P,b6q,n95,c6q,W95,k6q,z6q,x6q,g95,R95,C6q,F6q,a6q,P6q;E95=this.stx.panels[this.panelName];if(!E95){return;}p6q=E95.yAxis;if(!this.p1){return;}H95=this.stx.pixelFromTick(this.p0[0],E95.chart);L95=this.stx.pixelFromTick(this.p1[0],E95.chart);Q95=this.stx.pixelFromValueAdjusted(E95,this.p0[0],this.p0[1]);V6q=this.stx.pixelFromValueAdjusted(E95,this.p1[0],this.p1["1" >> 2127454880]);M6q=Math.min(V6q,Q95);i6q=Math.max(V6q,Q95);X5iE.y0F7(6);j6q=X5iE.N0F7(i6q,M6q);X5iE.y0F7(67);I6q=X5iE.N0F7("0",L95,V6q,Q95,H95);s6q=this.getLineColor(this.parameters.trend.color);e95.textBaseline="middle";this.stx.canvasFont("stx_yaxis",e95);X5iE.R0F7(6);var O6BP=X5iE.N0F7(90,80);t6q=e95.measureText("161.8%").width + O6BP;h6q=Number.MAX_VALUE;X5iE.R0F7(68);var Q6BP=X5iE.n0F7(1,2,6,1,5);r6q=Number.MAX_VALUE * Q6BP;u6q=this.color;if(u6q == "auto" || v7M.isTransparent(u6q)){u6q=this.stx.defaultColor;}this.rays=[];for(var U6q=0;U6q < this.parameters.fibs.length;U6q++){o10P="a";o10P+="uto";e95.fillStyle=u6q;b6q=this.parameters.fibs[U6q];if(!b6q.display)continue;n95=this.stx.pixelFromValueAdjusted(E95,this.p0[0],(this.p0[1] - this.p1[1]) * b6q.level + this.p1[1]);c6q=v7M.xIntersection({x0:L95,x1:L95,y0:Q95,y1:V6q},n95);W95=E95.left;if(L95 > H95){W95+=E95.width;}X5iE.y0F7(69);k6q=X5iE.n0F7(Q95,Q95,H95,W95,c6q,n95,H95);if(H95 > W95 - (this.parameters.printLevels?t6q + 5:0) && L95 > H95)continue;else if(H95 < W95 + (this.parameters.printLevels?t6q + 5:0) && L95 < H95)continue;if(this.parameters.printLevels){X5iE.R0F7(59);var l6BP=X5iE.N0F7(18,1010,17180);X5iE.y0F7(70);var B6BP=X5iE.N0F7(20,180,17,19,154);X5iE.y0F7(7);var d6BP=X5iE.N0F7(521,3667,18);z6q=Math.round(b6q.level * l6BP) / B6BP + ((d6BP,403.9) === (944.67,241.62)?"o":"%");if(L95 > H95){W95-=t6q;e95.textAlign="left";}else {W95+=t6q;e95.textAlign="right";}if(this.parameters.printValues){e95.fillStyle=u6q;this.stx.canvasFont("stx_yaxis",e95);;}X5iE.R0F7(69);k6q=X5iE.N0F7(Q95,Q95,H95,W95,c6q,n95,H95);e95.fillText(z6q,W95,k6q);if(L95 > H95){W95-=5;}else {W95+=5;}}e95.textAlign="left";if(this.parameters.printValues){if(c6q < E95.width){x6q=this.stx.transformedPriceFromPixel(n95,E95);if(p6q.priceFormatter){x6q=p6q.priceFormatter(this.stx,E95,x6q);}else {x6q=this.stx.formatYAxisPrice(x6q,E95);}if(e95 == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(E95,x6q,n95,u6q,null,e95);if(e95 == this.stx.chart.context){this.stx.startClip(E95.name);}}}g95=b6q.color;if(g95 == "auto" || v7M.isTransparent(g95)){g95=this.color;}if(g95 == "auto" || v7M.isTransparent(g95)){g95=this.stx.defaultColor;}R95=b6q.color;if(R95 == "auto" || v7M.isTransparent(R95)){R95=this.fillColor;}if(R95 == o10P || v7M.isTransparent(R95)){R95=this.stx.defaultColor;}e95.fillStyle=R95;if(this.parameters.printLevels){X5iE.y0F7(69);k6q=X5iE.N0F7(Q95,Q95,H95,W95,c6q,n95,H95);}C6q=v7M.clone(b6q.parameters);if(this.highlighted){C6q.opacity=1;}this.stx.plotLine(H95,W95,Q95,k6q,this.highlighted?s6q:g95,"segment",e95,E95,C6q);this.rays.push([[H95,Q95],[W95,k6q]]);e95.globalAlpha=0.05;e95.beginPath();e95.moveTo(W95,k6q);e95.lineTo(H95,Q95);e95.lineTo(W95,Q95);e95.fill();e95.globalAlpha=1;if(n95 < h6q){h6q=n95;}if(n95 > r6q){r6q=n95;}}X5iE.g2iE();for(var T6q=0;T6q <= +"1";T6q++){F6q=I6q?i6q - j6q * T6q:M6q + j6q * T6q;F6q=Math.round(F6q);if(F6q < h6q){h6q=F6q;}if(F6q > r6q){r6q=F6q;}}if(this.highlighted){a6q=this.highlighted == "p0"?! ![]:![];P6q=this.highlighted == "p1"?! !{}:! !"";this.littleCircle(e95,H95,Q95,a6q);this.littleCircle(e95,L95,V6q,P6q);}};v7M.Drawing.fibtimezone=function(){this.name="fibtimezone";;};v7M.inheritsFrom(v7M.Drawing.fibtimezone,v7M.Drawing.fibonacci);v7M.Drawing.fibtimezone.prototype.render=function(w6q){var F5iE=G5XX;var a10P,N10P,u10P,A6q,y6q,d6q,m6q,N6q,D6q,l6q,J6q,e6q,o6q,q6q,H6q,G6q,O6q,K6q,B6q,f6q,r10P,E6q,Q6q,S6q;a10P="se";a10P+="gme";a10P+="n";a10P+="t";N10P="ce";N10P+="n";N10P+="t";N10P+="er";u10P="au";u10P+="t";u10P+="o";A6q=this.stx.panels[this.panelName];if(!A6q){return;}if(!this.p1){return;}y6q=this.stx.pixelFromTick(this.p0[0],A6q.chart);d6q=this.stx.pixelFromTick(this.p1["0" << 888083968],A6q.chart);m6q=this.stx.pixelFromValueAdjusted(A6q,this.p0[0],this.p0[1]);N6q=this.stx.pixelFromValueAdjusted(A6q,this.p1["0" * 1],this.p1["1" << 1539733792]);D6q=[1,0];l6q=this.getLineColor(this.parameters.trend.color);w6q.textBaseline="middle";this.stx.canvasFont("stx_yaxis",w6q);F5iE.y0F7(22);J6q=F5iE.n0F7(1,"20");e6q=this.p1[0] - this.p0[0];o6q=this.color;if(o6q == u10P || v7M.isTransparent(o6q)){o6q=this.stx.defaultColor;}w6q.textAlign=N10P;q6q=y6q;H6q=A6q.yAxis.top;G6q=A6q.yAxis.bottom;O6q=0;K6q=this.parameters.timezone.color;if(K6q == "auto" || v7M.isTransparent(K6q)){K6q=this.color;}if(K6q == "auto" || v7M.isTransparent(K6q)){K6q=this.stx.defaultColor;}B6q=this.parameters.timezone.color;if(B6q == "auto" || v7M.isTransparent(B6q)){B6q=this.fillColor;}if(B6q == "auto" || v7M.isTransparent(B6q)){B6q=this.stx.defaultColor;}if(this.parameters.printLevels){F5iE.R0F7(6);G6q-=F5iE.N0F7(J6q,7);}f6q=v7M.clone(this.parameters.timezone.parameters);if(this.highlighted){f6q.opacity=1;}do {r10P="seg";r10P+="m";r10P+="ent";q6q=this.stx.pixelFromTick(this.p0[0] + O6q * e6q,A6q.chart);if(y6q < d6q && q6q > A6q.left + A6q.width)break;else if(y6q > d6q && q6q < A6q.left)break;if(this.parameters.printLevels){w6q.fillStyle=o6q;w6q.fillText(d6q > y6q?O6q:O6q * -1,q6q,G6q + 7);}w6q.fillStyle=B6q;this.stx.plotLine(q6q,q6q,+"0",G6q,this.highlighted?l6q:K6q,r10P,w6q,A6q,f6q);w6q.globalAlpha=0.05;w6q.beginPath();w6q.moveTo(y6q,H6q);w6q.lineTo(q6q,H6q);w6q.lineTo(q6q,G6q);w6q.lineTo(y6q,G6q);w6q.fill();w6q.globalAlpha=1;F5iE.y0F7(64);var U6BP=F5iE.n0F7(3,4);O6q=D6q[0] + D6q[U6BP];D6q.unshift(O6q);}while(e6q);w6q.textAlign="left";this.stx.plotLine(y6q,d6q,m6q,N6q,l6q,a10P,w6q,A6q,f6q);if(this.highlighted){E6q=this.highlighted == "p0"?!"":![];Q6q=this.highlighted == "p1"?! !{}:![];this.littleCircle(w6q,y6q,m6q,E6q);this.littleCircle(w6q,d6q,N6q,Q6q);}else {S6q=this.stx.valueFromPixel(A6q.height / +"2",A6q);this.setPoint(0,this.p0[0],S6q,A6q.chart);this.setPoint(1,this.p1[0],S6q,A6q.chart);}};v7M.Drawing.fibtimezone.prototype.intersected=function(R6q,X6q,L6q){var A10P,W6q,v6q,Y6q,g6q,Z6q;A10P="segm";A10P+="e";A10P+="nt";W6q=this.p0;v6q=this.p1;Y6q=this.stx.panels[this.panelName];if(!W6q || !v6q || !Y6q){return null;}g6q={0:W6q,1:v6q};for(var n6q in g6q){if(this.pointIntersection(g6q[n6q][0],g6q[n6q][1],L6q)){G5XX.y0F7(2);this.highlighted=G5XX.N0F7(n6q,(9560,5040) <= (15.3,3310)?(0x1363,"v"):(+"1281",8096) <= (522.45,6379)?(7492,6170) !== 2831?(790,122):(! !{},0xda7):"p");return {action:"drag",point:"p" + n6q};}}Z6q=this.lineIntersection(R6q,X6q,L6q,A10P);if(Z6q || L6q.x0 <= this.p0[0] && L6q.x1 >= W6q[0]){this.highlighted=!"";return {action:"move",p0:v7M.clone(W6q),p1:v7M.clone(v6q),tick:R6q,value:X6q};}return null;};v7M.Drawing.arrow_v0=function(){var C5iE=G5XX;var j10P;j10P="arro";j10P+="w";this.name=j10P;this.dimension=[11,11];C5iE.R0F7(22);C5iE.g2iE();this.points=[[9633 > (+"6374","2285" << 1712173408)?"M":(665,437.69),C5iE.N0F7(1,"3"),0,3050 >= "9670" - 0?(+"2570",7940) === (8023,25.37)?(9.52e+3,1.26e+3):!"1":"L",7,0,"L",7,C5iE.N0F7("5",0,C5iE.R0F7(6)),4192 > (2234,3797)?"L":"T",10,5,+"4016" <= (848.15,791)?"g":471.05 !== (6144,+"7650")?"L":7144 < +"9870"?0xe7d:4.93e+3,+"5",10,(+"281.97",651.19) == (7240,2001)?"748.87" * 1:"L",0,C5iE.N0F7(1,"5",C5iE.R0F7(22)),(2340,"2543" * 1) == 7786?(2422,2460) !== (734.59,9765)?("79.82" * 1,"273.94" - 0) == ("7481" & 2147483647,7649)?! !1:("b","B"):0x194f:"L",3,5,"L",3,0]];};v7M.inheritsFrom(v7M.Drawing.arrow_v0,v7M.Drawing.shape);v7M.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];G5XX.R0F7(40);this.points=[["M",1,0,"L",3,2,"7823" * 1 >= (793,+"9130")?(![],"c"):(+"7421","3320" & 2147483647) <= (37.15,225.3)?(8680,3298) == (+"2993",798.87)?2.56e+2:(8.81e+3,! !{}):"L",5,0,"L",6,1,(5691,+"1920") >= (273.08,413.09)?(6090,304.47) !== (738.26,410.86)?"L":"863.77" - 0 >= 8850?(!0,230.87):! !"1":("8.56e+3" >> 2087505568,"n"),4,G5XX.n0F7("3",0),3710 === 1570?(364.92,"f"):"L",G5XX.N0F7(1,"6",G5XX.R0F7(22)),5,(7040,316.09) != (214.24,"585.88" * 1)?"L":(!1,"4.45e+3" ^ 0),5,6,416.91 === 264.24?(225.77,"115.53" * 1):(2583,"774.33" - 0) <= 9223?"641.21" - 0 < 8280?"L":(5.13e+3,"o"):(689.25,"b"),3,4,"L",1,6,(1399,3701) <= 6115?5470 < "8080" * 1?"L":"J":(4.66e+3,!{}),0,5,6140 == (4600,"7030" << 502832512)?6220 > (7727,"820" - 0)?745.04:("z",7.07e+3):"L",2,3,"194.01" * 1 !== 9228?("541.39" - 0,2792) > +"915.22"?"L":(8353,7644) > (9618,647.19)?(+"0x818",0x258):0x1fd0:0x2059,0,1,(940.61,161.2) !== (3619,2190)?"L":!{},1,0]];;};v7M.inheritsFrom(v7M.Drawing.xcross,v7M.Drawing.shape);v7M.Drawing.check=function(){var g5iE=G5XX;this.name="check";g5iE.R0F7(22);this.dimension=[g5iE.N0F7(1,"8"),g5iE.n0F7(1987278944,"9",g5iE.y0F7(0))];g5iE.y0F7(22);this.points=[[7390 == (5107,2050)?(730.25,914) < (8320,9367)?"g":"l":"M",g5iE.N0F7(1,"1"),5,"L",0,6,"L",2,8,"L",7,1,(+"2332",3330) === 2470?(! ![],! !1):"L",6,g5iE.N0F7("0",0,g5iE.R0F7(35)),(6010,+"57.96") >= (1.32,8233)?("6090" - 0,+"9750") !== (767.2,9640)?+"5775" != (893,"8662" & 2147483647)?(+"677.87",4.56e+3):0x1398:(0x1716,"k"):"L",2,6,6460 === 861.55?(2581,6400) >= (6472,716.11)?("b",+"0x422"):"3.10e+3" | 8:"L",1,5]];;};v7M.inheritsFrom(v7M.Drawing.check,v7M.Drawing.shape);v7M.Drawing.star=function(){this.name="star";this.dimension=[12,12];G5XX.g2iE();G5XX.y0F7(35);this.points=[[(7964,2706) == (244,2441)?("c",0x1238):"M",0,4,6925 >= (+"6964",443)?"L":"g",4,+"4",(8950,203) < (+"9863",3920)?"L":0x1f08,5.5,0,(8436,803.15) >= ("591" & 2147483647,2986)?6142 == 35.13?(263.43,437.67):0x20b5:"L",7,4,(673,5739) > (2515,"968.52" * 1)?(7770,3240) < +"2861"?0x1959:"L":4.51e+3,+"11",4,"L",8,7,"940" - 0 < 478.67?(0x248a,"s"):87 > 8680?649.32 <= ("4000" | 288)?("P","114.88" - 0):(664.38,"t"):"L",9,11,5 > 709.45?0x20a1:"L",5.5,9,720 <= 9190?"L":("G","E"),G5XX.n0F7("2",2),11,714.9 != (772.88,3227)?"L":! ![],3,7,4060 !== (735.21,674)?"L":(! !0,"l"),0,4]];;};v7M.inheritsFrom(v7M.Drawing.star,v7M.Drawing.shape);v7M.Drawing.heart=function(){var W5iE=G5XX;this.name="heart";this.dimension=[23,20];W5iE.y0F7(6);this.points=[["M",11,3,7090 != 900?6440 != 8050?"B":1520 >= (1160,7350)?(0x160d,3.82e+3):(! !"1","g"):0x227e,11,2.4,10,0,W5iE.N0F7("6",0),0,236.54 != 2675?(633.02,248.58) != +"85.5"?192.89 <= (3580,+"1725")?"B":! ![]:0x14e9:![],0,0,0,7.5,0,7.5,(2672,497.52) == (4200,+"982.11")?8230 <= 9799?(1.27e+3,"0x1250" | 4688):("l",0x1195):"B",+"0",11,4,15.4,W5iE.N0F7("11",0,W5iE.y0F7(6)),19,(4162,"8445" << 842689024) >= (4440,788)?"B":(0xe8,!{}),+"18",W5iE.n0F7("15.4",0,W5iE.R0F7(6)),22,11,22,W5iE.n0F7(1,"7.5",W5iE.y0F7(22)),"B",22,7.5,22,+"0",16,0,(+"2930","393.43" * 1) < (7180,305.53)?("G",701.63):172.73 == +"9430"?(971,"C"):"B",+"13",W5iE.n0F7("0",0,W5iE.y0F7(35)),11,2.4,11,3]];;};v7M.inheritsFrom(v7M.Drawing.heart,v7M.Drawing.shape);v7M.Drawing.focusarrow=function(){var n10P;n10P="f";n10P+="ocus";n10P+="arrow";G5XX.g2iE();this.name=n10P;this.dimension=[7,5];G5XX.R0F7(38);this.points=[[554.73 < (6832,2540)?"M":"Z",0,0,"L",2,2,914 < (4386,8240)?(3784,4988) > 74.72?"L":(8540,+"269.98") == (1722,6290)?("G",!"1"):(694,!{}):"0x107f" & 2147483647,0,4,"L",0,0],[6990 != 723.83?986.7 >= "2053" * 1?("0x1903" * 1,! !1):"M":0x1eec,6,G5XX.N0F7("0",2147483647),(7980,2600) !== (4004,718.8)?"L":0xdd6,4,2,7480 <= 597.47?("T",4.08e+3):"L",6,4,(8930,215) < 5740?6510 < 159?0xeb9:"L":218.33,6,0]];;};v7M.inheritsFrom(v7M.Drawing.focusarrow,v7M.Drawing.shape);v7M.Drawing.crossline=function(){var v10P;v10P="cros";v10P+="sline";this.name=v10P;};v7M.inheritsFrom(v7M.Drawing.crossline,v7M.Drawing.horizontal);v7M.extend(v7M.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(u2q,b2q){G5XX.m2iE();return ! !0;},adjust:function(){var k2q;k2q=this.stx.panels[this.panelName];if(!k2q){return;}this.setPoint(0,this.d0,this.v0,k2q.chart);this.p1=v7M.clone(this.p0);},intersected:function(V2q,x2q,t2q){var w3iE=G5XX;var x10P,F2q,g10P,z30P,G30P,s30P;x10P="mo";x10P+="ve";if(!this.p0 || !this.p1){return null;}this.p1[0]+=1;F2q=this.lineIntersection(V2q,x2q,t2q,"line");this.p1=v7M.clone(this.p0);if(!F2q){g10P="lin";g10P+="e";this.p1[1]+=1;F2q=this.lineIntersection(V2q,x2q,t2q,g10P);this.p1=v7M.clone(this.p0);w3iE.R0F7(6);z30P=w3iE.N0F7("2036101904",0);G30P=-162078387;s30P=+"2";for(var Z30P=1;w3iE.W60P(Z30P.toString(),Z30P.toString().length,99224) !== z30P;Z30P++){if(+F2q){return 1;}s30P+=+"2";}if(w3iE.W60P(s30P.toString(),s30P.toString().length,"23648" & 2147483647) !== G30P){if(!F2q){return null;}}}this.highlighted=!0;if(this.pointIntersection(this.p0["0" & 2147483647],this.p0[1],t2q)){this.highlighted="p0";}w3iE.m2iE();return {action:x10P,p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:V2q,value:x2q};},render:function(C2q){var D3iE=G5XX;var h2q,T2q,U2q,M2q,I2q,c2q,r2q,p2q,s2q,i2q,j2q,z2q;h2q=this.stx.panels[this.panelName];if(!h2q){return;}T2q=this.stx.pixelFromTick(this.p0[0],h2q.chart);U2q=this.stx.pixelFromValueAdjusted(h2q,this.p0["0" * 1],this.p0[1]);M2q=this.getLineColor();I2q={pattern:this.pattern,lineWidth:this.lineWidth};D3iE.y0F7(2);this.stx.plotLine(T2q,D3iE.N0F7(100,T2q),U2q,U2q,M2q,"horizontal",C2q,h2q,I2q);D3iE.m2iE();D3iE.R0F7(2);this.stx.plotLine(T2q,T2q,U2q,D3iE.N0F7(100,U2q),M2q,"vertical",C2q,h2q,I2q);if(this.axisLabel && !this.repositioner){this.stx.endClip();c2q=this.p0[+"1"];if(h2q.chart.transformFunc){c2q=h2q.chart.transformFunc(this.stx,h2q.chart,c2q);}if(h2q.yAxis.priceFormatter){c2q=h2q.yAxis.priceFormatter(this.stx,h2q,c2q);}else {c2q=this.stx.formatYAxisPrice(c2q,h2q);}this.stx.createYAxisLabel(h2q,c2q,U2q,M2q);this.stx.startClip(h2q.name);if(this.p0[0] >= 0 && !this.stx.chart.xAxis.noDraw){r2q=this.stx.dateFromTick(this.p0[0],h2q.chart,! !1);if(!v7M.ChartEngine.isDailyInterval(this.stx.layout.interval)){D3iE.y0F7(71);var w6BP=D3iE.N0F7(11,15841,17,990);s2q=r2q.getSeconds() * w6BP + r2q.getMilliseconds();if(g7M.Date && this.stx.displayZone){p2q=new g7M.Date(r2q.getTime(),this.stx.displayZone);r2q=new Date(p2q.getFullYear(),p2q.getMonth(),p2q.getDate(),p2q.getHours(),p2q.getMinutes());r2q=new Date(r2q.getTime() + s2q);}}else {D3iE.R0F7(38);r2q.setHours(+"0",D3iE.N0F7("0",2147483647),0,0);}i2q=v7M.mmddhhmm(v7M.yyyymmddhhmm(r2q));if(h2q.chart.xAxis.formatter){i2q=h2q.chart.xAxis.formatter(r2q,this.name,null,null,i2q);}else if(this.stx.internationalizer){if(r2q.getHours() !== 0 || r2q.getMinutes() !== 0){j2q=this.stx.internationalizer.monthDay.format(r2q);D3iE.R0F7(72);var o6BP=D3iE.n0F7(509880,14,2,14190,18);D3iE.y0F7(24);var u6BP=D3iE.n0F7(19,38,266);D3iE.R0F7(66);var N6BP=D3iE.N0F7(16,414470,4,6510);j2q+=((o6BP,"723" - 0) >= 696.39?(692.27,"600" ^ 0) === (u6BP,299.79)?N6BP:" ":(907.51,"0x10d7" - 0)) + this.stx.internationalizer.hourMinute.format(r2q);}else {j2q=this.stx.internationalizer.yearMonthDay.format(r2q);}i2q=j2q;}this.stx.endClip();this.stx.createXAxisLabel({panel:h2q,txt:i2q,x:T2q,backgroundColor:M2q,color:null,pointed:! !{},padding:2});this.stx.startClip(h2q.name);}}if(this.highlighted){z2q=this.highlighted == "p0"?!"":!{};this.littleCircle(C2q,T2q,U2q,z2q);}}},! !{});v7M.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!0;};v7M.inheritsFrom(v7M.Drawing.speedarc,v7M.Drawing.segment);v7M.extend(v7M.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color","fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;G5XX.g2iE();this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(a2q,P2q,d2q){var A2q,M10P,g30P,x30P,M30P,G2q,y2q,q2q,K2q,B2q;if(!this.p0 || !this.p1){return null;}A2q={0:this.p0,1:this.p1};for(var w2q in A2q){if(this.pointIntersection(A2q[w2q][0],A2q[w2q][1],d2q)){M10P="d";M10P+="r";M10P+="a";M10P+="g";G5XX.y0F7(2);this.highlighted=G5XX.N0F7(w2q,7270 === 4660?(2.54e+3,"p"):7674 !== 9520?(9160,562.33) <= 5940?"p":(6.12e+3,! ![]):(52.88,0x1577));return {action:M10P,point:"p" + w2q};}}g30P=1558609078;x30P=454315813;M30P=2;for(var J30P=1;G5XX.C60P(J30P.toString(),J30P.toString().length,"23495" ^ 0) !== g30P;J30P++){G2q=this.lineIntersection(a2q,P2q,d2q,this.name);M30P+=2;}if(G5XX.W60P(M30P.toString(),M30P.toString().length,56758) !== x30P){G2q=this.lineIntersection(a2q,P2q,d2q,this.name);}if(G2q){this.highlighted=! !{};return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:a2q,value:P2q};}y2q=this.p1["0" & 2147483647] - (this.p0[+"0"] - this.p1[0]);q2q=this.p0[0];K2q=this.p1[1];B2q=this.p0[1];if(a2q > Math.max(y2q,q2q) || a2q < Math.min(y2q,q2q)){return null;}if(P2q > Math.max(B2q,K2q) || P2q < Math.min(B2q,K2q)){return null;}this.highlighted=! !1;return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:a2q,value:P2q};},render:function(O2q){var z3iE=G5XX;var o2q,e2q,f2q,N2q,D2q,S2q,J2q,H2q,m2q,Q2q,W2q,E2q,S10P,n2q,L2q,J10P,v2q,g2q;o2q=this.stx.panels[this.panelName];if(!o2q){return;}if(!this.p1){return;}e2q=this.stx.pixelFromTick(this.p0["0" << 2068441632],o2q.chart);f2q=this.stx.pixelFromTick(this.p1[0],o2q.chart);N2q=this.stx.pixelFromValueAdjusted(o2q,this.p0[0],this.p0[1]);D2q=this.stx.pixelFromValueAdjusted(o2q,this.p1[0],this.p1[1]);z3iE.R0F7(60);S2q=z3iE.N0F7(D2q,N2q);z3iE.y0F7(61);J2q=Math.abs(z3iE.N0F7(D2q,N2q,e2q,f2q));H2q=this.getLineColor();O2q.strokeStyle=H2q;m2q=this.fillColor;if(m2q == "auto" || v7M.isTransparent(m2q)){m2q=this.stx.defaultColor;}O2q.fillStyle=m2q;if(O2q.setLineDash){O2q.setLineDash(v7M.borderPatternToArray(this.lineWidth,this.pattern));O2q.lineDashOffset=0;;}this.stx.canvasFont("stx_yaxis",O2q);for(var l2q=1;l2q < 3;l2q++){z3iE.R0F7(64);var r6BP=z3iE.N0F7(9,10);z3iE.y0F7(4);var a6BP=z3iE.N0F7(0,6,4);z3iE.y0F7(28);var A6BP=z3iE.N0F7(7,1,4);Q2q=Math.abs(this.p1[+"1"] - this.p0[r6BP]) * Math.sqrt(a6BP) * l2q / A6BP;z3iE.R0F7(73);var j6BP=z3iE.N0F7(1,4,1,14,11);z3iE.R0F7(32);var n6BP=z3iE.N0F7(10,9,5,25);W2q=this.p1[j6BP] + Q2q * (S2q?- +"1":+"1") * (o2q.yAxis.flipped?n6BP:+"1");E2q=this.stx.pixelFromValueAdjusted(o2q,this.p0[0],W2q);O2q.save();O2q.beginPath();z3iE.R0F7(10);O2q.scale(z3iE.N0F7(1,J2q),1);z3iE.R0F7(22);O2q.arc(z3iE.n0F7(J2q,f2q),D2q,Math.abs(E2q - D2q),"0" << 1552792416,Math.PI,!S2q);O2q.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){O2q.stroke();}z3iE.y0F7(22);O2q.globalAlpha=z3iE.N0F7(1,"0.1");O2q.fill();O2q.restore();O2q.globalAlpha=1;if(this.printLevels){S10P="cen";S10P+="ter";O2q.fillStyle=H2q;O2q.textAlign=S10P;z3iE.R0F7(2);n2q=z3iE.N0F7("/3",l2q);O2q.fillText(n2q,f2q,Math.round(E2q - 5));O2q.fillStyle=m2q;}}O2q.textAlign="left";L2q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" | 1:this.defaultOpacity};this.stx.plotLine(e2q,f2q,N2q,D2q,H2q,"segment",O2q,o2q,L2q);if(O2q.setLineDash){O2q.setLineDash([]);}if(this.highlighted){J10P="p";J10P+="1";v2q=this.highlighted == "p0"?! ![]:![];g2q=this.highlighted == J10P?! !1:!1;this.littleCircle(O2q,e2q,N2q,v2q);this.littleCircle(O2q,f2q,D2q,g2q);}},reconstruct:function(X2q,R2q){this.stx=X2q;this.color=R2q.col;this.fillColor=R2q.fc;this.panelName=R2q.pnl;this.pattern=R2q.ptrn;this.lineWidth=R2q.lw;this.d0=R2q.d0;this.d1=R2q.d1;this.tzo0=R2q.tzo0;this.tzo1=R2q.tzo1;this.v0=R2q.v0;this.v1=R2q.v1;this.adjust();},serialize:function(){G5XX.g2iE();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},!"");v7M.Drawing.speedline=function(){this.name="speedline";this.printLevels=! !{};};v7M.inheritsFrom(v7M.Drawing.speedline,v7M.Drawing.speedarc);v7M.extend(v7M.Drawing.speedline.prototype,{intersected:function(V8q,x8q,t8q){var u8q,b8q,k8q,X10P,F8q,D10P;u8q=this.p0;b8q=this.p1;if(!u8q || !b8q){return null;}k8q={0:u8q,1:b8q};for(var Y2q in k8q){if(this.pointIntersection(k8q[Y2q][+"0"],k8q[Y2q]["1" & 2147483647],t8q)){X10P="d";X10P+="r";X10P+="a";X10P+="g";G5XX.R0F7(2);this.highlighted=G5XX.n0F7(Y2q,"p");return {action:X10P,point:((+"5566",+"6910") !== 1990?"p":417 >= (211,9580)?(![],0x1f21):377.32 == (471,1254)?"J":(+"925",0x1ad7)) + Y2q};}}F8q=this.rays;for(var Z2q=0;Z2q < F8q.length;Z2q++){D10P="r";D10P+="a";D10P+="y";if(this.lineIntersection(V8q,x8q,t8q,D10P,F8q[Z2q][0],F8q[Z2q]["1" << 332850080],! !1)){this.highlighted=!0;return {action:"move",p0:v7M.clone(u8q),p1:v7M.clone(b8q),tick:V8q,value:x8q};}}return null;},render:function(h8q){var B3iE=G5XX;var G10P,H10P,p8q,r8q,T8q,c8q,M8q,K8q,C8q,s8q,B8q,d8q,G8q,y8q,q8q,U8q,z10P,i8q,I8q,P8q,j8q,a8q,w8q,A8q,V10P,E10P,R70P,Y70P,L70P,O8q,o8q;G10P="l";G10P+="ef";G10P+="t";H10P="stx_y";H10P+="axis";p8q=this.stx.panels[this.panelName];if(!p8q){return;}if(!this.p1){return;}r8q=this.stx.pixelFromTick(this.p0[0],p8q.chart);T8q=this.stx.pixelFromTick(this.p1["0" << 801807648],p8q.chart);c8q=this.stx.pixelFromValueAdjusted(p8q,this.p0[+"0"],this.p0[1]);M8q=this.stx.pixelFromValueAdjusted(p8q,this.p1[0],this.p1[1]);this.stx.canvasFont(H10P,h8q);K8q=this.getLineColor();C8q=this.color;if(C8q == "auto" || v7M.isTransparent(C8q)){C8q=this.stx.defaultColor;}h8q.strokeStyle=C8q;s8q=this.fillColor;if(s8q == "auto" || v7M.isTransparent(s8q)){s8q=this.stx.defaultColor;}h8q.fillStyle=s8q;B8q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};y8q=[(4142,+"804.84") == (8943,6386)?(1.05e+2,0x1ca6):"1","2/3","1/3","3/2","3"];B3iE.R0F7(10);q8q=[1,B3iE.n0F7(2,3),B3iE.N0F7("1","3",860160000,B3iE.R0F7(74)),B3iE.N0F7(3,2,B3iE.R0F7(10)),3];U8q=[];this.rays=[];for(var z8q=0;z8q < q8q.length;z8q++){z10P="seg";z10P+="men";z10P+="t";i8q=q8q[z8q];if(i8q > 1 && !this.extension)continue;I8q=this.stx.pixelFromValueAdjusted(p8q,this.p0[0],this.p0[1] - (this.p0[1] - this.p1[1]) * i8q);if(i8q > 1){P8q=v7M.xIntersection({x0:r8q,x1:T8q,y0:c8q,y1:I8q},M8q);U8q.push(P8q);}else {P8q=v7M.xIntersection({x0:T8q,x1:T8q,y0:c8q,y1:M8q},I8q);U8q.push(I8q);}j8q=i8q > +"1"?P8q:T8q;a8q=i8q > 1?M8q:I8q;if(!this.confineToGrid){j8q=p8q.left;if(T8q > r8q){j8q+=p8q.width;}B3iE.y0F7(69);a8q=B3iE.n0F7(c8q,c8q,r8q,j8q,T8q,I8q,r8q);}if(this.printLevels){if(i8q != +"1" || this.extension){h8q.fillStyle=C8q;w8q=0;A8q=+"0";if(c8q > M8q){A8q=-5;h8q.textBaseline="bottom";}else {V10P="t";V10P+="o";V10P+="p";A8q=5;h8q.textBaseline=V10P;}if(r8q > T8q){w8q=5;h8q.textAlign="right";}else {E10P="l";E10P+="ef";E10P+="t";w8q=-5;h8q.textAlign=E10P;}if(i8q > 1){h8q.fillText(y8q[z8q],P8q + (this.confineToGrid?0:w8q),M8q);}else {h8q.fillText(y8q[z8q],T8q,I8q + (this.confineToGrid?0:A8q));}h8q.fillStyle=s8q;}}this.stx.plotLine(r8q,j8q,c8q,a8q,this.highlighted?K8q:C8q,z10P,h8q,p8q,B8q);if(i8q == ("1" & 2147483647)){d8q=j8q;G8q=a8q;}this.rays.push([[r8q,c8q],[j8q,a8q]]);h8q.globalAlpha=0.1;h8q.beginPath();h8q.moveTo(j8q,a8q);h8q.lineTo(r8q,c8q);h8q.lineTo(d8q,G8q);h8q.fill();h8q.globalAlpha=1;}h8q.textAlign=G10P;h8q.textBaseline="middle";if(this.confineToGrid){h8q.globalAlpha=0.3;h8q.beginPath();B3iE.R0F7(6);h8q.strokeRect(r8q,c8q,B3iE.n0F7(T8q,r8q),B3iE.n0F7(M8q,c8q));h8q.moveTo(r8q,U8q[+"1"]);R70P=- +"1855319217";Y70P=1619934907;L70P=2;for(var t70P="1" << 187410080;B3iE.W60P(t70P.toString(),t70P.toString().length,+"93954") !== R70P;t70P++){h8q.lineTo(T8q,U8q[8]);L70P+=2;}if(B3iE.C60P(L70P.toString(),L70P.toString().length,23206) !== Y70P){h8q.lineTo(T8q,U8q[1]);}h8q.moveTo(r8q,U8q[2]);h8q.lineTo(T8q,U8q[2]);if(this.extension){h8q.moveTo(U8q[3],c8q);h8q.lineTo(U8q[3],M8q);h8q.moveTo(U8q[4],c8q);h8q.lineTo(U8q[4],M8q);}h8q.stroke();h8q.globalAlpha=1;}if(this.highlighted){O8q=this.highlighted == "p0"?!"":!{};o8q=this.highlighted == "p1"?!0:! !"";this.littleCircle(h8q,r8q,c8q,O8q);this.littleCircle(h8q,T8q,M8q,o8q);}}},! !{});v7M.Drawing.gannfan=function(){var s10P;s10P="gan";G5XX.m2iE();s10P+="nfan";this.name=s10P;this.printLevels=!0;};v7M.inheritsFrom(v7M.Drawing.gannfan,v7M.Drawing.speedline);v7M.extend(v7M.Drawing.gannfan.prototype,{render:function(D8q){var H3iE=G5XX;var i40P,y10P,N8q,f8q,l8q,m8q,E8q,R8q,e8q,J8q,X8q,Y8q,Z8q,v8q,H8q,u3q,g8q,S8q,Q8q,n8q,L8q,Z10P,R40P,Y40P,L40P,K40P,t40P,b3q,k3q;i40P="mid";i40P+="d";i40P+="l";i40P+="e";y10P="a";y10P+="u";y10P+="to";N8q=this.stx.panels[this.panelName];if(!N8q){return;}if(!this.p1){return;}f8q=this.stx.pixelFromTick(this.p0[+"0"],N8q.chart);l8q=this.stx.pixelFromTick(this.p1[0],N8q.chart);m8q=this.stx.pixelFromValueAdjusted(N8q,this.p0[0],this.p0[1]);E8q=this.stx.pixelFromValueAdjusted(N8q,this.p1[0],this.p1[1]);H3iE.m2iE();this.stx.canvasFont("stx_yaxis",D8q);R8q=this.getLineColor();e8q=this.color;if(e8q == y10P || v7M.isTransparent(e8q)){e8q=this.stx.defaultColor;}D8q.strokeStyle=e8q;J8q=this.fillColor;if(J8q == "auto" || v7M.isTransparent(J8q)){J8q=this.stx.defaultColor;}D8q.fillStyle=J8q;X8q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?"1" << 1650699744:this.defaultOpacity};H3iE.y0F7(75);v8q=[1,2,3,4,8,H3iE.N0F7(1,"2"),H3iE.N0F7(1,"3",H3iE.R0F7(75)),H3iE.n0F7(1,4,H3iE.R0F7(10)),H3iE.n0F7(1,8,H3iE.R0F7(10))];this.rays=[];for(var W8q=0;W8q < v8q.length;W8q++){H8q=v8q[W8q];H3iE.y0F7(76);u3q=H3iE.n0F7(f8q,l8q,H8q,f8q);H3iE.y0F7(77);g8q=H3iE.N0F7(E8q,H8q,m8q,m8q);S8q=N8q.left;if(l8q > f8q){S8q+=N8q.width;}H3iE.R0F7(69);Q8q=H3iE.n0F7(m8q,m8q,f8q,S8q,l8q,g8q,f8q);if(this.printLevels){D8q.fillStyle=e8q;n8q=0;L8q=+"0";if(m8q > E8q){Z10P="t";Z10P+="o";Z10P+="p";H3iE.R0F7(6);L8q=H3iE.N0F7("5",0);D8q.textBaseline=Z10P;}else {L8q=-5;D8q.textBaseline="bottom";}if(f8q > l8q){R40P="lef";R40P+="t";n8q=5;D8q.textAlign=R40P;}else {n8q=-5;D8q.textAlign="right";}if(H8q > 1){Y40P="x";Y40P+="1";H3iE.y0F7(2);D8q.fillText(H3iE.n0F7(Y40P,H8q),H3iE.n0F7(n8q,u3q),E8q);}else {L40P="1";L40P+="x";H3iE.R0F7(44);D8q.fillText(H3iE.N0F7(L40P,1,H8q),l8q,H3iE.N0F7(L8q,g8q,H3iE.y0F7(2)));}D8q.fillStyle=J8q;}this.stx.plotLine(f8q,S8q,m8q,Q8q,this.highlighted?R8q:e8q,"segment",D8q,N8q,X8q);this.rays.push([[f8q,m8q],[S8q,Q8q]]);if(H8q == 1){Y8q=S8q;Z8q=Q8q;}D8q.globalAlpha=0.1;D8q.beginPath();D8q.moveTo(S8q,Q8q);D8q.lineTo(f8q,m8q);D8q.lineTo(Y8q,Z8q);D8q.fill();D8q.globalAlpha=1;}D8q.textAlign="left";D8q.textBaseline=i40P;if(this.highlighted){K40P="p";K40P+="1";t40P="p";t40P+="0";b3q=this.highlighted == t40P?!0:!{};k3q=this.highlighted == K40P?! !{}:!"1";this.littleCircle(D8q,f8q,m8q,b3q);this.littleCircle(D8q,l8q,E8q,k3q);}}},! ![]);v7M.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=! !{};};v7M.inheritsFrom(v7M.Drawing.timecycle,v7M.Drawing.speedarc);v7M.extend(v7M.Drawing.timecycle.prototype,{intersected:function(r3q,c3q,x3q){var x3iE=G5XX;var F3q,t3q,T3q,h3q,U3q,q40P,K70P,q70P,b70P;F3q=this.p0;t3q=this.p1;T3q=this.stx.panels[this.panelName];x3iE.g2iE();if(!F3q || !t3q || !T3q){return null;}h3q={0:F3q,1:t3q};for(var V3q in h3q){if(this.pointIntersection(h3q[V3q][0],h3q[V3q]["1" | 0],x3q)){x3iE.y0F7(2);this.highlighted=x3iE.N0F7(V3q,2371 >= 8080?(813.54,0x6b8):87 < 893.15?(4900,6715) === (5281,671.72)?0x1b5a:"p":("n",2.24e+3));return {action:"drag",point:((6216,8940) !== (777.85,8070)?278 <= "3120" - 0?559.28 > 4370?"228" - 0:"p":(!"",0x2393):"h") + V3q};}}U3q=this.lineIntersection(r3q,c3q,x3q,"segment");if(U3q || x3q.x0 <= this.p0[+"0"] && x3q.x1 >= F3q[0]){q40P="m";q40P+="ove";this.highlighted=! !"1";return {action:q40P,p0:v7M.clone(F3q),p1:v7M.clone(t3q),tick:r3q,value:c3q};}K70P=-1499996233;q70P=-635135205;b70P=2;for(var T70P="1" * 1;x3iE.C60P(T70P.toString(),T70P.toString().length,92056) !== K70P;T70P++){return 1;}if(x3iE.C60P(b70P.toString(),b70P.toString().length,55281) !== q70P){return +"1";}return null;},render:function(p3q){var l3iE=G5XX;var b40P,M3q,j3q,a3q,y3q,q3q,w3q,K3q,o3q,B3q,i3q,d3q,s3q,z3q,P3q,G3q,C3q,A3q,D3q,f3q,m3q,O3q;b40P="stx";b40P+="_";b40P+="yaxis";M3q=this.stx.panels[this.panelName];if(!M3q){return;}if(!this.p1){return;}j3q=this.stx.pixelFromTick(this.p0[0],M3q.chart);a3q=this.stx.pixelFromTick(this.p1[0],M3q.chart);y3q=this.stx.pixelFromValueAdjusted(M3q,this.p0[0],this.p0[1]);q3q=this.stx.pixelFromValueAdjusted(M3q,this.p1[0],this.p1[1]);w3q=0;K3q=this.getLineColor();p3q.textBaseline="middle";this.stx.canvasFont(b40P,p3q);l3iE.m2iE();o3q=20;B3q=this.p1[0] - this.p0[0];p3q.textAlign="center";i3q=j3q;d3q=M3q.yAxis.top;s3q=M3q.yAxis.bottom;z3q=this.color;if(z3q == "auto" || v7M.isTransparent(z3q)){z3q=this.stx.defaultColor;}P3q=this.fillColor;if(P3q == "auto" || v7M.isTransparent(P3q)){P3q=this.stx.defaultColor;}if(this.printLevels){l3iE.y0F7(6);s3q-=l3iE.N0F7(o3q,7);}G3q={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};C3q=[];p3q.save();p3q.fillStyle=P3q;p3q.globalAlpha=0.05;do {i3q=this.stx.pixelFromTick(this.p0["0" >> 774473408] + w3q * B3q,M3q.chart);w3q++;if(j3q < a3q && i3q > M3q.left + M3q.width)break;else if(j3q > a3q && i3q < M3q.left)break;else if(i3q < M3q.left || i3q > M3q.left + M3q.width)continue;p3q.beginPath();p3q.moveTo(j3q,d3q);p3q.lineTo(i3q,d3q);p3q.lineTo(i3q,s3q);p3q.lineTo(j3q,s3q);p3q.fill();C3q.push({c:w3q,x:i3q});}while(B3q);p3q.globalAlpha=1;l3iE.R0F7(38);A3q=l3iE.n0F7("0",2147483647);for(var I3q=0;I3q < C3q.length;I3q++){this.stx.plotLine(C3q[I3q].x,C3q[I3q].x,0,s3q,this.highlighted?K3q:z3q,"segment",p3q,M3q,G3q);if(this.printLevels){p3q.fillStyle=z3q;l3iE.y0F7(78);var v6BP=l3iE.n0F7(18,15,5,5,0);D3q=this.stx.chart.context.measureText(C3q[I3q].c).width + v6BP;if(D3q < this.stx.layout.candleWidth + A3q){p3q.fillText(C3q[I3q].c,C3q[I3q].x,s3q + 7);A3q=0;}else {A3q+=this.stx.layout.candleWidth;}}}p3q.restore();p3q.textAlign="left";this.stx.plotLine(j3q,a3q,y3q,q3q,K3q,"segment",p3q,M3q,G3q);if(this.highlighted){f3q=this.highlighted == "p0"?! !1:! !0;m3q=this.highlighted == "p1"?! !"1":!1;this.littleCircle(p3q,j3q,y3q,f3q);this.littleCircle(p3q,a3q,q3q,m3q);}else {O3q=this.stx.valueFromPixel(M3q.height / 2,M3q);l3iE.y0F7(40);this.setPoint(l3iE.n0F7("0",0),this.p0[0],O3q,M3q.chart);this.setPoint(1,this.p1[0],O3q,M3q.chart);}}},! !{});v7M.Drawing.regression=function(){var t90P,K90P,q90P,m40P;t90P=578633358;G5XX.R0F7(38);K90P=G5XX.N0F7("1701866910",2147483647);q90P=2;for(var m90P=1;G5XX.C60P(m90P.toString(),m90P.toString().length,92864) !== t90P;m90P++){this.name="";q90P+=2;}if(G5XX.W60P(q90P.toString(),q90P.toString().length,88611) !== K90P){m40P="re";m40P+="gression";this.name=m40P;}};v7M.inheritsFrom(v7M.Drawing.regression,v7M.Drawing.segment);v7M.extend(v7M.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1",T40P,"active2","color2","lineWidth2",e40P,"active3","color3","lineWidth3","pattern3"],copyConfig:function(l3q){var c40P,P40P,N3q;c40P="a";c40P+="ut";c40P+="o";P40P="au";P40P+="to";v7M.Drawing.copyConfig(this,l3q);N3q=this.stx.currentVectorParameters;this.active1=! !N3q.active1;this.active2=! !N3q.active2;this.active3=! !N3q.active3;this.color1=N3q.color1 || P40P;this.color2=N3q.color2 || "auto";this.color3=N3q.color3 || c40P;this.lineWidth1=N3q.lineWidth1;this.lineWidth2=N3q.lineWidth2;this.lineWidth3=N3q.lineWidth3;this.pattern1=N3q.pattern1;this.pattern2=N3q.pattern2;this.pattern3=N3q.pattern3;},$controls:[f40P,I40P,'cq-cvp-controller[cq-cvp-header="3"]'],click:function(L3q,S3q,J3q){var H3q,e3q,E3q,Q3q;if(S3q < 0){return;}this.copyConfig();H3q=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,S3q,J3q,H3q.chart);this.penDown=! ![];e3q=this.stx;this.field=e3q.highlightedDataSetField;if(!this.field && H3q != e3q.chart.panel){for(var W3q in e3q.chart.seriesRenderers){E3q=e3q.chart.seriesRenderers[W3q];if(E3q.params.panel == H3q.name){this.field=E3q.seriesParams[0].field;break;}}for(var n3q in e3q.layout.studies){Q3q=e3q.layout.studies[n3q];if(Q3q.panel == H3q.name){this.field=Object.keys(Q3q.outputMap)[0];break;}}}return !{};}if(this.accidentalClick(S3q,J3q)){return this.dragToDraw;}G5XX.m2iE();this.setPoint(1,S3q,J3q,H3q.chart);this.penDown=! !"";return !0;;},getYValue:function(u4q){var R3q,X3q,Y3q,b4q,g3q,v3q,Z3q,k40P;R3q=this.stx.chart.dataSet[u4q];X3q=this.stx.chart.dataSet[u4q];if(!R3q){return null;}Y3q=this.stx.panels[this.panelName];b4q=this.stx.getYAxisByField(Y3q,this.field) || Y3q.yAxis;if(this.stx.charts[Y3q.name] && Y3q.chart.transformFunc && b4q == Y3q.yAxis){X3q=R3q.transform;}G5XX.g2iE();if(!X3q){return null;}g3q=null;v3q=null;Z3q=this.stx.defaultPlotField || "Close";if(this.field){k40P="o";k40P+="b";k40P+="jec";k40P+="t";v3q=v7M.existsInObjectChain(X3q,this.field);if(!v3q){return null;}g3q=v3q=v3q.obj[v3q.member];if(R3q != X3q){g3q=v7M.existsInObjectChain(R3q,this.field);g3q=g3q.obj[g3q.member];}if(typeof v3q == k40P){v3q=v3q[Z3q];g3q=g3q[Z3q];}}else {v3q=X3q[Z3q];g3q=R3q[Z3q];}return {transformed:v3q,untransformed:g3q};},render:function(c4q){var T3iE=G5XX;var F40P,F4q,x4q,t4q,z4q,T4q,a4q,U4q,i4q,K4q,B4q,d4q,G4q,j4q,P4q,k4q,h4q,O4q,o4q,C4q,I4q,D4q,s4q,w4q,A4q,p4q,M4q,y4q,q4q,m4q,f4q,N4q,r4q,p40P,l4q,e4q;F40P="se";F40P+="gme";F40P+="nt";F4q=this.stx.panels[this.panelName];if(!F4q){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1[+"0"] < 0){return;}x4q=this.stx.pixelFromTick(this.p0[+"0"],F4q.chart);t4q=this.stx.pixelFromTick(this.p1[0],F4q.chart);if(x4q < F4q.left && t4q < F4q.left){return;}if(x4q > F4q.right && t4q > F4q.right){return;}z4q=this.stx.getYAxisByField(F4q,this.field);T4q=[];a4q=[];U4q=0;i4q=0;K4q=0;B4q=0;d4q=Math.min(this.p1[+"0"],this.p0[0]);T3iE.R0F7(23);var g6BP=T3iE.n0F7(1,19,18);G4q=Math.max(this.p1[0],this.p0["0" & 2147483647]) + g6BP;T3iE.R0F7(6);j4q=T3iE.n0F7(G4q,d4q);for(var V4q=d4q;V4q < G4q;V4q++){P4q=this.getYValue(V4q);if(P4q){T4q.push(P4q.transformed);a4q.push(P4q.untransformed);}}k4q=T4q.length;T3iE.R0F7(79);h4q=T3iE.N0F7(k4q,k4q,1,2);O4q=Math.pow(h4q,+"2");T3iE.y0F7(80);o4q=T3iE.N0F7(1,h4q,k4q,1834273184,"2","3");for(V4q=0;V4q < k4q;V4q++){K4q+=k4q * T4q[V4q] - U4q;U4q+=T4q[V4q];B4q+=k4q * a4q[V4q] - i4q;i4q+=a4q[V4q];}T3iE.y0F7(81);C4q=T3iE.n0F7(K4q,h4q,O4q,k4q,k4q,o4q,U4q);T3iE.y0F7(82);I4q=T3iE.n0F7(U4q,C4q,h4q,k4q);T3iE.y0F7(81);D4q=T3iE.N0F7(B4q,h4q,O4q,k4q,k4q,o4q,i4q);T3iE.R0F7(82);T3iE.m2iE();s4q=T3iE.N0F7(i4q,C4q,h4q,k4q);if(this.p0[+"0"] < this.p1[0]){w4q=I4q;T3iE.y0F7(83);A4q=T3iE.n0F7(j4q,I4q,C4q);this.p0[1]=s4q;T3iE.y0F7(83);this.p1[+"1"]=T3iE.N0F7(j4q,s4q,D4q);}else {T3iE.R0F7(83);w4q=T3iE.n0F7(j4q,I4q,C4q);A4q=I4q;T3iE.R0F7(83);this.p0[1]=T3iE.N0F7(j4q,s4q,D4q);this.p1[+"1"]=s4q;}p4q=this.stx.pixelFromTransformedValue(w4q,F4q,z4q);M4q=this.stx.pixelFromTransformedValue(A4q,F4q,z4q);y4q=this.getLineColor();q4q={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(x4q,t4q,p4q,M4q,y4q,F40P,c4q,F4q,q4q);T3iE.R0F7(14);this.stx.plotLine(x4q,x4q,T3iE.N0F7(1,p4q,"20"),T3iE.n0F7(20,p4q,T3iE.y0F7(2)),y4q,"segment",c4q,F4q,q4q);T3iE.R0F7(6);this.stx.plotLine(t4q,t4q,T3iE.N0F7(M4q,20),T3iE.n0F7(20,M4q,T3iE.R0F7(2)),y4q,"segment",c4q,F4q,q4q);if(this.active1 || this.active2 || this.active3){T3iE.R0F7(10);m4q=T3iE.n0F7(U4q,k4q);f4q=0;for(V4q=0;V4q < k4q;V4q++){f4q+=Math.pow(T4q[V4q] - m4q,2);}T3iE.y0F7(10);N4q=Math.sqrt(T3iE.n0F7(f4q,k4q));r4q={context:c4q,panel:F4q,points:{0:{x:x4q,v:w4q},1:{x:t4q,v:A4q}},stddev:N4q,yAxis:z4q};this.lines={};if(this.active1){this.renderStddev(("7937" | 3329,9439) <= (1235,948.38)?0x11c2:"1","p",r4q);this.renderStddev("1","n",r4q);}if(this.active2){this.renderStddev("9596" << 884399936 !== (7173,4257)?496.29 <= (838.84,3274)?(104.82,7780) > (873.65,6605)?"2":(965.22,9.54e+2):("8.41e+3" - 0,"N"):(4.30e+3,"c"),"p",r4q);this.renderStddev(+"25.74" > 7120?(+"6687",9370) !== 9414?(0x51f,"i"):!0:"2",+"2183" <= (2380,979.69)?"L":"n",r4q);}if(this.active3){this.renderStddev((+"722",4480) > 6470?("b",7.42e+3):167.78 != (835,6957)?9832 != "6660" - 0?"3":(! !1,5.09e+3):!1,"p",r4q);this.renderStddev("3",21.48 <= (225.7,7828)?(6987,81.73) === (3590,6560)?3960 != (5845,6950)?(!1,"c"):! !{}:"n":(994.91,0x2029),r4q);}}if(!this.highlighted){this.pixelX=[x4q,t4q];this.pixelY=[p4q,M4q];}else {p40P="p";p40P+="0";l4q=this.highlighted == p40P?! !1:![];e4q=this.highlighted == "p1"?!0:![];this.littleCircle(c4q,x4q,p4q,l4q);this.littleCircle(c4q,t4q,M4q,e4q);}},renderStddev:function(n4q,k7q,L4q){var U3iE=G5XX;var C40P,h40P,Y4q,F7q,V7q,x7q,v4q,Z4q,u7q,R4q,X4q,E4q,S4q,g4q,H4q,J4q,Q4q,W4q,t7q,h7q,b7q,r7q;C40P="se";C40P+="gm";C40P+="en";C40P+="t";h40P="line";h40P+="Widt";h40P+="h";U3iE.R0F7(55);Y4q=U3iE.n0F7(n4q,k7q,"stddev");U3iE.y0F7(2);F7q=U3iE.n0F7(n4q,"color");U3iE.R0F7(2);V7q=U3iE.n0F7(n4q,"pattern");U3iE.y0F7(2);x7q=U3iE.N0F7(n4q,h40P);v4q=L4q.points;Z4q=v4q[0].v;u7q=v4q[1].v;R4q=L4q.stddev;X4q=k7q === "n"?n4q * -1:n4q * +"1";E4q=this.stx;S4q=L4q.panel;g4q=L4q.yAxis;H4q={name:Y4q,color:this.getLineColor(this[F7q]),type:C40P,y0:E4q.pixelFromTransformedValue(Z4q + R4q * X4q,S4q,g4q),y1:E4q.pixelFromTransformedValue(u7q + R4q * X4q,S4q,g4q),params:{pattern:this[V7q],lineWidth:this[x7q]}};if(this.lines){this.lines[Y4q]=H4q;}J4q=L4q.context;Q4q=v4q[+"0"].x;W4q=v4q[1].x;E4q.plotLine(Q4q,W4q,H4q.y0,H4q.y1,H4q.color,H4q.type,J4q,S4q,H4q.params);E4q.plotLine(Q4q,Q4q,H4q.y0 - ("10" << 1843961504),H4q.y0 + 10,H4q.color,H4q.type,J4q,S4q,H4q.params);E4q.plotLine(W4q,W4q,H4q.y1 - 10,H4q.y1 + ("10" << 1842024512),H4q.color,H4q.type,J4q,S4q,H4q.params);U3iE.R0F7(2);t7q=U3iE.n0F7(("7447" >> 1927931584,"7580" | 6144) == 7940?(289.31,95):(3006,+"7573") === (2668,7.44)?315.73 == (2300,591.84)?"L":(!{},0x238d):"\u03c3",n4q);h7q=Math.max(Q4q,W4q) + +"5";b7q=Q4q < W4q?H4q.y1:H4q.y0;J4q.fillStyle=H4q.color;J4q.save();J4q.textBaseline="middle";J4q.fillText(t7q,h7q,b7q);J4q.restore();if(L4q.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(Q4q >= S4q.chart.left && Q4q <= S4q.chart.right || W4q >= S4q.chart.left && W4q <= S4q.chart.right){U3iE.R0F7(19);r7q=U3iE.n0F7(R4q,Q4q < W4q?u7q:Z4q,X4q);E4q.endClip();E4q.createYAxisLabel(S4q,L4q.formatPrice(r7q,g4q),b7q,H4q.color,null,J4q,g4q);E4q.startClip(S4q.name);}}},intersected:function(U7q,p7q,I7q){var M7q,i7q,j7q,s7q,z7q,C7q,T7q,W40P;if(!this.pixelX || !this.pixelY){return null;}M7q=this.repositionIntersection(U7q,p7q);if(M7q){return M7q;}i7q={0:this.pixelX,1:this.pixelY};for(var c7q=0;c7q < 2;c7q++){if(this.pointIntersection(i7q[0][c7q],i7q[1][c7q],I7q,!0)){G5XX.R0F7(2);this.highlighted=G5XX.N0F7(c7q,"p");return {action:"drag",point:(4440 > 6380?(0x1ae8,4.91e+2):("7582" ^ 0,+"7650") >= (837.88,7840)?("B",0x972):3651 == 4?(0x1a32,+"738.79"):"p") + c7q};}}j7q=this;s7q=this.pixelX[0];z7q=this.pixelX[1];C7q=function(P7q){var w7q,A7q;w7q=[s7q,P7q.y0];A7q=[z7q,P7q.y1];return j7q.lineIntersection(U7q,p7q,I7q,j7q.name,w7q,A7q,!0);};T7q=C7q({y0:this.pixelY[+"0"],y1:this.pixelY[+"1"]});if(!T7q && this.lines){for(var a7q in this.lines){if(C7q(this.lines[a7q])){T7q=! !1;break;}}}if(T7q){W40P="mov";W40P+="e";this.highlighted=!0;return {action:W40P,p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:U7q,value:p7q};}return null;},repositionIntersection:function(y7q,q7q){var O40P;if(!this.p0 || !this.p1){return !"1";}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! ![]){O40P="mov";O40P+="e";return {action:O40P,p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:y7q,value:q7q};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(m7q,N7q,o7q,D7q,B7q,d7q,f7q){var O7q,K7q,G7q;if(!f7q){G5XX.R0F7(2);console.log(G5XX.n0F7(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",D7q));return !1;}if(!B7q){B7q=this.p0;}if(!d7q){d7q=this.p1;}if(!(B7q && d7q)){return !"1";}O7q=this.stx;K7q=v7M.convertBoxToPixels(O7q,this.panelName,o7q);if(K7q.x0 === undefined){return ![];}G5XX.g2iE();G7q={x0:B7q[+"0"],x1:d7q[0],y0:B7q[1],y1:d7q[1]};return v7M.boxIntersects(K7q.x0,K7q.y0,K7q.x1,K7q.y1,G7q.x0,G7q.y0,G7q.x1,G7q.y1);},boxIntersection:function(e7q,H7q,l7q){if(l7q.cx0 > Math.max(this.pixelX[0],this.pixelX["1" & 2147483647]) || l7q.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return ! !"";}if(!this.stx.repositioningDrawing && (l7q.cy1 < this.pixelY[0] || l7q.cy0 > this.pixelY["1" | 1])){return !1;}return ! !{};},reconstruct:function(J7q,S7q){this.stx=J7q;this.color=S7q.col;this.color1=S7q.col1;this.color2=S7q.col2;this.color3=S7q.col3;this.active1=S7q.dev1;this.active2=S7q.dev2;this.active3=S7q.dev3;this.panelName=S7q.pnl;G5XX.m2iE();this.pattern=S7q.ptrn;this.pattern1=S7q.ptrn1;this.pattern2=S7q.ptrn2;this.pattern3=S7q.ptrn3;this.lineWidth=S7q.lw;this.lineWidth1=S7q.lw1;this.lineWidth2=S7q.lw2;this.lineWidth3=S7q.lw3;this.d0=S7q.d0;this.d1=S7q.d1;this.tzo0=S7q.tzo0;this.tzo1=S7q.tzo1;this.field=S7q.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !"1");v7M.Drawing.trendline=function(){this.name="trendline";};v7M.inheritsFrom(v7M.Drawing.trendline,v7M.Drawing.segment);v7M.Drawing.trendline.prototype.configs=["color","fillColor",Q40P,"pattern","font"];v7M.Drawing.trendline.prototype.measure=function(){;};v7M.Drawing.trendline.prototype.reconstruct=function(E7q,Q7q){v7M.Drawing.segment.prototype.reconstruct.call(this,E7q,Q7q);this.callout=new v7M.Drawing.callout();this.callout.reconstruct(E7q,Q7q.callout);};v7M.Drawing.trendline.prototype.serialize=function(){G5XX.m2iE();var W7q;W7q=v7M.Drawing.segment.prototype.serialize.call(this);W7q.callout=this.callout.serialize();return W7q;};v7M.Drawing.trendline.prototype.render=function(Y7q){var I3iE=G5XX;var l40P,n7q,x1q,g7q,R7q,L7q,v7q,Z7q,X7q,u1q,t1q,b1q,h1q,r1q,k1q,F1q,V1q,c1q,T1q,B40P,U1q,p1q;l40P=" ";l40P+="B";l40P+="a";l40P+="rs";n7q=this.stx.panels[this.panelName];if(!n7q){return;}v7M.Drawing.segment.prototype.render.call(this,Y7q);if(!this.callout){this.callout=new v7M.Drawing.callout();x1q=v7M.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,x1q);}this.callout.p0=v7M.clone(this.p0);g7q=this.stx.pixelFromTick(this.p0[0],n7q.chart);R7q=this.stx.pixelFromTick(this.p1[+"0"],n7q.chart);L7q=this.stx.pixelFromValueAdjusted(n7q,this.p0["0" << 1323351872],this.p0[1]);v7q=this.stx.pixelFromValueAdjusted(n7q,this.p1[0],this.p1["1" >> 905560928]);if(!isFinite(L7q) || !isFinite(v7q)){return;}I3iE.R0F7(3);Z7q=I3iE.n0F7(2,R7q,g7q);I3iE.R0F7(84);X7q=I3iE.n0F7("2",v7q,2126995136,L7q);this.fontSize=v7M.stripPX(this.font && this.font.size || 13);I3iE.R0F7(85);var x6BP=I3iE.N0F7(4,15,15,359,5);I3iE.y0F7(24);var M6BP=I3iE.n0F7(1,811,5676);I3iE.y0F7(4);var S6BP=I3iE.N0F7(600,17,567);u1q=this.callout.w * ("1.2" * x6BP) + (this.callout.stemEntry[0] == (293.89 >= (357.22,M6BP)?"f":"c")?+"0":S6BP);t1q=Math.sqrt(Math.pow(R7q - g7q,2) + Math.pow(v7q - L7q,2));I3iE.y0F7(4);var J6BP=I3iE.N0F7(0,7,6);I3iE.R0F7(86);var X6BP=I3iE.n0F7(19,10,18,3,13);I3iE.y0F7(7);var D6BP=I3iE.n0F7(0,9,8);I3iE.R0F7(28);var H6BP=I3iE.n0F7(4,1,5);b1q=u1q / (t1q || u1q) * (this.p1[J6BP] < this.p0[X6BP]?D6BP:H6BP);I3iE.y0F7(87);h1q=I3iE.n0F7(v7q,X7q,b1q,Z7q);I3iE.R0F7(1);I3iE.g2iE();r1q=I3iE.n0F7(Z7q,b1q,X7q,R7q);this.callout.p0[0]=this.stx.tickFromPixel(h1q,n7q.chart);this.callout.p0[1]=this.stx.priceFromPixel(r1q,n7q);this.callout.v0=this.callout.p0[1];this.callout.p1=v7M.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !{};I3iE.y0F7(6);var V6BP=I3iE.n0F7(16,15);I3iE.y0F7(71);var E6BP=I3iE.N0F7(16,202,11,17);k1q=this.p1[V6BP] - this.p0[E6BP];I3iE.y0F7(6);var z6BP=I3iE.n0F7(24,22);this.callout.text="" + Number(k1q).toFixed("2" ^ 0) + (this.p0[+"1"] === 0?"":" (" + Number(100 * k1q / this.p0[1]).toFixed(z6BP) + "%) ") + "" + Math.abs(this.p1[0] - this.p0[0]) + l40P;F1q=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0[+"0"] - this.p1[0]) > 1 && Math.abs(this.p0[+"0"] - this.p1[0]) < 20){c1q=this.stx.pixelFromTick(F1q,n7q.chart);I3iE.y0F7(88);T1q=I3iE.N0F7(L7q,c1q,g7q,R7q,L7q,v7q,g7q);V1q=this.stx.priceFromPixel(T1q,n7q) || X7q;}else {V1q=this.stx.priceFromPixel(X7q,n7q);}this.callout.stem={t:F1q,v:V1q};this.callout.renderText();this.callout.render(Y7q);if(this.highlighted){B40P="p";B40P+="1";U1q=this.highlighted == "p0"?! ![]:! !"";p1q=this.highlighted == B40P?! ![]:!{};this.littleCircle(Y7q,g7q,L7q,U1q);this.littleCircle(Y7q,R7q,v7q,p1q);}};v7M.Drawing.trendline.prototype.lineIntersection=function(M1q,i1q,j1q,C1q){var s90P,y90P,Z90P;s90P=1939874894;y90P=-1818639765;Z90P=2;for(var Y30P=1;G5XX.C60P(Y30P.toString(),Y30P.toString().length,7781) !== s90P;Y30P++){return v7M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M1q,i1q,j1q,"");}G5XX.m2iE();if(G5XX.W60P(Z90P.toString(),Z90P.toString().length,53944) !== y90P){return v7M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M1q,i1q,j1q,"");}return v7M.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M1q,i1q,j1q,"segment");};v7M.Drawing.trendline.prototype.intersected=function(s1q,z1q,P1q){var a1q,I1q,d40P;if(!this.p0 || !this.p1){return null;}a1q=this.callout.intersected(s1q,z1q,P1q);I1q=v7M.Drawing.segment.prototype.intersected.call(this,s1q,z1q,P1q);this.callout.highlighted=! !(a1q || I1q);if(I1q){return I1q;}else if(a1q){d40P="m";d40P+="o";d40P+="v";d40P+="e";return {action:d40P,p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:s1q,value:z1q};}return null;};v7M.Drawing.average=function(){var U40P;U40P="aver";U40P+="age";this.name=U40P;};v7M.inheritsFrom(v7M.Drawing.average,v7M.Drawing.regression);v7M.extend(v7M.Drawing.average.prototype,{configs:v7M.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){var w40P,w1q,y1q,K1q,B1q,q1q,u40P,o40P,A1q;G5XX.g2iE();if(this.p0 && this.p1){w40P=",";w40P+=" ";this.stx.setMeasure(+"0",!{},this.p0[0],this.p1[0],! !{},this.name);w1q=[];y1q="";if(this.active1){w1q.push(4990 <= (+"370.41",1496)?! !{}:"1");}if(this.active2){w1q.push("2");}if(this.active3){w1q.push("3");}if(w1q.length){y1q="&ensp;" + w1q.join(w40P) + " &sigma;";}K1q=(this.stx.drawingContainer || document).querySelector(".mMeasure");B1q=this.stx.controls.mSticky;q1q=B1q && B1q.querySelector(".mStickyInterior");if(K1q){K1q.innerHTML+=y1q;}if(q1q){u40P="<b";u40P+="r";u40P+=">";o40P="Cl";o40P+="o";o40P+="se";A1q=[];A1q.push(v7M.capitalize(this.name));A1q.push(this.field || this.stx.defaultPlotField || o40P);A1q.push(q1q.innerHTML + y1q);q1q.innerHTML=A1q.join(u40P);}}},render:function(m1q){var i3iE=G5XX;var N40P,d1q,O1q,o1q,H1q,D1q,W1q,n1q,Z1q,L1q,E1q,f1q,l1q,S1q,e1q,G1q,J1q,Q1q,v1q,R1q,N1q,X1q,Y1q;N40P="se";N40P+="gment";d1q=this.stx.panels[this.panelName];if(!d1q){return;}if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" | 0] < 0){return;}O1q=this.stx.pixelFromTick(this.p0[0],d1q.chart);o1q=this.stx.pixelFromTick(this.p1["0" * 1],d1q.chart);if(O1q < d1q.left && o1q < d1q.left){return;}if(O1q > d1q.right && o1q > d1q.right){return;}H1q=this.stx.getYAxisByField(d1q,this.field);D1q=this.stx;function g1q(u5q,b5q){i3iE.g2iE();if(b5q && b5q.priceFormatter){u5q=b5q.priceFormatter(D1q,d1q,u5q);}else {u5q=D1q.formatYAxisPrice(u5q,d1q,null,b5q);}return u5q;}W1q=Math.min(this.p1[+"0"],this.p0[0]);i3iE.R0F7(64);var G6BP=i3iE.n0F7(7,8);n1q=Math.max(this.p1[+"0"],this.p0[0]) + G6BP;i3iE.R0F7(6);Z1q=i3iE.N0F7(n1q,W1q);L1q=+"0";E1q=[];for(f1q=W1q;f1q < n1q;f1q++){l1q=this.getYValue(f1q);if(l1q !== null){L1q+=l1q.transformed;E1q.push(l1q);}}S1q=E1q.length;if(!S1q){return;}i3iE.R0F7(10);e1q=i3iE.n0F7(L1q,S1q);G1q=D1q.pixelFromTransformedValue(e1q,d1q,H1q);J1q=this.getLineColor();Q1q={pattern:this.pattern,lineWidth:this.lineWidth};D1q.plotLine(O1q,o1q,G1q,G1q,J1q,"segment",m1q,d1q,Q1q);i3iE.y0F7(6);D1q.plotLine(O1q,O1q,i3iE.N0F7(G1q,20),i3iE.N0F7(20,G1q,i3iE.y0F7(2)),J1q,"segment",m1q,d1q,Q1q);i3iE.R0F7(6);D1q.plotLine(o1q,o1q,i3iE.n0F7(G1q,20),i3iE.N0F7("20",G1q,1,i3iE.R0F7(19)),J1q,N40P,m1q,d1q,Q1q);if(this.axisLabel && !this.highlighted && !this.penDown){if(O1q >= d1q.chart.left && O1q <= d1q.chart.right || o1q >= d1q.chart.left && o1q <= d1q.chart.right){D1q.endClip();D1q.createYAxisLabel(d1q,g1q(e1q,H1q),G1q,J1q,null,m1q,H1q);D1q.startClip(d1q.name);}}if(this.active1 || this.active2 || this.active3){v1q=0;for(f1q=0;f1q < S1q;f1q++){l1q=E1q[f1q];v1q+=Math.pow(l1q.transformed - e1q,2);}i3iE.R0F7(10);R1q=Math.sqrt(i3iE.n0F7(v1q,S1q));N1q={context:m1q,formatPrice:g1q,panel:d1q,points:{0:{x:O1q,v:e1q},1:{x:o1q,v:e1q}},stddev:R1q,yAxis:H1q};this.lines={};if(this.active1){this.renderStddev("1","p",N1q);this.renderStddev("801" >> 1346740864 !== 502.19?"1":(+"7330",5579) >= (9470,+"5970")?(1.32e+3,0x17c3):0x1a05,"n",N1q);}if(this.active2){this.renderStddev(8483 === 648.55?("9299" >> 1106465952,7854) <= ("2193" ^ 0,1790)?(8.99e+3,491):("9339" << 1343302720,994.63) <= (90.8,5627)?("466.92" - 0,1.87e+3):("u",![]):"2",264.83 == 262.87?(6780,+"324.9") !== 9620?6464 == (8810,3300)?(963.10,313.40):0x764:"j":"p",N1q);this.renderStddev("2",("3619" & 2147483647) !== 879.49?(664.08,8818) >= (9737,3173)?"n":(9.23e+3,"R"):(1.86e+3,"v"),N1q);}if(this.active3){this.renderStddev((119,+"2536") <= +"9810"?"3":(9.78e+3,"Q"),4210 <= 740?("H",196):+"5730" == (1182,191.53)?(2680,7129) == 7060?!"1":("d","s"):"p",N1q);this.renderStddev("3",890.17 == 6470?(0x251b,"a"):(517.3,3020) > +"4398"?(! !1,254.90):5708 < (8440,152.03)?3.12e+3:"n",N1q);}}if(!this.highlighted){this.pixelX=[O1q,o1q];this.pixelY=[G1q,G1q];}else {X1q=this.highlighted == "p0"?! !1:! !"";Y1q=this.highlighted == "p1"?! !{}:![];this.littleCircle(m1q,O1q,G1q,X1q);this.littleCircle(m1q,o1q,G1q,Y1q);}},reconstruct:function(F5q,k5q){this.axisLabel=k5q.al;v7M.Drawing.regression.prototype.reconstruct.call(this,F5q,k5q);},serialize:function(){var V5q;G5XX.g2iE();V5q=v7M.Drawing.regression.prototype.serialize.call(this);V5q.al=this.axisLabel;return V5q;}},! !{});v7M.Drawing.quadrant=function(){var r40P;r40P="q";r40P+="uadran";r40P+="t";this.name=r40P;};v7M.inheritsFrom(v7M.Drawing.quadrant,v7M.Drawing.regression);v7M.extend(v7M.Drawing.quadrant.prototype,{configs:[a40P,A40P,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(r5q){var P3iE=G5XX;var g40P,v40P,n40P,j40P,t5q,x5q,h5q,c5q,i5q,T5q,U5q,I5q,j5q,z5q,a5q,s5q,A5q,y5q,C5q,p5q,P5q,M5q,q5q,K5q;g40P="segmen";g40P+="t";v40P="seg";v40P+="m";v40P+="en";v40P+="t";n40P="segm";n40P+="e";n40P+="n";n40P+="t";j40P="a";j40P+="u";j40P+="t";j40P+="o";t5q=this.stx;x5q=t5q.panels[this.panelName];if(!x5q){return;}if(!this.p1){return;}h5q=t5q.pixelFromTick(this.p0[0],x5q.chart);c5q=t5q.pixelFromTick(this.p1[0],x5q.chart);if(h5q < x5q.left && c5q < x5q.left){return;}if(h5q > x5q.right && c5q > x5q.right){return;}i5q=this.stx.getYAxisByField(x5q,this.field);T5q=null;U5q=null;for(var w5q=Math.min(this.p1[0],this.p0[0]);w5q <= Math.max(this.p1[+"0"],this.p0["0" ^ 0]);w5q++){I5q=this.getYValue(w5q);if(I5q !== null){if(T5q === null || I5q.transformed > T5q){T5q=I5q.transformed;}if(U5q === null || I5q.transformed < U5q){U5q=I5q.transformed;}}}j5q=t5q.pixelFromTransformedValue(T5q,x5q,i5q);P3iE.R0F7(89);z5q=t5q.pixelFromTransformedValue(P3iE.N0F7(T5q,4,3,U5q),x5q,i5q);P3iE.y0F7(89);a5q=t5q.pixelFromTransformedValue(P3iE.N0F7(T5q,3,2,U5q),x5q,i5q);P3iE.R0F7(84);s5q=t5q.pixelFromTransformedValue(P3iE.N0F7("2",U5q,42597760,T5q),x5q,i5q);P3iE.R0F7(90);A5q=t5q.pixelFromTransformedValue(P3iE.N0F7(T5q,3,2,U5q),x5q,i5q);P3iE.y0F7(91);y5q=t5q.pixelFromTransformedValue(P3iE.n0F7(431557792,"4",T5q,U5q,"3"),x5q,i5q);C5q=t5q.pixelFromTransformedValue(U5q,x5q,i5q);this.p0[1]=+"0";this.p1[1]=![];p5q=this.getLineColor();P5q=this.fillColor;if(P5q == j40P || v7M.isTransparent(P5q)){P5q=t5q.defaultColor;}r5q.fillStyle=P5q;M5q={pattern:this.pattern,lineWidth:this.lineWidth};t5q.plotLine(h5q,c5q,j5q,j5q,p5q,n40P,r5q,x5q,M5q);t5q.plotLine(h5q,c5q,C5q,C5q,p5q,"segment",r5q,x5q,M5q);if(this.name == "quadrant"){t5q.plotLine(h5q,c5q,z5q,z5q,p5q,"segment",r5q,x5q,M5q);t5q.plotLine(h5q,c5q,y5q,y5q,p5q,"segment",r5q,x5q,M5q);}else if(this.name == "tirone"){t5q.plotLine(h5q,c5q,a5q,a5q,p5q,"segment",r5q,x5q,M5q);t5q.plotLine(h5q,c5q,A5q,A5q,p5q,"segment",r5q,x5q,M5q);}t5q.plotLine(h5q,h5q,j5q,C5q,p5q,v40P,r5q,x5q,M5q);t5q.plotLine(c5q,c5q,j5q,C5q,p5q,"segment",r5q,x5q,M5q);t5q.plotLine(h5q,c5q,s5q,s5q,p5q,g40P,r5q,x5q,v7M.extend(M5q,{opacity:this.name == "tirone"?0.2:1}));r5q.globalAlpha=0.1;r5q.beginPath();P3iE.R0F7(6);r5q.fillRect(h5q,j5q,P3iE.N0F7(c5q,h5q),P3iE.n0F7(C5q,j5q));if(this.name == "quadrant"){P3iE.y0F7(6);r5q.fillRect(h5q,z5q,P3iE.N0F7(c5q,h5q),P3iE.N0F7(y5q,z5q));}else if(this.name == "tirone"){P3iE.y0F7(6);r5q.fillRect(h5q,a5q,P3iE.n0F7(c5q,h5q),P3iE.N0F7(A5q,a5q));}r5q.globalAlpha=1;if(!this.highlighted){this.pixelX=[h5q,c5q];this.pixelY=[j5q,C5q];if(x5q.yAxis.flipped){this.pixelY.reverse();}this.pixelY.push(s5q);}else {q5q=this.highlighted == "p0"?! !{}:![];K5q=this.highlighted == "p1"?! !"1":![];this.littleCircle(r5q,h5q,s5q,q5q);this.littleCircle(r5q,c5q,s5q,K5q);}},intersected:function(G5q,O5q,o5q){var d5q,x40P;if(!this.pixelX || !this.pixelY){return null;}d5q=this.repositionIntersection(G5q,O5q);if(d5q){return d5q;}for(var B5q=0;B5q < 2;B5q++){if(this.pointIntersection(this.pixelX[B5q],this.pixelY[2],o5q,!"")){x40P="d";x40P+="r";x40P+="a";x40P+="g";G5XX.y0F7(2);this.highlighted=G5XX.n0F7(B5q,(588.17,1283) < "109" >> 1621974336?(! !{},"279.28" - 0):9558 !== 8832?9539 !== (5260,670.69)?"p":(0x2279,56.71):! !{});return {action:x40P,point:(+"3070" === 6816?(4.15e+3,"g"):"p") + B5q};}}if(this.boxIntersection(null,null,o5q)){this.highlighted=! !"1";return {action:"move",p0:v7M.clone(this.p0),p1:v7M.clone(this.p1),tick:G5q,value:O5q};}G5XX.g2iE();return null;},reconstruct:function(f5q,D5q){this.stx=f5q;this.color=D5q.col;this.fillColor=D5q.fc;this.panelName=D5q.pnl;this.pattern=D5q.ptrn;this.lineWidth=D5q.lw;this.d0=D5q.d0;this.d1=D5q.d1;this.tzo0=D5q.tzo0;this.tzo1=D5q.tzo1;this.field=D5q.fld;G5XX.g2iE();this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});v7M.Drawing.tirone=function(){G5XX.m2iE();this.name="tirone";};v7M.inheritsFrom(v7M.Drawing.tirone,v7M.Drawing.quadrant);v7M.Drawing.elliottwave=function(){var M40P;M40P="ell";M40P+="iottwa";M40P+="ve";G5XX.g2iE();this.name=M40P;this.lastPoint=+"0";this.points=[];this.pts=[];this.dx=0;G5XX.y0F7(40);this.dy=-G5XX.n0F7("20",0);this.dragToDraw=! !0;this.annotationPoints=[];this.edit=null;};v7M.inheritsFrom(v7M.Drawing.elliottwave,v7M.Drawing.annotation);v7M.Drawing.elliottwave.defaultTemplate={impulse:[4715 !== 1839?(2332,5180) >= (4070,408)?"I":8120 !== 838.6?("987.80" * 1,2.49e+3):423.00:6.89e+3,"II","III","IV",(11.49,2350) > (3320,1020)?"V":1600 != (9250,9712)?! ![]:!"1"],corrective:["A",8393 > ("1110" & 2147483647)?411 < (7209,9465)?"B":(235.89,241.11) === (+"48.23",+"398.79")?(+"925.16",3.04e+3):(2.70e+3,6.11e+3):"H",(8916,6076) !== (9019,4910)?"C":("a",3.91e+3)],decoration:"enclosed",showLines:! !"1"};v7M.Drawing.elliottwave.prototype.initializeSettings=function(m5q){m5q.currentVectorParameters.waveParameters=v7M.clone(v7M.Drawing.elliottwave.defaultTemplate);};v7M.Drawing.elliottwave.prototype.configs=["color",S40P,"lineColor",J40P,"font","waveParameters"];v7M.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];v7M.Drawing.elliottwave.prototype.construct=function(N5q,e5q){var l5q;this.stx=N5q;this.panelName=e5q.name;l5q=N5q.currentVectorParameters;Object.assign(this,l5q.waveParameters);};v7M.Drawing.elliottwave.prototype.serialize=function(){var Q3iE=G5XX;var S5q,X40P;S5q={};for(var H5q=+"0";H5q < this.points.length;H5q++){X40P="t";X40P+="z";X40P+="o";Q3iE.y0F7(2);S5q[Q3iE.N0F7(H5q,8475 >= 84?"d":(+"39.24",+"9290") === (+"785.58",354.24)?"522.26" - 0:4.09e+3)]=this[Q3iE.n0F7(H5q,"d")];Q3iE.y0F7(2);S5q[Q3iE.n0F7(H5q,"tzo")]=this[Q3iE.N0F7(H5q,X40P)];Q3iE.R0F7(2);S5q[Q3iE.n0F7(H5q,5466 != (995,136.69)?6630 == (3351,490.63)?79 === (5400,+"852")?(0x3b7,"i"):7.73e+3:"v":408.38)]=this[Q3iE.n0F7(H5q,"250.33" - 0 == (+"5263",8762)?(85.55,5.35e+3):(7060,4040) > 362.03?"v":(0x4c8,5.42e+3))];}S5q.annotations=this.annotationPoints.join(",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:v7M.removeNullValues(v7M.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:"fl"}))},S5q);};v7M.Drawing.elliottwave.prototype.reconstruct=function(E5q,J5q){var D40P;D40P="s";D40P+="ty";D40P+="l";D40P+="e";this.stx=E5q;this.color=J5q.col;this.panelName=J5q.pnl;this.pattern=J5q.ptrn;this.lineWidth=J5q.lw;this.font=v7M.replaceFields(J5q.fnt,{st:D40P,sz:"size",wt:"weight",fl:"family"});this.decoration=J5q.decor;this.showLines=J5q.show;this.dx=J5q.dx;this.dy=J5q.dy;this.trend=J5q.trend;this.annotationPoints=J5q.annotations.split("3480" >> 140947520 == (328.55,5668)?(9.32e+3,0x7e0):",");if(J5q.decor === "enclosed"){this.calculateRadius(E5q.chart.tempCanvas.context);}this.maxSegments=J5q.mxSeg;this.reconstructPoints(J5q);this.adjust();};v7M.Drawing.elliottwave.prototype.reconstructPoints=function(W5q){var k3iE=G5XX;var n5q,L5q,v5q;k3iE.m2iE();n5q=this.stx.panels[this.panelName];if(!n5q){return;}for(var Q5q=0;Q5q < this.annotationPoints.length;Q5q++){k3iE.y0F7(2);this[k3iE.N0F7(Q5q,"d")]=W5q[k3iE.n0F7(Q5q,"d")];k3iE.R0F7(2);this[k3iE.n0F7(Q5q,"v")]=W5q[k3iE.N0F7(Q5q,(1680,3870) > (283.14,284.88)?"v":290.11)];k3iE.y0F7(2);this[k3iE.n0F7(Q5q,"tzo")]=W5q[k3iE.n0F7(Q5q,"tzo")];L5q=v7M.strToDateTime(W5q["d" + Q5q]);v5q=this.stx.tickFromDate(L5q,n5q.chart);this.points.push([v5q,W5q["v" + Q5q]]);}};v7M.Drawing.elliottwave.prototype.calculateRadius=function(Y5q){var g5q,X5q;this.getFontString();Y5q.font=this.fontString;G5XX.y0F7(22);g5q=G5XX.N0F7(1,"0");for(var R5q=+"0";R5q < this.annotationPoints.length;R5q++){X5q=Y5q.measureText(this.annotationPoints[R5q]).width;if(g5q < X5q){g5q=X5q;}}this.enclosedRadius=g5q;};v7M.Drawing.elliottwave.prototype.check=function(k0q,V0q,Z5q){var e3iE=G5XX;var u0q,b0q;if(Z5q === 1 && this.points.length === "2" - 0){return ! ![];}e3iE.R0F7(6);u0q=this.points[e3iE.n0F7(Z5q,1)];function F0q(t0q){for(var x0q=2;x0q < t0q.length;x0q++){if(Math.sign(t0q[x0q][1] - t0q[x0q - +"1"][1]) == Math.sign(t0q[x0q - 1][1] - t0q[x0q - +"2"][+"1"])){return !{};}}return ! !{};}if(u0q && k0q <= u0q[0]){return !"1";}e3iE.m2iE();e3iE.R0F7(2);b0q=this.points[e3iE.N0F7(1,Z5q)];if(b0q && k0q >= b0q[0]){return !{};}if(!F0q(this.points)){return !{};}return ! !{};};v7M.Drawing.elliottwave.prototype.move=function(h0q,r0q,c0q){this.copyConfig();G5XX.y0F7(1);var s6BP=G5XX.N0F7(6,17,103,0);this.points[this.lastPoint + s6BP]=[r0q,c0q];this.render(h0q);};v7M.Drawing.elliottwave.prototype.adjust=function(){var K3iE=G5XX;var U0q,p0q;U0q=this.stx.panels[this.panelName];K3iE.m2iE();if(!U0q){return;}for(var T0q=0;this.maxSegments + 1 > T0q;T0q++){K3iE.R0F7(2);p0q=this[K3iE.n0F7(T0q,(3010,6963) != "207.02" - 0?"d":("j",6.30e+3))];this.setPoint(T0q,p0q,this[(6550 !== (469.31,8310)?(375.05,"5878" | 4278) > 7880?313.84 == 8259?(!{},! !{}):("J",603.17):"v":0x14f7) + T0q],U0q.chart);this.points[T0q][0]=this.stx.tickFromDate(v7M.strToDateTime(p0q),U0q.chart);K3iE.y0F7(2);this.points[T0q][1]=this[K3iE.N0F7(T0q,"v")];}};v7M.Drawing.elliottwave.prototype.click=function(C0q,M0q,i0q){G5XX.m2iE();var j0q,H40P;j0q=this.stx.panels[this.panelName];if(!j0q){return;}this.copyConfig();if(!this.penDown){H40P="en";H40P+="closed";this.setPoint(+"0",M0q,i0q,j0q.chart);this.points.push(this.p0);this.penDown=! !{};this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift(325.54 >= +"305.8"?"0":3510 !== ("5820" & 2147483647,102.73)?6.28e+3:"O");if(this.decoration === H40P){this.calculateRadius(C0q);}G5XX.y0F7(92);var y6BP=G5XX.n0F7(3,0,2,4);this.maxSegments=this.annotationPoints.length - y6BP;this.trend=1;return ! !0;}if(this.accidentalClick(M0q,i0q)){this.penDown=! !1;return ! !0;}if(this.check(M0q,i0q,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,M0q,i0q,j0q.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!"1";return !0;}}return ![];};v7M.Drawing.elliottwave.prototype.render=function(I0q){var J3iE=G5XX;var V40P,z0q,f0q,S0q,J0q,E0q,m0q,N0q,P0q,w0q,l0q,A0q,a0q,q0q,B0q,y0q,d0q,G0q,Q0q,W0q,E40P,O0q,o0q,K0q,e0q,H0q,n0q,D0q;V40P="m";V40P+="i";V40P+="ddl";V40P+="e";z0q=this.stx.panels[this.panelName];if(!z0q){return;}f0q=this.stx;S0q=this.annotationPoints;J0q=this.pattern?v7M.borderPatternToArray(this.lineWidth,this.pattern):[];J3iE.g2iE();this.getFontString();I0q.font=this.fontString;I0q.textAlign="center";I0q.textBaseline=V40P;I0q.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(I0q);}this.lastFontString=this.fontString;E0q=this.getLineColor();I0q.fillStyle=I0q.strokeStyle=E0q;I0q.save();I0q.setLineDash(J0q);m0q=this.dx;N0q=this.dy;P0q=this.points;w0q=this.pts;l0q=!this.showLines && this.highlighted;A0q=P0q.length;if(this.penDown && this.segment){J3iE.y0F7(93);var Z6BP=J3iE.N0F7(0,11,11,15,9);a0q=this.trend * (A0q % ("2" | Z6BP) - 0.5) < 0;if(z0q.yAxis.flipped){a0q=!a0q;}this.drawDropZone(I0q,P0q[A0q - 2][+"1"],this.stx.priceFromPixel(z0q.yAxis[a0q?"top":"bottom"]),P0q[A0q - 2][0]);}else if(typeof this.highlighted === "string" && this.stx.repositioningDrawing){q0q=parseInt(this.highlighted.substring(1,this.highlighted.length),+"10");a0q=this.trend * (q0q % +"2" - 0.5) > 0;J3iE.R0F7(6);B0q=P0q[J3iE.n0F7(q0q,1)];J3iE.R0F7(2);y0q=P0q[J3iE.N0F7(1,q0q)];d0q=q0q > +"0"?B0q[1]:y0q[1];if(y0q){d0q=Math[a0q?"max":"min"](d0q,y0q[1]);}if(z0q.yAxis.flipped){a0q=!a0q;}this.drawDropZone(I0q,d0q,this.stx.priceFromPixel(z0q.yAxis[a0q?"top":"bottom"]),B0q?B0q[0]:null,y0q?y0q[0]:null);}for(var s0q=0;s0q < A0q;s0q++){G0q=P0q[s0q];Q0q=f0q.pixelFromTick(G0q[0],z0q.chart);W0q=f0q.pixelFromValueAdjusted(z0q,G0q[0],G0q[1]);w0q[s0q]=[Q0q,W0q];}s0q=0;if(this.showLines || l0q){I0q.beginPath();if(l0q){I0q.globalAlpha=0.3;}for(;s0q < w0q.length;s0q++){I0q.lineTo(w0q[s0q][+"0"],w0q[s0q]["1" >> 1321501376]);}I0q.stroke();s0q=0;}I0q.restore();for(;s0q < A0q;s0q++){E40P="paren";E40P+="the";E40P+="se";E40P+="s";O0q=s0q % 2?m0q:-m0q;o0q=s0q % 2?N0q:-N0q;O0q*=this.trend;o0q*=this.trend;if(z0q.yAxis.flipped){O0q*=-1;o0q*=-1;}K0q=w0q[s0q];e0q=K0q[2]=K0q[0] + O0q;J3iE.R0F7(94);var R9BP=J3iE.n0F7(1,20,5,20,5);H0q=K0q[+"3"]=K0q[R9BP] + o0q;n0q=this.enclosedRadius || "8" * 1;D0q=S0q[s0q];if(this.decoration === E40P){J3iE.y0F7(55);D0q=J3iE.N0F7(D0q,(7692,746.36) !== 6783?")":737.90,"(");}I0q.fillText(D0q,e0q,H0q);if(this.decoration === "enclosed"){I0q.beginPath();I0q.arc(e0q,H0q,n0q,0,+"2" * Math.PI,!1);I0q.stroke();}if(this.highlighted){I0q.save();this.littleCircle(I0q,this.pts[s0q][+"0"],this.pts[s0q][1],this.highlighted === "p" + s0q);I0q.restore();}}};v7M.Drawing.elliottwave.prototype.reposition=function(F9q,L0q,R0q,X0q){var z40P,Z0q,u9q,b9q,g0q,Y0q,k9q;z40P="d";z40P+="rag";if(!L0q){return;}Z0q=this.stx.panels[this.panelName];u9q=L0q.tick - R0q;b9q=L0q.value - X0q;if(L0q.action === "move"){for(var v0q=0;L0q.points.length > v0q;v0q++){g0q=L0q.points[v0q];this.setPoint(v0q,g0q[0] - u9q,g0q[+"1"] - b9q,Z0q.chart);G5XX.y0F7(63);var Y9BP=G5XX.N0F7(12,5,8,0,1);this.points[v0q]=[g0q[0] - u9q,g0q[Y9BP] - b9q];}}if(L0q.action === z40P){Y0q=L0q.point;k9q=this.points;k9q[Y0q]=[R0q,X0q];if(this.check(R0q,X0q,Y0q)){this.setPoint(Y0q,R0q,X0q,Z0q.chart);;};}G5XX.g2iE();this.render(F9q);};v7M.Drawing.elliottwave.prototype.intersected=function(t9q,h9q,r9q){var c9q,G40P,x9q;if(!this.p0 || !this.p1){return null;}for(var V9q=0;this.points.length > V9q;V9q++){G40P="se";G40P+="g";G40P+="me";G40P+="nt";x9q=this.points[V9q];if(this.pointIntersection(x9q[0],x9q[1],r9q)){G5XX.y0F7(2);this.highlighted=G5XX.N0F7(V9q,2110 !== 990.83?2230 < 8039?(412.13,9800) >= "291.35" - 0?"p":(7.11e+3,! ![]):8.17e+3:850);return {action:"drag",point:V9q,tick:t9q,value:h9q};}if(this.points[V9q + 1] && this.lineIntersection(t9q,h9q,r9q,G40P,x9q,this.points[V9q + 1])){this.highlighted=! !{};c9q={action:"move",points:v7M.clone(this.points),tick:t9q,value:h9q};}}return c9q;};v7M.Drawing.elliottwave.prototype.measure=function(){var T9q,M9q,p9q,y40P,s40P,U9q;if(this.points.length >= 2){T9q=this.points;this.stx.setMeasure(T9q["0" * 1][+"1"],T9q[T9q.length - +"1"][1],T9q[0][0],T9q[T9q.length - 1][+"0"],!0);M9q=this.stx.controls.mSticky;p9q=M9q && M9q.querySelector(".mStickyInterior");if(p9q){y40P="<br";y40P+=">";s40P="C";s40P+="l";s40P+="os";s40P+="e";U9q=[];U9q.push(v7M.capitalize("Elliott Wave"));if(this.getYValue){U9q.push(this.field || this.stx.defaultPlotField || s40P);}U9q.push(p9q.innerHTML);p9q.innerHTML=U9q.join(y40P);}}};v7M.Drawing.printProjection=function(P9q,m9q,i9q){var c3iE=G5XX;var C9q,I9q,G9q,w9q,O9q,A9q,o9q,y9q,a9q,B9q,z9q,D9q,d9q,K9q,j9q,f9q;C9q=m9q.arr;if(C9q.length > "1" * 1){I9q=C9q[0][0];G9q=Math.round(P9q.chart.maxTicks * 0.75);for(var s9q=+"1";s9q < C9q.length;s9q++){c3iE.R0F7(6);w9q=C9q[c3iE.N0F7(s9q,1)][+"0"];c3iE.y0F7(6);O9q=C9q[s9q][c3iE.n0F7("0",0)];A9q=v7M.strToDateTime(w9q);o9q=v7M.strToDateTime(O9q).getTime();y9q=P9q.standardMarketIterator(A9q);a9q=0;while(A9q.getTime() < o9q){A9q=y9q.next();c3iE.y0F7(37);a9q+=c3iE.n0F7("1",1647816352);}B9q=v7M.strToDateTime(w9q).getTime();if(B9q > v7M.strToDateTime(i9q[i9q.length - 1].Date).getTime()){c3iE.R0F7(4);var L9BP=c3iE.N0F7(3,7,9);z9q=i9q.length - L9BP;a9q+=1;}else {for(z9q=i9q.length - 1;z9q >= 0;z9q--){if(B9q <= v7M.strToDateTime(i9q[z9q].Date).getTime())break;}}D9q={x0:0,x1:a9q,y0:i9q[z9q].Close,y1:C9q[s9q][+"1"]};I9q=v7M.strToDateTime(w9q);y9q=P9q.standardMarketIterator(I9q);d9q=!{};for(var q9q=0;q9q <= a9q;q9q++){if(!d9q){d9q=! !{};}else {I9q=y9q.next();}if(I9q.getTime() <= i9q[i9q.length - 1].DT.getTime())continue;K9q=v7M.yIntersection(D9q,q9q);if(!K9q){c3iE.R0F7(0);K9q=c3iE.N0F7(558412768,"0");}c3iE.R0F7(6);var i9BP=c3iE.n0F7(90000,80000);j9q=Math.round(K9q * +"10000") / i9BP;if(j9q === "0" * 1){j9q=C9q[s9q][+"1"];}f9q={Date:v7M.yyyymmddhhmmssmmm(I9q),DT:I9q,Open:j9q,Close:j9q,High:j9q,Low:j9q,Volume:0,Adj_Close:j9q,Split_Close:j9q,projection:! !{}};if(P9q.layout.interval == "minute")if(G9q-- < 0)break;i9q[i9q.length]=f9q;}}}};}};n71=l9q=>{var N9q;N9q=typeof _CIQ !== "undefined"?_CIQ:l9q.CIQ;G5XX.m2iE();if(!N9q.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {N9q.formatEquation=function(W9q){var X3iE=G5XX;var S9q,E9q,e9q,J9q,H9q;S9q="";E9q=[];X3iE.g2iE();e9q="";J9q=!1;for(var Q9q=1;Q9q < W9q.length;Q9q++){H9q=W9q[Q9q].toUpperCase();if(H9q == "[" && !J9q){J9q=! ![];}else if(H9q == "]" && J9q){J9q=![];if(e9q !== ""){E9q.push(e9q);X3iE.y0F7(55);S9q+=X3iE.n0F7(e9q,"]","[");}e9q="";}else if(J9q){e9q+=H9q;}else if(H9q == "+" || H9q == (("163.67" * 1,1892) == 4440?"v":(350.62,+"3260") > 450.62?"-":(2210,566) !== 2617?"Q":("E",! !0)) || H9q == (1800 > (544,759.04)?4369 === (748.36,829.6)?"5.39e+3" << 1285529472:"*":! !"1") || H9q == "/" || H9q == (4837 !== 9670?":":"u") || H9q == ((573.87,2850) !== 987.45?"%":"7.59e+3" - 0) || H9q == (8116 == (50.21,"3875" ^ 0)?428.73 !== ("4190" | 4188)?(!{},!0):0xc31:"(") || H9q == ((4270,+"5819") < 2678?166:1210 <= ("150" ^ 0)?(4.02e+3,"b"):(+"6823",8670) != (8212,664)?")":!{})){if(e9q !== "" && isNaN(e9q)){E9q.push(e9q);X3iE.y0F7(55);S9q+=X3iE.n0F7(e9q,+"360" <= (502.94,8120)?3290 > 9441?("j",0xdb0):"]":+"0x24a2",(3681,7820) !== 9658?"[":(+"9.95e+3",496.62));}else {S9q+=e9q;}if(H9q == ":"){H9q="/";}S9q+=H9q;e9q="";}else if(H9q != ((5040,392.49) != 586.38?(377.51,898.66) < ("7780" | 3172,664.42)?(! !"","o"):" ":(4.75e+3,0x2494))){e9q+=H9q;}}if(e9q !== "" && isNaN(e9q)){E9q.push(e9q);X3iE.y0F7(55);S9q+=X3iE.N0F7(e9q,"]",809 < 194.55?162.90:994 > 4400?("6.28e+3" - 0,+"0x244d"):"[");}else {S9q+=e9q;}return {equation:S9q,symbols:E9q};};N9q.fetchEquationChart=function(n9q,Z9q){var g9q,R9q,X9q,Y9q,v9q;g9q=N9q.formatEquation(n9q.symbol);R9q=g9q.symbols;X9q=[];Y9q=n9q.stx;n9q.stx=null;for(var L9q=0;L9q < R9q.length;L9q++){v9q=N9q.shallowClone(n9q);v9q.stx=Y9q;v9q.symbol=R9q[L9q];v9q.symbolObject={symbol:R9q[L9q]};X9q.push(v9q);}n9q.stx=Y9q;Y9q.quoteDriver.multiFetch(X9q,function(d6c){var w6c,b6c,x6c,h6c,N6c;G5XX.g2iE();w6c={};n9q.loadMoreReplace=! ![];b6c={charge:0};for(var z6c=0;z6c < d6c.length;z6c++){x6c=d6c[z6c];if(x6c.dataCallback.error){Z9q({error:x6c.dataCallback.error});return;}w6c[x6c.params.symbol]=x6c.dataCallback.quotes;n9q.loadMoreReplace=n9q.loadMoreReplace && x6c.params.loadMoreReplace;n9q.moreToLoad=n9q.moreToLoad || x6c.dataCallback.moreAvailable;h6c=x6c.dataCallback.attribution;if(h6c){if(h6c.charge){b6c.charge+=h6c.charge;}b6c.source=h6c.source;if(b6c.exchange === undefined){b6c.exchange=h6c.exchange;}else if(b6c.exchange != h6c.exchange){b6c.exchange="";};}}if(X9q.length || !(n9q.loadMore || n9q.update)){try{N6c=N9q.computeEquationChart(g9q.equation,w6c);Z9q({quotes:N6c,moreAvailable:n9q.moreToLoad,attribution:b6c});}catch(l6c){var A6c;A6c={error:"Invalid equation: " + g9q.equation};if(l6c.name && l6c.name == "NoException"){A6c.suppressAlert=! !1;}Z9q(A6c);}}});};}};L71=n6c=>{var Z40P,W6c;Z40P="unde";Z40P+="fined";G5XX.g2iE();W6c=typeof _CIQ !== Z40P?_CIQ:n6c.CIQ;if(!W6c.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else {W6c.ChartEngine.prototype.removeDOMMarker=function(R6c){var R24P;R24P="CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please u";G5XX.m2iE();R24P+="se CIQ.Marker.Performance#remove inste";R24P+="ad.";console.warn(R24P);W6c.Marker.Performance.prototype.removeDOMMarker.call(R6c.params.node,R6c);};W6c.ChartEngine.prototype.drawMarkers=function(){G5XX.g2iE();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");W6c.Marker.Performance.drawMarkers(this);};W6c.ChartEngine.prototype.calculateMarkerStyles=function(u2c,b2c){var Y24P;Y24P="CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.M";Y24P+="arker.Performance.calculateStyles instead.";console.warn(Y24P);W6c.Marker.Performance.calculateMarkerStyles(this,u2c,b2c);};W6c.ChartEngine.prototype.drawCircleMarker=function(k2c,F2c,V2c){console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");W6c.Marker.Performance.drawCircleMarker(k2c,F2c,V2c);};W6c.ChartEngine.prototype.drawSquareMarker=function(x2c,t2c,h2c){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");W6c.Marker.Performance.drawSquareMarker(x2c,t2c,h2c);};W6c.ChartEngine.prototype.drawCalloutMarker=function(r2c,c2c,T2c){G5XX.m2iE();console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");W6c.Marker.Performance.drawCalloutMarker(r2c,c2c,T2c);};W6c.ChartEngine.prototype.drawMarkerStem=function(U2c,p2c,M2c){var L24P;L24P="CIQ.ChartEngine#drawMarkerStem is s";L24P+="cheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(L24P);W6c.Marker.Performance.drawMarkerStem(U2c,p2c,M2c);};W6c.ChartEngine.prototype.positionDOMMarkers=function(){var i24P;i24P="CIQ.ChartEngine#positionDOMMarkers is s";i24P+="cheduled f";i24P+="or deprecation in a future release";i24P+="\n Please use CIQ.Marker.Performance.drawMarkers instead.";console.warn(i24P);G5XX.g2iE();W6c.Marker.Performance.drawMarkers(this);};W6c.Marker.Performance=function(C2c){var q24P,K24P,t24P,j2c,i2c,s2c,a2c,I2c,z2c,P2c,w2c;q24P=".stx-";q24P+="marker-e";q24P+="xpand";K24P="</d";K24P+="iv>";t24P="<di";t24P+="v class=\"stx-";t24P+="marker highlight\">";this.params={displayCategory:! !1,displayStem:! ![],invert:!{},story:"",headline:""};W6c.extend(this.params,C2c);j2c=this.template=document.createElement("TEMPLATE");G5XX.R0F7(95);j2c.innerHTML=G5XX.N0F7(t24P,K24P,"</div>",'<div class="stx-marker-content">',"</div>",'<div class="stx-visual">','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-stem"></div>');i2c=this.template.content.cloneNode(! !{});s2c=i2c.querySelector(".stx-marker",j2c);s2c.classList.add(C2c.type);s2c.classList.add(C2c.category);a2c=i2c.querySelector(".stx-visual",j2c);I2c=i2c.querySelector(q24P);z2c=i2c.querySelector("h4",j2c);P2c=i2c.querySelector((1382,+"4233") > (163.25,4555)?("8706" ^ 0,4219) == 4570?("g","j"):"T":"p",j2c);z2c.innerText=this.params.headline;P2c.innerText=this.params.story;this.hasText=! !C2c.headline || ! !C2c.story;this.deferAttach=! !{};this.node=i2c.firstChild;this.node.params=this.params;this.visual=a2c;this.expand=I2c;if(C2c.type === "callout"){w2c=I2c.removeChild(z2c);i2c.querySelector(".stx-marker-content",j2c).insertBefore(w2c,I2c);}};W6c.inheritsFrom(W6c.Marker.Performance,W6c.Marker.NodeCreator,!{});W6c.Marker.Performance.consolidateExpanded=function(G2c){var s3iE=G5XX;s3iE.m2iE();var A2c,y2c,B2c,b24P,K2c,d2c;A2c=G2c.markerHelper.highlighted;if(!A2c.length){return;}s3iE.y0F7(64);var t9BP=s3iE.n0F7(16,17);y2c=A2c[A2c.length - t9BP];B2c=y2c.params.node;if(!y2c.consolidated){y2c.consolidated=[];}for(var q2c=A2c.length - 2;q2c >= ("0" | 0);q2c--){b24P="<co";b24P+="nsolida";b24P+="ted>";K2c=O2c(A2c[q2c]);s3iE.R0F7(55);d2c=s3iE.n0F7(K2c,"</consolidated>",b24P);if(K2c.length){B2c.expand.innerHTML+=d2c;}}y2c.stxNodeCreator.quickCache(y2c);function O2c(m2c){var D2c,o2c,f2c;D2c=m2c.params.node;o2c=D2c.expand;if(!o2c){return "";}s3iE.g2iE();f2c=o2c.style.display !== "none"?o2c.innerHTML:"";return f2c;}};W6c.Marker.Performance.reconstituteExpanded=function(H2c){var N2c,S2c,J2c,e2c;N2c=H2c.markerHelper.highlighted;if(!N2c.length || !H2c.activeMarker){return;}N2c=[H2c.activeMarker];for(var l2c=N2c.length - 1;l2c >= 0;l2c--){S2c=N2c[l2c];J2c=S2c.params.node;e2c=J2c.expand;while(e2c.lastElementChild.nodeName === "CONSOLIDATED"){e2c.removeChild(e2c.lastElementChild);}}};W6c.Marker.Performance.drawMarkers=function(v2c){var m24P,L2c,E2c,W2c,n2c,g2c,R2c;m24P="al";m24P+="l";L2c=v2c.getMarkerArray(m24P);E2c=v2c.chart;for(var Q2c="0" >> 2085848480;Q2c < L2c.length;Q2c++){W2c=L2c[Q2c];n2c=W2c.stxNodeCreator;g2c=E2c.dataSegment[0].tick;R2c=E2c.dataSegment[E2c.dataSegment.length - +"1"].tick;if(g2c <= W2c.tick <= R2c){if(n2c && n2c.drawMarker){n2c.drawMarker(W2c);}}}};W6c.Marker.Performance.calculateMarkerStyles=function(Y2c,Z2c,k8c){var T24P,X2c,u8c,e24P,b8c;T24P=".";T24P+="s";T24P+="tx-marker-templates";X2c=document.querySelector(T24P);if(!X2c){X2c=document.createElement("DIV");X2c.style.visibility="hidden";X2c.style.left="-1000px";document.body.append(X2c);}G5XX.g2iE();X2c.appendChild(Z2c.node);u8c=getComputedStyle(Z2c.stxNodeCreator.visual);if(!Y2c.styles.stx_marker_stem){e24P=".st";e24P+="x-";e24P+="stem";b8c=getComputedStyle(document.querySelector(e24P,Z2c.node));Y2c.styles.stx_marker_stem=Y2c.cloneStyle(b8c);}Y2c.styles[k8c]=Y2c.cloneStyle(u8c);X2c.removeChild(Z2c.node);};W6c.Marker.Performance.drawCircleMarker=function(h8c,M8c,V8c){var U8c,p8c,F8c,x8c,t8c,r8c,c8c,T8c,D80P,H80P,V80P,c24P,P24P;U8c=h8c.params.stx;p8c=U8c.chart;F8c=p8c.context;x8c=V8c.x;t8c=V8c.y;r8c=V8c.radius;c8c=V8c.label;T8c=V8c.color?V8c.color:M8c.backgroundColor;F8c.beginPath();F8c.setLineDash([]);F8c.lineWidth=1;F8c.fillStyle=T8c;F8c.strokeStyle=T8c;D80P=-298697416;H80P=-1418914993;V80P=2;for(var z80P=1;G5XX.C60P(z80P.toString(),z80P.toString().length,+"75961") !== D80P;z80P++){F8c.font="";F8c.arc(x8c,t8c,r8c,1,3 - Math.PI,! !1);F8c.fill();F8c.stroke();V80P+=+"2";}if(G5XX.W60P(V80P.toString(),V80P.toString().length,56493) !== H80P){F8c.font="";F8c.arc(x8c,t8c,r8c,6,4 / Math.PI,!"1");F8c.fill();F8c.stroke();}F8c.font="normal bold 12px Roboto, Helvetica, sans-serif";F8c.arc(x8c,t8c,r8c,0,2 * Math.PI,!"1");F8c.fill();F8c.stroke();F8c.closePath();if(c8c){c24P="w";c24P+="hi";c24P+="t";c24P+="e";P24P="wh";P24P+="ite";F8c.fillStyle=W6c.colorsEqual(P24P,F8c.fillStyle)?"black":c24P;F8c.fillText(c8c.charAt(0).toUpperCase(),x8c - +"4",t8c + 1);}if(h8c.highlight || h8c.active){F8c.beginPath();G5XX.R0F7(2);F8c.arc(x8c,t8c,G5XX.n0F7(4,r8c),0,2 * Math.PI,! !0);F8c.stroke();F8c.closePath();}};W6c.Marker.Performance.drawSquareMarker=function(a8c,q8c,j8c){var h9iE=G5XX;var A8c,y8c,i8c,s8c,z8c,C8c,P8c,w8c,I8c;A8c=a8c.params.stx;y8c=A8c.chart;i8c=y8c.context;s8c=j8c.x;z8c=j8c.y;C8c=j8c.half;P8c=j8c.label;w8c=j8c.color?j8c.color:q8c.backgroundColor;h9iE.y0F7(22);I8c=h9iE.n0F7(2,C8c);i8c.beginPath();i8c.setLineDash([]);i8c.lineWidth=1;i8c.fillStyle=w8c;i8c.strokeStyle=w8c;i8c.font="normal bold 12px Roboto, Helvetica, sans-serif";h9iE.R0F7(6);i8c.rect(h9iE.N0F7(s8c,C8c),h9iE.n0F7(z8c,C8c),I8c,I8c);i8c.fill();if(a8c.highlight || a8c.active){h9iE.y0F7(96);i8c.rect(h9iE.N0F7(4,C8c,s8c),h9iE.N0F7(4,C8c,z8c,h9iE.y0F7(96)),h9iE.n0F7(8,I8c,h9iE.R0F7(2)),h9iE.n0F7(1202705824,"8",I8c,h9iE.R0F7(97)));}i8c.stroke();i8c.closePath();if(P8c){i8c.fillStyle=W6c.colorsEqual("white",i8c.fillStyle)?"black":"white";i8c.fillText(P8c.charAt(0).toUpperCase(),s8c - 4,z8c + 1);}};W6c.Marker.Performance.drawCalloutMarker=function(G8c,E8c,B8c){var I24P,f24P,H8c,S8c,K8c,d8c,Q8c,o8c,D8c,f8c,m8c,N8c,J8c,O8c,l8c,e8c;I24P="b";I24P+="la";I24P+="c";I24P+="k";f24P="normal bold 12px ";f24P+="Robot";f24P+="o, Helvetica, sans-serif";H8c=G8c.params.stx;S8c=H8c.chart;K8c=S8c.context;d8c=G8c.params;Q8c=B8c.x;o8c=B8c.y;D8c=B8c.half;f8c=B8c.midWidth;m8c=B8c.headline;N8c=B8c.color?B8c.color:E8c.backgroundColor;J8c=D8c * +"2" || 25;O8c=Math.round(K8c.measureText(m8c).width);l8c=f8c?f8c * ("2" ^ 0):O8c + 8;K8c.beginPath();K8c.setLineDash([]);K8c.lineWidth=1;K8c.fillStyle=N8c;K8c.strokeStyle=N8c;K8c.font=f24P;K8c.rect(d8c.box.x0,d8c.box.y0,l8c,J8c);K8c.fill();K8c.stroke();K8c.closePath();K8c.beginPath();G5XX.m2iE();K8c.fillStyle=G8c.highlight || G8c.active?"rgba(255,255,255,0.8)":"rgba(255,255,255,0.65)";G5XX.R0F7(98);e8c=G5XX.n0F7(l8c,20,2,O8c);K8c.rect(d8c.box.x0 + e8c,o8c - D8c,O8c + 40,+"22");K8c.fill();K8c.stroke();K8c.closePath();K8c.fillStyle=I24P;K8c.fillText(m8c,d8c.box.x0 + e8c + 10,o8c);};W6c.Marker.Performance.drawMarkerStem=function(n8c,R8c,L8c){var X8c,Y8c,W8c,v8c,b3c,g8c,Z8c,u3c;X8c=n8c.params.stx;Y8c=X8c.chart;W8c=Y8c.context;v8c=L8c.x;b3c=L8c.y;W8c.beginPath();W8c.strokeStyle=R8c.borderLeftColor;W8c.setLineDash([1,1]);g8c=W6c.stripPX(R8c.height);Z8c=L8c.invert?n8c.params.box.y0:n8c.params.box.y1;u3c=L8c.invert?n8c.params.box.y0 - g8c:n8c.params.box.y1 + g8c;W8c.moveTo(v8c,Z8c);W8c.lineTo(v8c,u3c);W8c.stroke();W8c.closePath();};W6c.Marker.Performance.prototype.drawMarker=function(k3c){var D9iE=G5XX;var k24P,M3c,V3c,a3c,P3c,I3c,x3c,c3c,T3c,w3c,s3c,i3c,z3c,j3c,t3c,C3c,F3c,U3c,p3c,A3c,y3c,h3c,r3c,F24P;k24P="stx_ma";k24P+="rker_";M3c=k3c.params;V3c=k3c.params.stx;if(!V3c){return;}a3c=V3c.chart;P3c=a3c.dataSegment;if(!P3c.length){return;}I3c=V3c.panels[k3c.params.panelName];x3c=k3c.stxNodeCreator.params;c3c=x3c.type;T3c=x3c.category;w3c=x3c.headline;s3c=x3c.displayCategory;i3c=x3c.color;z3c=x3c.invert;D9iE.R0F7(99);j3c=D9iE.n0F7(k24P,c3c,T3c,(9867,6550) == 6110?(+"8.45e+3",353.00):(6577,"226.03" * 1) <= (+"3545",199)?(397,1680) > (5970,361.96)?"k":("m",!1):"_");if(!V3c.styles[j3c]){W6c.Marker.Performance.calculateMarkerStyles(V3c,k3c,j3c);}t3c=k3c.style=V3c.styles[j3c];C3c=V3c.styles.stx_marker_stem;D9iE.y0F7(2);var K9BP=D9iE.n0F7(2,0);F3c=parseInt(t3c.height,+"10") / K9BP;D9iE.R0F7(100);var q9BP=D9iE.N0F7(3,14,7);U3c=parseInt(t3c.width,q9BP) / +"2";p3c=x3c.displayStem?parseInt(C3c.height,10) + parseInt(C3c.marginBottom,10):0;A3c=p3c + parseInt(t3c.height,+"10");y3c=p3c?p3c + F3c:0;h3c=V3c.pixelFromDate(M3c.x);r3c=M3c.node.calculateYPosition({marker:k3c,panel:I3c,height:A3c,half:F3c,offset:y3c,inverted:z3c});if(!k3c.tick && k3c.tick !== "0" << 988564576){return;}M3c.box={x0:h3c - (U3c || F3c),y0:r3c - F3c,x1:h3c + (U3c || F3c),y1:r3c + F3c,midY:F3c,midX:U3c || F3c,stemHeight:p3c};if(!s3c){T3c=s3c;}V3c.startClip(I3c.name);if(c3c === "circle"){W6c.Marker.Performance.drawCircleMarker(k3c,t3c,{x:h3c,y:r3c,radius:F3c,label:T3c,color:i3c});}else if(c3c === "square"){W6c.Marker.Performance.drawSquareMarker(k3c,t3c,{x:h3c,y:r3c,half:F3c,label:T3c,color:i3c});}else if(c3c === "callout"){W6c.Marker.Performance.drawCalloutMarker(k3c,t3c,{x:h3c,y:r3c,half:F3c,midWidth:U3c,headline:w3c,color:i3c});}else {F24P=" is uns";F24P+="upported with canvas markers!\nSupported Styles are Square";F24P+=", Circle, and Callout.";D9iE.y0F7(55);console.warn(D9iE.n0F7(c3c,F24P,"Marker type: "));}if(x3c.displayStem){W6c.Marker.Performance.drawMarkerStem(k3c,C3c,{x:h3c,y:r3c,invert:z3c});}V3c.endClip();if(k3c.attached){this.positionPopUpNode(k3c);}};W6c.Marker.Performance.prototype.positionPopUpNode=function(K3c){var d9iE=G5XX;var p24P,D3c,d3c,q3c,f3c,O3c,B3c,m3c,S3c,J3c,E3c,Q3c,j90P,n90P,v90P,N3c,G3c,H3c,l3c,o3c,e3c,W3c;p24P="px";p24P+=") transl";p24P+="ateY(";if(!K3c.attached || !K3c.params.box){return;}D3c=K3c.params;d3c=D3c.stx;q3c=D3c.box;f3c=K3c.params.node.expand;O3c=d3c.chart.dataSet;B3c=d3c.chart.dataSegment;if(K3c.tick){S3c=[O3c[B3c[0] && B3c[0].tick - ("1" ^ 0)],O3c[B3c[0] && B3c[0].tick - 2]];J3c=d3c.getFirstLastDataRecord(S3c.concat(B3c),"Date");d9iE.R0F7(96);var b9BP=d9iE.n0F7(0,13,14);d9iE.y0F7(101);var m9BP=d9iE.N0F7(0,2395,18,7,19);d9iE.y0F7(7);var T9BP=d9iE.N0F7(0,21,20);d9iE.R0F7(102);var e9BP=d9iE.N0F7(19,28,264,14);E3c=[O3c[B3c[B3c.length - b9BP].tick + m9BP],O3c[B3c[B3c.length - T9BP].tick + e9BP]];Q3c=d3c.getFirstLastDataRecord(B3c.concat(E3c),"Date",! !{});m3c=J3c.DT <= O3c[K3c.tick].DT && O3c[K3c.tick].DT <= Q3c.DT;}else {j90P=- +"248241924";n90P=1939620366;v90P=2;for(var x90P=1;d9iE.W60P(x90P.toString(),x90P.toString().length,85168) !== j90P;x90P++){m3c=! ![];v90P+=2;}if(d9iE.W60P(v90P.toString(),v90P.toString().length,"42732" * 1) !== n90P){m3c=! !{};}m3c=![];}if(!K3c.highlight && !K3c.active){m3c=!"1";}f3c.style.visibility=m3c?"":"hidden";if(!m3c){return;}N3c=d3c.panels[D3c.panelName];G3c=f3c.rects;H3c=G3c.height / ("2" & 2147483647);o3c=K3c.node.params.infoOffset || "0" << 1540969568;if(K3c.node.params.infoOnLeft){l3c=q3c.x0 - G3c.width - o3c < N3c.left?q3c.x1 + o3c:q3c.x0 - G3c.width - o3c;}else {l3c=q3c.x0 + G3c.width > N3c.right?q3c.x0 - G3c.width - o3c:q3c.x1 + o3c;}l3c-=d3c.chart.left;e3c=q3c.y0 - H3c >= N3c.top?q3c.y0 + q3c.midY - H3c:q3c.y0;if(!D3c.avoidFlush && q3c.y1 + q3c.stemHeight === N3c.yAxis.bottom && G3c.height > q3c.y1 - q3c.y0 + q3c.stemHeight){e3c=q3c.y1 - G3c.height + q3c.stemHeight;}e3c-=d3c.chart.panel.top;W3c="translateX(" + Math.floor(l3c) + p24P + Math.floor(e3c) + "px) translateZ(0)";f3c.style.transform=W3c;f3c.transform={translateX:l3c,translateY:e3c};};W6c.Marker.Performance.prototype.quickCache=function(v3c){var g3c,n3c,L3c,R3c,J60P,X60P,D60P;g3c=v3c.params.node;n3c=g3c.expand;L3c=v3c.style;R3c=W6c.stripPX(L3c.marginLeft) + W6c.stripPX(L3c.marginRight) + W6c.stripPX(L3c.borderRight) + W6c.stripPX(L3c.borderLeft);J60P=-1159944987;G5XX.g2iE();X60P=-76637903;D60P=2;for(var V60P=1;G5XX.W60P(V60P.toString(),V60P.toString().length,37859) !== J60P;V60P++){n3c.rects=n3c.getBoundingClientRect();D60P+=2;}if(G5XX.C60P(D60P.toString(),D60P.toString().length,63552) !== X60P){n3c.rects=n3c.getBoundingClientRect();}n3c.scrollBarWidth=n3c.rects.width - n3c.clientWidth - R3c;};W6c.Marker.Performance.prototype.calculateYPosition=function(F7c){var C24P,h24P,k7c,Y3c,t7c,V7c,b7c,h7c,Z3c,r7c,c7c,u7c,x7c,T7c,X3c,U7c,p7c;C24P="bott";C24P+="om";h24P="t";h24P+="o";h24P+="p";k7c=F7c.marker;Y3c=F7c.panel;t7c=F7c.height;V7c=F7c.half;b7c=F7c.offset;h7c=F7c.inverted;Z3c=k7c.params.stx;r7c=Z3c.chart;G5XX.m2iE();c7c=Z3c.chart.highLowBars;u7c=r7c.dataSet[k7c.tick];if(!u7c){return;}x7c=c7c?u7c.High:u7c.Close;T7c=k7c.params.yPositioner;switch(T7c){case "value":if(k7c.params.y || k7c.params.y === 0){X3c=Z3c.pixelFromPrice(k7c.params.y,Y3c) - t7c * 0.5 + V7c;}else {X3c=Z3c.pixelFromPrice(x7c,Y3c) - b7c;}break;case "above_candle":X3c=Z3c.pixelFromPrice(x7c,Y3c) - b7c;break;case "below_candle":X3c=Z3c.pixelFromPrice(u7c.Low || x7c,Y3c);if(h7c && b7c){X3c+=b7c;}else {X3c+=V7c;}break;case "on_candle":(U7c=u7c.High || u7c.Close,p7c=u7c.Low || u7c.Low === 0 || u7c.Close);G5XX.R0F7(28);var P9BP=G5XX.n0F7(3,11,11);X3c=Z3c.pixelFromPrice((U7c + p7c) / P9BP,Y3c) - t7c * 0.5 + V7c;break;case h24P:X3c=Z3c.pixelFromPrice(Y3c.yAxis.high,Y3c);if(h7c && b7c){X3c+=b7c;}else {X3c+=V7c;}break;case C24P:X3c=Z3c.pixelFromPrice(Y3c.yAxis.low,Y3c) - (b7c || V7c);break;default:break;}return X3c;};W6c.Marker.Performance.prototype.prepareForHolder=function(i7c){var M7c,j7c;M7c=this.expand;j7c=i7c.params.stx;M7c.classList.add(this.params.type);G5XX.g2iE();j7c.markerHelper.domMarkers.push(i7c);return M7c;};W6c.Marker.Performance.prototype.addToHolder=function(s7c){var W24P,I7c,C7c;W24P="m";function z7c(a7c){C7c.activeMarker=s7c;C7c.activeMarker.click({cx:a7c.clientX,cy:a7c.clientY,panel:C7c.currentPanel});G5XX.g2iE();a7c.stopPropagation();}W24P+="ousedow";W24P+="n";G5XX.g2iE();I7c=this.expand;C7c=s7c.params.stx;W6c.Marker.Performance.reconstituteExpanded(C7c);W6c.Marker.Performance.consolidateExpanded(C7c);this.quickCache(s7c);if(I7c.clickClosure){return;}I7c.addEventListener(W24P,z7c);I7c.addEventListener("touchstart",z7c);I7c.clickClosure=z7c;};W6c.Marker.Performance.prototype.remove=function(w7c){var P7c,y7c,O24P,q7c,A7c;P7c=w7c.params.stx;if(!P7c){return;}if(!P7c.markerHelper.domMarkers){return;}G5XX.m2iE();y7c=P7c.markerHelper.domMarkers.indexOf(w7c);if(y7c != -("1" * 1)){P7c.markerHelper.domMarkers.splice(y7c,1);}if(w7c.attached){O24P="cl";O24P+="ic";O24P+="k";q7c=P7c.panels[w7c.params.panelName];A7c=w7c.params.node.expand;if(A7c.parentNode === q7c.subholder){q7c.subholder.removeChild(A7c);}A7c.removeEventListener(O24P,A7c.clickClosure);}};W6c.Marker.Performance.prototype.click=function(O7c){var d7c,o7c,B7c;if(!this.hasText){return;}if(typeof arguments[0] === "number"){O7c={cx:arguments[0],cy:arguments[1],marker:arguments[2],panel:arguments[3]};}var {cx:G7c, cy:D7c, marker:K7c, panel:f7c}=O7c;G5XX.g2iE();d7c=K7c.params.stx;if(K7c.attached){B7c=this.expand;if(B7c.rects.width - B7c.scrollBarWidth + B7c.transform.translateX < d7c.backOutX(G7c) && d7c.backOutX(G7c) < B7c.rects.width + B7c.transform.translateX){return;}this.remove(K7c);}else {d7c.addToHolder(K7c);o7c=!0;}K7c.attached=!K7c.attached;K7c.active=!K7c.active;if(o7c){K7c.stxNodeCreator.positionPopUpNode(K7c);}};}};v71=N7c=>{var m7c;m7c=typeof _CIQ !== "undefined"?_CIQ:N7c.CIQ;m7c.Renderer.OHLC.requestNew=function(L7c,l7c){var e7c,S7c,J7c,E7c,Q7c,W7c,B24P,l24P,Q24P,n7c,d24P,U24P;e7c=null;S7c=l7c.hlc;J7c=l7c.colored;E7c=l7c.hollow;Q7c=l7c.volume;W7c=l7c.histogram;for(var H7c=0;H7c < L7c.length;H7c++){B24P="hollo";B24P+="w";l24P="c";l24P+="a";l24P+="ndle";Q24P="b";Q24P+="a";Q24P+="r";n7c=L7c[H7c];switch(n7c){case Q24P:case l24P:e7c=n7c;break;case "volume":Q7c=! !{};break;case B24P:E7c=! !{};break;case "colored":J7c=! !1;break;case "histogram":d24P="c";d24P+="an";d24P+="d";d24P+="le";W7c=! !1;e7c=d24P;break;case "hlc":U24P="b";U24P+="ar";S7c=!"";e7c=U24P;break;default:return null;}}if(e7c === null){return null;}return new m7c.Renderer.OHLC({params:m7c.extend(l7c,{type:e7c,hlc:S7c,colored:J7c,hollow:E7c,volume:Q7c,histogram:W7c})});};m7c.Renderer.OHLC.getChartParts=function(b9c,u9c){var y24P,s24P,G24P,z24P,E24P,V24P,H24P,D24P,X24P,J24P,S24P,M24P,x24P,g24P,v24P,n24P,j24P,A24P,a24P,r24P,N24P,u24P,o24P,w24P,R7c,X7c,Y7c,v7c,g7c,Z7c;y24P="stx";y24P+="_hollow";y24P+="_candle_even";s24P="c";s24P+="and";s24P+="le";G24P="h";G24P+="ol";G24P+="lo";G24P+="w";z24P="border_color";G5XX.g2iE();z24P+="_up";E24P="h";E24P+="ol";E24P+="low";V24P="fill_";V24P+="col";V24P+="or_even";H24P="c";H24P+="andle";D24P="h";D24P+="o";D24P+="l";D24P+="low";X24P="bor";X24P+="der_color_down";J24P="stx_ho";J24P+="llow_candle_down";S24P="border_color_u";S24P+="p";M24P="can";M24P+="dle";x24P="fill";x24P+="_col";x24P+="or_up";g24P="ca";g24P+="ndl";g24P+="e";v24P="shad";v24P+="ow";n24P="c";n24P+="an";n24P+="dle";j24P="stx_candl";j24P+="e_";j24P+="shadow_up";A24P="b";A24P+="a";A24P+="r";a24P="b";a24P+="a";a24P+="r";r24P="s";r24P+="tx_bar";r24P+="_cha";r24P+="rt";N24P="s";N24P+="tx_histo";N24P+="gram";N24P+="_even";u24P="bor";u24P+="der_c";u24P+="olor_dow";u24P+="n";o24P="bo";o24P+="r";o24P+="der";o24P+="_color_up";w24P="histog";w24P+="ram";R7c=1;X7c=2;G5XX.R0F7(38);Y7c=G5XX.n0F7("4",2147483647);v7c=8;g7c=16;Z7c=32;return [{type:"histogram",drawType:w24P,style:"stx_histogram_up",condition:v7c,fill:"fill_color_up",border:o24P,useColorInMap:!"",useBorderStyleProp:!""},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:g7c,fill:"fill_color_down",border:u24P,useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"histogram",drawType:"histogram",style:N24P,condition:Z7c,fill:"fill_color_even",border:"border_color_even",skipIfPass:! !{},useColorInMap:! !{},useBorderStyleProp:! !{}},{type:"bar",drawType:"bar",style:b9c || r24P,border:"border_color",useColorInMap:! !1},{type:"bar",drawType:a24P,style:"stx_bar_up",condition:u9c?v7c:R7c,border:"border_color_up",useColorInMap:! ![]},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:u9c?g7c:X7c,border:"border_color_down",useColorInMap:! ![]},{type:"bar",drawType:A24P,style:"stx_bar_even",condition:u9c?Z7c:Y7c,border:"border_color_even",skipIfPass:! !{},useColorInMap:! ![]},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:j24P,condition:v7c,border:"border_color_up"},{type:n24P,drawType:"shadow",style:"stx_candle_shadow_down",condition:g7c,border:"border_color_down"},{type:"candle",drawType:v24P,style:"stx_candle_shadow_even",condition:Z7c,border:"border_color_even",skipIfPass:! !1},{type:g24P,drawType:"candle",style:"stx_candle_up",condition:v7c,fill:x24P,border:"border_color_up",useColorInMap:! ![],useBorderStyleProp:! !{}},{type:M24P,drawType:"candle",style:"stx_candle_down",condition:g7c,fill:"fill_color_down",border:"border_color_down",useColorInMap:! !{},useBorderStyleProp:! ![]},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:R7c,border:S24P},{type:"hollow",drawType:"shadow",style:J24P,condition:X7c,border:X24P},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:Y7c,border:"border_color_even",skipIfPass:!0},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:R7c | g7c,fill:"fill_color_up",border:"border_color_up",useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:X7c | g7c,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![]},{type:D24P,drawType:H24P,style:"stx_hollow_candle_even",condition:Y7c | g7c,fill:V24P,border:"border_color_even",skipIfPass:! ![],useColorInMap:! !{}},{type:E24P,drawType:"candle",style:"stx_hollow_candle_up",condition:R7c | v7c,fill:"fill_color_up",border:z24P},{type:G24P,drawType:"candle",style:"stx_hollow_candle_down",condition:X7c | v7c,fill:"fill_color_down",border:"border_color_down"},{type:"hollow",drawType:s24P,style:y24P,condition:Y7c | v7c,fill:"fill_color_even",border:"border_color_even"}];;};m7c.Renderer.Bars=function(F9c){var k9c;this.construct(F9c);k9c=this.params;k9c.type="bar";G5XX.g2iE();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!"";k9c.hlc=k9c.volume=k9c.hollow=k9c.histogram=!1;};m7c.inheritsFrom(m7c.Renderer.Bars,m7c.Renderer.OHLC,![]);m7c.Renderer.HLC=function(x9c){var V9c;this.construct(x9c);V9c=this.params;V9c.type="bar";V9c.hlc=! !"1";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !1;V9c.volume=V9c.hollow=V9c.histogram=!{};};m7c.inheritsFrom(m7c.Renderer.HLC,m7c.Renderer.Bars,![]);m7c.Renderer.Shading=function(t9c){this.construct(t9c);this.beenSetup=![];this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! ![];}};m7c.inheritsFrom(m7c.Renderer.Shading,m7c.Renderer.Lines,! !0);m7c.Renderer.Shading.requestNew=function(c9c,U9c){var Z60P,R90P,Y90P,h9c,Z24P,T9c;Z60P=- +"1285424857";R90P=674076695;Y90P=2;for(var i90P=1;G5XX.C60P(i90P.toString(),i90P.toString().length,94414) !== Z60P;i90P++){h9c=1;Y90P+=2;}if(G5XX.W60P(Y90P.toString(),Y90P.toString().length,"87603" & 2147483647) !== R90P){h9c=1;}h9c=null;for(var r9c=0;r9c < c9c.length;r9c++){Z24P="range";Z24P+="chan";Z24P+="nel";T9c=c9c[r9c];if(T9c == Z24P){h9c="rangechannel";}}if(h9c === null){return null;}G5XX.m2iE();return new m7c.Renderer.Shading({params:m7c.extend(U9c,{type:h9c})});};m7c.Renderer.Shading.prototype.setShading=function(p9c){if(p9c.constructor != Array){p9c=[p9c];}this.shading=p9c;};m7c.Renderer.Shading.prototype.draw=function(){var i04P,j9c,C9c,L04P,Y04P,R04P,K9c,s9c,B9c,P9c,d9c,I9c,i9c,w9c,A9c,G9c,t04P,M9c,a9c,y9c,q9c,z9c;i04P="ra";i04P+="ngechan";function O9c(f9c){var H9iE=G5XX;var o9c,m9c,D9c,X30P,D30P,H30P;o9c=I9c[f9c];if(o9c){m9c=o9c.parameters.field;D9c=o9c.parameters.subField;X30P=648883545;D30P=1519856825;H30P=2;for(var E30P=1;H9iE.C60P(E30P.toString(),E30P.toString().length,80923) !== X30P;E30P++){H9iE.R0F7(2);return H9iE.N0F7(D9c?(192.1 < (6820,9049)?1890 != 2250?".":8.50e+3:(3.24e+3,6.67e+3)) + D9c:"",m9c);}if(H9iE.C60P(H30P.toString(),H30P.toString().length,83155) !== D30P){H9iE.R0F7(10);return H9iE.n0F7(m9c,D9c?(74328 <= (9423,9688)?6054 == 1433?".":"7842919" ^ 0:(9366169,3024927)) / D9c:".");}}return f9c;}i04P+="n";i04P+="el";j9c=this.stx;C9c=j9c.panels[this.params.panel].chart;if(this.params.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {L04P="Sha";L04P+="din";L04P+="g";Y04P="stx_";Y04P+="l";Y04P+="in";Y04P+="e_up";R04P="a";R04P+="u";R04P+="t";R04P+="o";this.beenSetup=! !{};this.params.display=this.seriesParams[+"0"].display;this.params.yAxis=this.seriesParams[0].yAxis;K9c=this.seriesParams[0].color || R04P;s9c=this.seriesParams[0].symbol;B9c="";if(s9c){G5XX.R0F7(2);B9c=G5XX.n0F7(539 !== (31.17,4200)?".":(0x6fe,!{}),s9c);}this.removeAllSeries(! ![]);P9c=this.params.name;j9c.addSeries(null,{symbol:s9c,loadData:! !s9c,field:"High",renderer:"Shading",name:P9c,style:Y04P,display:this.params.display,shareYAxis:! !1});j9c.addSeries(null,{symbol:s9c,loadData:! !s9c,field:"Low",renderer:L04P,name:P9c,style:"stx_line_down",display:this.params.display,shareYAxis:! !"1"});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:K9c});}}if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");d9c=this;this.errTimeout=setTimeout(function(){d9c.errTimeout=null;},10000);}}I9c={};for(i9c=0;i9c < this.seriesParams.length;i9c++){w9c={};if(C9c.series[this.seriesParams[i9c].id]){w9c=m7c.clone(C9c.series[this.seriesParams[i9c].id].parameters);}I9c[this.seriesParams[i9c].id]={parameters:m7c.extend(m7c.extend(w9c,this.params),this.seriesParams[i9c]),yValueCache:this.caches[this.seriesParams[i9c].id]};}j9c.drawSeries(C9c,I9c,this.params.yAxis,this);if(C9c.legend && this.params.type == i04P){if(!C9c.legend.colorMap){C9c.legend.colorMap={};}A9c=this.params.display;G9c=[j9c.getCanvasColor("stx_line_up"),j9c.getCanvasColor("stx_line_down")];C9c.legend.colorMap[A9c]={color:G9c,display:A9c,isBase:this == j9c.mainSeriesRenderer};;}for(i9c in I9c){this.caches[i9c]=I9c[i9c].yValueCache;}for(i9c=+"0";i9c < this.shading.length;i9c++){t04P="a";t04P+="u";t04P+="t";t04P+="o";M9c=this.shading[i9c];a9c=M9c.color;if(M9c.color == t04P){a9c=j9c.defaultColor;}if(!M9c.primary){M9c.primary="Close";}if(!M9c.secondary && this.seriesParams[+"0"]){M9c.secondary=this.seriesParams[0].field;}if(!M9c.secondary)continue;else if(!I9c[M9c.primary] && M9c.primary != "Close")continue;else if(!I9c[M9c.secondary])continue;else if(M9c.primary == "Close" && this.params.yAxis && this.params.yAxis != C9c.yAxis)continue;y9c=O9c(M9c.primary).split(".");q9c=O9c(M9c.secondary).split((123.35,9192) != (300.28,367)?2400 < (1193,2455)?".":(9010,1881) == (19.79,2180)?"d":5.55e+3:"2.87e+3" & 2147483647);z9c={topBand:y9c[0],topSubBand:y9c[1],topColor:M9c.greater || a9c || j9c.containerColor,topAxis:this.params.yAxis,bottomBand:q9c[0],bottomSubBand:q9c[1],bottomColor:M9c.lesser || a9c || j9c.containerColor,bottomAxis:M9c.primary == "Close"?null:this.params.yAxis,tension:this.params.tension || C9c.tension,opacity:0.1};if(!z9c.topColor && !z9c.bottomColor)continue;if(!this.params.highlight && j9c.highlightedDraggable){z9c.opacity*=0.3;}m7c.fillIntersecting(j9c,this.params.panel,z9c);}};m7c.Renderer.Histogram=function(N9c){this.construct(N9c);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !{};if(this.params.yAxis){this.params.bindToYAxis=!0;if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};m7c.inheritsFrom(m7c.Renderer.Histogram,m7c.Renderer,!{});m7c.Renderer.Histogram.prototype.adjustYAxis=function(){var l9c;l9c=this.params.yAxis;G5XX.g2iE();if(!l9c || l9c.baseline){return;}l9c.min=0;l9c.highValue/=this.params.heightPercentage || 1;};m7c.Renderer.Histogram.prototype.draw=function(){var K04P,e9c,H9c,b04P,q04P,S9c,J9c;K04P="s";K04P+="tac";G5XX.m2iE();K04P+="ke";K04P+="d";e9c=m7c.clone(this.params);e9c.type=e9c.subtype;this.useSum=e9c.subtype == K04P;if(!e9c.yAxis || e9c.yAxis == this.stx.chart.yAxis){e9c.bindToYAxis=! ![];}this.stx.drawHistogram(e9c,this.seriesParams);H9c=e9c.yAxis && e9c.yAxis.baseline;if(H9c && H9c.color){b04P="destin";b04P+="at";b04P+="ion-over";q04P="s";q04P+="olid";S9c=this.stx.panels[this.params.panel];J9c=this.stx.pixelFromPrice(H9c.value,S9c,this.params.yAxis) - 0.5;this.stx.plotLine({x0:S9c.left,x1:S9c.right,y0:J9c,y1:J9c,color:H9c.color,type:"line",context:S9c.chart.context,confineToPanel:S9c,pattern:H9c.pattern || q04P,lineWidth:H9c.lineWidth || 1,opacity:H9c.opacity || 0.8,globalCompositeOperation:b04P});}};m7c.Renderer.Histogram.prototype.getBasis=function(L9c,v9c,g9c){var W9c,n9c,E9c;W9c=0;G5XX.m2iE();if(L9c && this.useSum){for(var Q9c=0;Q9c < this.seriesParams.length;Q9c++){n9c=this.seriesParams[Q9c].field;if(n9c === v9c)break;E9c=L9c[n9c];if(E9c && typeof E9c === "object"){E9c=E9c[g9c || this.seriesParams[Q9c].subField || this.stx.chart.defaultPlotField || "Close"];}if(E9c){W9c+=E9c;}}}return W9c;};m7c.Renderer.Heatmap=function(R9c){var m04P;m04P="heatm";m04P+="a";m04P+="p";this.construct(R9c);this.params.type=m04P;this.params.highlightable=! !"";this.barsHaveWidth=this.standaloneBars=! !{};};m7c.inheritsFrom(m7c.Renderer.Heatmap,m7c.Renderer,! !"");m7c.Renderer.Heatmap.requestNew=function(Z9c,b6e){var X9c,u6e;X9c=null;for(var Y9c=0;Y9c < Z9c.length;Y9c++){u6e=Z9c[Y9c];if(u6e == "heatmap"){X9c="heatmap";}}if(X9c === null){return null;}return new m7c.Renderer.Heatmap({params:m7c.extend(b6e,{type:X9c})});};m7c.Renderer.Heatmap.prototype.draw=function(){G5XX.m2iE();this.stx.drawHeatmap(m7c.clone(this.params),this.seriesParams);};m7c.Renderer.Scatter=function(k6e){G5XX.m2iE();this.construct(k6e);this.standaloneBars=this.barsHaveWidth=! !"1";this.bounded=!"";};m7c.inheritsFrom(m7c.Renderer.Scatter,m7c.Renderer.Lines,! !0);m7c.Renderer.Scatter.requestNew=function(x6e,h6e){var F6e,t6e;F6e=null;G5XX.g2iE();for(var V6e=0;V6e < x6e.length;V6e++){t6e=x6e[V6e];if(t6e == "scatterplot"){F6e="scatter";}}if(F6e === null){return null;}return new m7c.Renderer.Scatter({params:m7c.extend(h6e,{type:F6e})});};m7c.Renderer.Scatter.prototype.drawIndividualSeries=function(U6e,c6e){var T6e,r6e;T6e=this.stx.panels[c6e.panel] || U6e.panel;r6e={colors:[]};G5XX.m2iE();if(this.stx.scatter){r6e=this.stx.scatter(T6e,c6e);}else {console.warn("Error, Scatter renderer requires customChart.js");}return r6e;};};g71=M6e=>{var p6e;p6e=typeof _CIQ !== "undefined"?_CIQ:M6e.CIQ;if(!p6e.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {p6e.Studies.calculateAccumulationDistribution=function(P6e,I6e){var a6e,T04P,i6e,C6e,s6e,z6e;a6e=I6e.chart.scrubbed;for(var j6e=I6e.startFrom;j6e < a6e.length;j6e++){T04P="Re";T04P+="s";T04P+="ul";T04P+="t ";if(!j6e)continue;i6e=a6e[j6e];if(i6e.futureTick)break;G5XX.R0F7(6);C6e=a6e[G5XX.n0F7(j6e,1)];s6e=0;if(i6e.Close > C6e.Close){s6e=i6e.Close - Math.min(i6e.Low,C6e.Close);}else if(i6e.Close < C6e.Close){s6e=i6e.Close - Math.max(i6e.High,C6e.Close);}if(I6e.inputs["Use Volume"]){s6e*=i6e.Volume;}z6e=C6e["Result " + I6e.name];if(!z6e){z6e=0;}z6e+=s6e;if(!isNaN(i6e.Close)){i6e[T04P + I6e.name]=z6e;}}};p6e.Studies.studyLibrary=p6e.extend(p6e.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:p6e.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!1}}});}};R71=A6e=>{var w6e,O04P,W04P,C04P;G5XX.m2iE();w6e=typeof _CIQ !== "undefined"?_CIQ:A6e.CIQ;if(!w6e.Studies){console.error("adx feature requires first activating studies feature.");}else {O04P="#";O04P+="FF";O04P+="00";O04P+="00";W04P="a";W04P+="u";W04P+="t";W04P+="o";C04P="AD";C04P+="X";C04P+="/D";C04P+="MS";w6e.Studies.calculateADX=function(E6e,y6e){var l9iE=G5XX;var e04P,B6e,d6e,G6e,f6e,m6e,N6e,l6e,q6e,I04P,O6e,o6e,P04P,f04P,c04P,e6e,H6e,S6e,k04P,p04P,F04P,J6e;e04P="Smoothin";e04P+="g Period";w6e.Studies.calculateStudyATR(E6e,y6e);B6e=y6e.chart.scrubbed;d6e=y6e.days;G6e=parseInt(y6e.inputs[e04P],+"10");if(!G6e && G6e !== 0){G6e=d6e;}if(B6e.length < y6e.days + 1){y6e.error=!0;return;}f6e=0;l9iE.m2iE();m6e=0;N6e=0;l6e=0;for(var K6e=Math.max(1,y6e.startFrom);K6e < B6e.length;K6e++){I04P="_sm";I04P+="TR ";q6e=B6e[K6e];O6e=Math.max(0,q6e.High - B6e[K6e - ("1" >> 1640728960)].High);o6e=Math.max(0,B6e[K6e - 1].Low - q6e.Low);if(O6e > o6e){o6e=0;}else if(o6e > O6e){O6e=0;}else {O6e=o6e=0;}if(K6e <= d6e){P04P="Tr";P04P+="ue ";P04P+="Range ";m6e+=O6e;N6e+=o6e;f6e+=q6e[P04P + y6e.name];}else {f04P="_";f04P+="sm";f04P+="T";f04P+="R ";c04P="_";c04P+="sm-";c04P+="DM ";l9iE.y0F7(6);var c9BP=l9iE.n0F7(11,10);l9iE.R0F7(65);var f9BP=l9iE.N0F7(16,10,16,11);m6e=B6e[K6e - c9BP]["_sm+DM " + y6e.name] * (d6e - f9BP) / d6e + O6e;l9iE.R0F7(103);var I9BP=l9iE.n0F7(7,12,8,197,18);N6e=B6e[K6e - ("1" | 0)][c04P + y6e.name] * (d6e - I9BP) / d6e + o6e;l9iE.R0F7(64);var k9BP=l9iE.n0F7(6,7);f6e=B6e[K6e - k9BP][f04P + y6e.name] * (d6e - +"1") / d6e + q6e["True Range " + y6e.name];}q6e["_sm+DM " + y6e.name]=m6e;q6e["_sm-DM " + y6e.name]=N6e;q6e[I04P + y6e.name]=f6e;if(K6e < d6e)continue;l9iE.R0F7(104);e6e=l9iE.N0F7(f6e,m6e,100);l9iE.R0F7(104);H6e=l9iE.N0F7(f6e,N6e,100);S6e=+"100" * Math.abs(e6e - H6e) / (e6e + H6e);q6e["+DI " + y6e.name]=e6e;q6e["-DI " + y6e.name]=H6e;if(y6e.inputs.Series !== ![] && G6e){if(K6e < d6e + G6e - +"1"){if(K6e == y6e.startFrom){for(var D6e=d6e;D6e < y6e.startFrom;D6e++){l9iE.R0F7(4);var F9BP=l9iE.N0F7(118,8,26);l6e+=F9BP * Math.abs(B6e[D6e]["+DI " + y6e.name] - B6e[D6e]["-DI " + y6e.name]) / (B6e[D6e]["+DI " + y6e.name] + B6e[D6e]["-DI " + y6e.name]);}}l6e+=S6e;}else if(K6e == d6e + G6e - 1){l9iE.y0F7(10);q6e["ADX " + y6e.name]=l9iE.n0F7(l6e,G6e);}else {k04P="A";k04P+="D";k04P+="X";k04P+=" ";l9iE.R0F7(59);var p9BP=l9iE.n0F7(8,19,151);q6e[k04P + y6e.name]=(B6e[K6e - p9BP]["ADX " + y6e.name] * (G6e - +"1") + S6e) / G6e;}}if(y6e.inputs.Histogram){p04P="-";p04P+="DI";p04P+=" ";F04P="+DI";F04P+=" ";J6e=y6e.name + "_hist";if(!q6e["+DI " + y6e.name] && q6e["+DI " + y6e.name] !== 0)continue;if(!q6e["-DI " + y6e.name] && q6e["-DI " + y6e.name] !== 0)continue;q6e[J6e]=q6e[F04P + y6e.name] - q6e[p04P + y6e.name];if(y6e.inputs.Series === ![]){q6e["+DI " + y6e.name]=null;q6e["-DI " + y6e.name]=null;}y6e.outputMap[J6e]="";}}};w6e.Studies.displayADX=function(W6e,Q6e,R6e){var X6e,h04P,n6e,L6e,Y6e,Z6e,v6e,g6e;X6e=Q6e.underlay?0.3:Q6e.inputs.Series?0.4:1;if(Q6e.inputs.Series && Q6e.inputs.Shading){h04P="-";h04P+="D";h04P+="I";h04P+=" ";n6e="+DI " + Q6e.name;L6e=h04P + Q6e.name;Y6e=w6e.Studies.determineColor(Q6e.outputs[Q6e.outputMap[n6e]]);Z6e=w6e.Studies.determineColor(Q6e.outputs[Q6e.outputMap[L6e]]);v6e=Q6e.getYAxis(W6e);g6e={topBand:n6e,bottomBand:L6e,topColor:Y6e,bottomColor:Z6e,skipTransform:W6e.panels[Q6e.panel].name != Q6e.chart.name,topAxis:v6e,bottomAxis:v6e,opacity:0.3};if(!Q6e.highlight && W6e.highlightedDraggable){g6e.opacity*=0.3;}w6e.fillIntersecting(W6e,Q6e.panel,g6e);}if(Q6e.inputs.Histogram){w6e.Studies.createHistogram(W6e,Q6e,R6e,![],X6e);}if(Q6e.inputs.Series !== ! !0){w6e.Studies.displaySeriesAsLine(W6e,Q6e,R6e);}else if(!Q6e.inputs.Series && !Q6e.inputs.Histogram){W6e.displayErrorAsWatermark(Q6e.panel,W6e.translateIf(Q6e.name) + ": " + W6e.translateIf("Nothing to display"));}};w6e.Studies.studyLibrary=w6e.extend(w6e.Studies.studyLibrary,{ADX:{name:C04P,calculateFN:w6e.Studies.calculateADX,seriesFN:w6e.Studies.displayADX,inputs:{Period:14,"Smoothing Period":14,Series:!0,Shading:! !0,Histogram:! !0},outputs:{"+DI":"#00FF00","-DI":"#FF0000",ADX:W04P,"Positive Bar":"#00DD00","Negative Bar":O04P}}});}};X71=b2e=>{var u2e,j04P;u2e=typeof _CIQ !== "undefined"?_CIQ:b2e.CIQ;if(!u2e.Studies){console.error("alligator feature requires first activating studies feature.");}else {j04P="#FF";j04P+="0000";u2e.Studies.calculateAlligator=function(c2e,V2e){var q9iE=G5XX;var Q04P,x2e,k2e,o04P,w04P,U04P,d04P,B04P,l04P,h2e,r2e,t2e;Q04P="S";Q04P+="h";q9iE.m2iE();Q04P+="o";Q04P+="w Lines";x2e={J:Number(V2e.inputs["Jaw Period"]),T:Number(V2e.inputs["Teeth Period"]),L:Number(V2e.inputs["Lips Period"])};k2e=V2e.chart.scrubbed;if(k2e.length < Math.max(x2e.J,x2e.T,x2e.L) + 1){V2e.error=!"";return;}if(V2e.type === "Gator" || V2e.inputs[Q04P]){o04P="Teet";o04P+="h";w04P="well";w04P+="es wi";w04P+="lder";U04P="J";U04P+="a";U04P+="w";d04P="Ja";d04P+="w Offs";d04P+="et";B04P="h";B04P+="l";B04P+="/";B04P+="2";l04P="well";l04P+="es wilder";u2e.Studies.MA(l04P,x2e.J,B04P,V2e.inputs[d04P],U04P,c2e,V2e);u2e.Studies.MA(w04P,x2e.T,"hl/2",V2e.inputs["Teeth Offset"],o04P,c2e,V2e);u2e.Studies.MA("welles wilder",x2e.L,"hl/2",V2e.inputs["Lips Offset"],"Lips",c2e,V2e);}for(var F2e=V2e.startFrom;F2e < k2e.length;F2e++){if(!k2e[F2e])continue;if(V2e.type == "Gator"){h2e=k2e[F2e]["Jaw " + V2e.name];r2e=k2e[F2e]["Lips " + V2e.name];t2e=k2e[F2e]["Teeth " + V2e.name];if(t2e || t2e === 0){if(h2e || h2e === 0){q9iE.y0F7(6);k2e[F2e][V2e.name + "_hist1"]=Math.abs(q9iE.n0F7(h2e,t2e));}if(r2e || r2e === 0){q9iE.R0F7(6);k2e[F2e][V2e.name + "_hist2"]=-Math.abs(q9iE.n0F7(t2e,r2e));}}V2e.outputMap={};V2e.outputMap[V2e.name + "_hist1"]="";V2e.outputMap[V2e.name + "_hist2"]="";}if(V2e.inputs["Show Fractals"]){if(!k2e[F2e - 2] || !k2e[F2e - 1] || !k2e[F2e] || !k2e[F2e + 1] || !k2e[F2e + ("2" << 408771072)])continue;if(k2e[F2e - +"2"].High && k2e[F2e - 1].High && k2e[F2e].High && k2e[F2e + 1].High && k2e[F2e + 2].High){if(k2e[F2e].High > k2e[F2e - "1" * 1].High && k2e[F2e].High > k2e[F2e - 2].High && k2e[F2e].High > k2e[F2e + 1].High && k2e[F2e].High > k2e[F2e + 2].High){k2e[F2e]["Fractal High " + V2e.name]=1;}}if(k2e[F2e - 2].Low && k2e[F2e - 1].Low && k2e[F2e].Low && k2e[F2e + +"1"].Low && k2e[F2e + 2].Low){if(k2e[F2e].Low < k2e[F2e - 1].Low && k2e[F2e].Low < k2e[F2e - 2].Low && k2e[F2e].Low < k2e[F2e + 1].Low && k2e[F2e].Low < k2e[F2e + ("2" >> 1185207136)].Low){k2e[F2e]["Fractal Low " + V2e.name]=1;}}}}};u2e.Studies.displayAlligator=function(T2e,M2e,i2e){var N04P,U2e,r04P;G5XX.g2iE();N04P="S";N04P+="how Lines";U2e=M2e.getContext(T2e);if(M2e.inputs[N04P]){u2e.Studies.displaySeriesAsLine(T2e,M2e,i2e);}function j2e(s2e,z2e){var I2e,C2e,u04P;C2e=T2e.chart.panel.yAxis.flipped;G5XX.m2iE();if(s2e == "high"){U2e.fillStyle=T2e.defaultColor;U2e.textBaseline=C2e?"top":"bottom";I2e=T2e.pixelFromPrice(i2e[z2e].High);U2e.fillText(C2e?(7290,788.03) == (+"685",8506)?986:"\u25BC":(3231,290.44) === 9062?("9.24e+3" * 1,! !""):(6068,24.04) != (375.41,3538)?"\u25B2":("h","L"),T2e.pixelFromBar(p2e,T2e.chart) - U2e.measureText((5063,+"3170") > (+"255.33",5496)?7.03e+3:"\u25B2").width / 2 + 1,C2e?I2e + 5:I2e - 5);;}else if(s2e == "low"){u04P="t";u04P+="o";u04P+="p";U2e.fillStyle=T2e.defaultColor;U2e.textBaseline=C2e?"bottom":u04P;I2e=T2e.pixelFromPrice(i2e[z2e].Low);U2e.fillText(C2e?(1108,206.14) !== (119.19,48.37)?8200 < (6870,+"472.6")?(0x901,830.17):"\u25B2":![]:3933 < "352.62" - 0?2.79e+3:(2076,1910) != (481.88,332.36)?(8740,782.56) !== 2150?"\u25BC":"P":(524.66,3.05e+3),T2e.pixelFromBar(p2e,T2e.chart) - U2e.measureText(4330 != 8480?(2963,2119) <= 732.27?9.92e+3:4680 !== 7360?"\u25BC":"K":0x111b).width / 2 + ("1" - 0),C2e?I2e - 5:I2e + 5);;}}if(M2e.inputs["Show Fractals"]){T2e.startClip();U2e.globalAlpha=M2e.underlay?0.3:1;if(!M2e.highlight && T2e.highlightedDraggable){U2e.globalAlpha*=0.3;}for(var p2e="2" * 1;p2e < i2e.length - 2;p2e++){if(i2e[p2e]){r04P="F";r04P+="r";r04P+="actal";r04P+=" Low ";if(i2e[p2e]["Fractal High " + M2e.name]){j2e("high",p2e);}if(i2e[p2e][r04P + M2e.name]){j2e("low",p2e);}}}T2e.endClip();}};u2e.Studies.displayGator=function(P2e,a2e,G2e){var f9iE=G5XX;var a04P,d2e,A2e,O2e,o2e,K2e,D2e,f2e,q2e,B2e,A04P;a04P="#";a04P+="C";a04P+="CCCC";a04P+="C";d2e=P2e.panels[a2e.panel];A2e=a2e.getContext(P2e);O2e=a2e.getYAxis(P2e);o2e=P2e.pixelFromPrice(0,d2e,O2e);f9iE.y0F7(4);var h9BP=f9iE.N0F7(36,8,42);K2e=P2e.layout.candleWidth - h9BP;if(K2e < 2){K2e=1;}D2e=u2e.Studies.determineColor(a2e.outputs["Increasing Bar"]);f2e=u2e.Studies.determineColor(a2e.outputs["Decreasing Bar"]);P2e.canvasColor("stx_histogram");if(!a2e.underlay){f9iE.R0F7(35);A2e.globalAlpha=f9iE.N0F7("1",0);}A2e.fillStyle=a04P;P2e.startClip(a2e.panel);if(!a2e.highlight && P2e.highlightedDraggable){A2e.globalAlpha*=0.3;}for(var y2e=0;y2e < G2e.length;y2e++){q2e=G2e[y2e];f9iE.y0F7(6);B2e=G2e[f9iE.N0F7(y2e,1)];if(!q2e)continue;for(var w2e=+"1";w2e <= 2;w2e++){A04P="_h";A04P+="i";A04P+="s";A04P+="t";if(!B2e){B2e=P2e.getPreviousBar(P2e.chart,a2e.name + "_hist" + w2e,y2e);}if(!B2e){A2e.fillStyle="#CCCCCC";}else if(Math.abs(B2e[a2e.name + A04P + w2e]) < Math.abs(q2e[a2e.name + "_hist" + w2e])){A2e.fillStyle=D2e;}else if(Math.abs(B2e[a2e.name + "_hist" + w2e]) > Math.abs(q2e[a2e.name + "_hist" + w2e])){A2e.fillStyle=f2e;}if(q2e.candleWidth){K2e=Math.floor(Math.max(1,q2e.candleWidth - 2));}A2e.fillRect(Math.floor(P2e.pixelFromBar(y2e,d2e.chart) - K2e / 2),Math.floor(o2e),Math.floor(K2e),Math.floor(P2e.pixelFromPrice(q2e[a2e.name + "_hist" + w2e],d2e,O2e) - o2e));}}P2e.endClip();};u2e.Studies.studyLibrary=u2e.extend(u2e.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !1,seriesFN:u2e.Studies.displayAlligator,calculateFN:u2e.Studies.calculateAlligator,inputs:{"Show Lines":! !"1","Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:"#0000FF",Teeth:j04P,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:u2e.Studies.displayGator,calculateFN:u2e.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"},centerline:0}});}};Y71=N2e=>{var m2e,b30P,m30P,T30P,g04P,J04P,S04P,M04P,x04P;m2e=typeof _CIQ !== "undefined"?_CIQ:N2e.CIQ;if(!m2e.Studies){console.error("aroon feature requires first activating studies feature.");}else {m2e.Studies.calculateAroon=function(Y2e,l2e){var T9iE=G5XX;var E2e,Q2e,W2e,H2e,S2e,L2e,J2e,v04P,n04P,e2e,v2e,g2e,R2e,X2e;E2e=l2e.chart.scrubbed;if(E2e.length < l2e.days + 1){l2e.error=!0;return;}Q2e=0;W2e=0;H2e=null;S2e=null;if(l2e.startFrom > 0){T9iE.R0F7(12);var C9BP=T9iE.n0F7(14,20,4,3);L2e=E2e[l2e.startFrom - C9BP]["_state " + l2e.name];if(L2e){Q2e=L2e[0];W2e=L2e[1];H2e=L2e[2];S2e=L2e[3];}}for(var n2e=l2e.startFrom;n2e < E2e.length;n2e++){v04P="Ar";v04P+="o";v04P+="on U";v04P+="p ";n04P="Ar";n04P+="oon Up ";e2e=E2e[n2e];if(e2e.futureTick)break;if(H2e === null){H2e=e2e.High;}if(S2e === null){S2e=e2e.Low;}H2e=Math.max(H2e,e2e.High);if(H2e == e2e.High){Q2e=0;}else {Q2e++;if(Q2e > l2e.days){H2e=e2e.High;Q2e=0;for(J2e=1;J2e <= l2e.days;J2e++){H2e=Math.max(H2e,E2e[n2e - J2e].High);if(H2e == E2e[n2e - J2e].High){Q2e=J2e;}}}}S2e=Math.min(S2e,e2e.Low);if(S2e == e2e.Low){T9iE.R0F7(37);W2e=T9iE.N0F7("0",1862760352);}else {W2e++;if(W2e > l2e.days){S2e=e2e.Low;W2e=0;for(J2e="1" ^ 0;J2e <= l2e.days;J2e++){S2e=Math.min(S2e,E2e[n2e - J2e].Low);if(S2e == E2e[n2e - J2e].Low){W2e=J2e;}}}}v2e=!isNaN(e2e.High);g2e=!isNaN(e2e.Low);T9iE.R0F7(66);var W9BP=T9iE.N0F7(17,1804,14,8);T9iE.y0F7(105);var O9BP=T9iE.N0F7(1,9,8,12,12);R2e=W9BP * ("1" * O9BP - Q2e / l2e.days);if(v2e){e2e[n04P + l2e.name]=R2e;}T9iE.y0F7(106);var Q9BP=T9iE.N0F7(17,9,1574,1700);T9iE.R0F7(4);var l9BP=T9iE.N0F7(0,18,17);X2e=Q9BP * (l9BP - W2e / l2e.days);if(g2e){e2e["Aroon Down " + l2e.name]=X2e;}if(v2e && g2e){e2e["Aroon Oscillator " + l2e.name]=e2e[v04P + l2e.name] - e2e["Aroon Down " + l2e.name];}e2e["_state " + l2e.name]=[Q2e,W2e,H2e,S2e];}};b30P=1573205735;m30P=662381042;T30P=2;for(var P30P=1;G5XX.C60P(P30P.toString(),P30P.toString().length,20855) !== b30P;P30P++){g04P="0 to 10";g04P+="0";m2e.Studies.studyLibrary=m2e.extend(m2e.Studies.studyLibrary,{Aroon:{name:"Aroon",range:g04P,calculateFN:m2e.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:m2e.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});T30P+=2;}if(G5XX.W60P(T30P.toString(),T30P.toString().length,"73092" << 573342976) !== m30P){J04P="A";J04P+="ro";J04P+="on D";J04P+="own";S04P="aut";S04P+="o";M04P="Aroon";M04P+=" O";M04P+="sc";x04P="0";x04P+=" ";x04P+="to 100";m2e.Studies.studyLibrary=m2e.extend(m2e.Studies.studyLibrary,{Aroon:{name:"Aroon Oscillator",range:x04P,calculateFN:m2e.Studies.calculateAroon,outputs:{"Aroon Up":"0 to 100","Aroon Down":M04P}},"Aroon Osc":{name:S04P,calculateFN:m2e.Studies.calculateAroon,outputs:{"Aroon Oscillator":J04P}}});}}};Z71=u8e=>{var Z2e,z04P,E04P,V04P;Z2e=typeof _CIQ !== "undefined"?_CIQ:u8e.CIQ;if(!Z2e.Studies){console.error("atr feature requires first activating studies feature.");}else {z04P="#0";z04P+="0";z04P+="F";z04P+="F00";E04P="au";E04P+="to";V04P="a";V04P+="u";V04P+="to";Z2e.Studies.calculateATRBands=function(F8e,b8e){var k8e;Z2e.Studies.calculateStudyATR(F8e,b8e);k8e=b8e.inputs.Field;if(!k8e || k8e == "field"){k8e="Close";}Z2e.Studies.calculateGenericEnvelope(F8e,b8e,b8e.inputs.Shift,k8e,"ATR " + b8e.name);};Z2e.Studies.calculateSTARCBands=function(x8e,V8e){G5XX.m2iE();Z2e.Studies.calculateStudyATR(x8e,V8e);Z2e.Studies.MA("simple",V8e.inputs["MA Period"],"Close",0,"_MA",x8e,V8e);Z2e.Studies.calculateGenericEnvelope(x8e,V8e,V8e.inputs.Multiplier,"_MA " + V8e.name,"ATR " + V8e.name);};Z2e.Studies.calculateATRStops=function(C8e,t8e){var u9iE=G5XX;var T8e,M8e,X04P,h8e,j8e,r8e,c8e,p8e,i8e,D04P,H04P;T8e=t8e.chart.scrubbed;if(!T8e){return;}Z2e.Studies.calculateStudyATR(C8e,t8e);M8e=t8e.inputs.HighLow;for(var U8e=Math.max(t8e.startFrom - 1,"1" | 1);U8e < T8e.length - 1;U8e++){X04P="Buy St";X04P+="o";X04P+="ps";X04P+=" ";h8e=T8e[U8e];u9iE.y0F7(107);j8e=T8e[u9iE.n0F7(0,"1",U8e)];r8e=h8e[X04P + t8e.name];if(!r8e){r8e=h8e["Sell Stops " + t8e.name];}if(!r8e){r8e=0;}if(!h8e || !j8e)continue;c8e=h8e.Close;p8e=c8e;i8e=h8e["ATR " + t8e.name] * t8e.inputs.Multiplier;if(h8e.Close > r8e && j8e.Close > r8e){if(M8e){c8e=h8e.High;}u9iE.R0F7(6);p8e=Math.max(r8e,u9iE.N0F7(c8e,i8e));}else if(h8e.Close <= r8e && j8e.Close <= r8e){if(M8e){c8e=h8e.Low;}u9iE.y0F7(2);p8e=Math.min(r8e,u9iE.n0F7(i8e,c8e));}else if(h8e.Close > r8e){if(M8e){c8e=h8e.High;}u9iE.R0F7(6);p8e=u9iE.n0F7(c8e,i8e);}else if(h8e.Close <= r8e){if(M8e){c8e=h8e.Low;}u9iE.y0F7(2);p8e=u9iE.N0F7(i8e,c8e);}if(c8e <= p8e){D04P="Buy S";D04P+="tops ";u9iE.R0F7(2);T8e[u9iE.N0F7(1,U8e)][D04P + t8e.name]=p8e;u9iE.R0F7(2);delete T8e[u9iE.n0F7(1,U8e)]["Sell Stops " + t8e.name];}else if(c8e > p8e){H04P="Sell ";H04P+="Stops ";u9iE.y0F7(2);T8e[u9iE.n0F7(1,U8e)][H04P + t8e.name]=p8e;u9iE.y0F7(2);delete T8e[u9iE.N0F7(1,U8e)]["Buy Stops " + t8e.name];}u9iE.R0F7(2);T8e[u9iE.n0F7(1,U8e)]["All Stops " + t8e.name]=p8e;}t8e.referenceOutput="All Stops";t8e.outputMap={};t8e.outputMap["All Stops " + t8e.name]="";};Z2e.Studies.studyLibrary=Z2e.extend(Z2e.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:Z2e.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!0,seriesFN:Z2e.Studies.displayChannel,calculateFN:Z2e.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":! !{}},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":V04P,"ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!"",seriesFN:Z2e.Studies.displayChannel,calculateFN:Z2e.Studies.calculateSTARCBands,inputs:{Period:"15" * 1,"MA Period":5,Multiplier:1.3,"Channel Fill":!0},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":E04P},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!0,seriesFN:Z2e.Studies.displayPSAR2,calculateFN:Z2e.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!"1"},outputs:{"Buy Stops":"#FF0000","Sell Stops":z04P},attributes:{Multiplier:{min:+"0.1",step:0.1}}}});}};u6M=s8e=>{var I8e,t64P,i64P;I8e=typeof _CIQ !== "undefined"?_CIQ:s8e.CIQ;if(!I8e.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {t64P="#0";t64P+="0DD";t64P+="00";i64P="Aw";i64P+="eso";i64P+="me ";i64P+="Oscillator";I8e.Studies.calculateAwesomeOscillator=function(w8e,z8e){var Z04P,s04P,G04P,a8e,y04P;Z04P="_";Z04P+="hi";Z04P+="st";G5XX.m2iE();s04P="h";s04P+="l";s04P+="/2";G04P="hl";G04P+="/";G04P+="2";a8e=z8e.chart.scrubbed;if(a8e.length < 33){z8e.error=! !"1";return;}I8e.Studies.MA("simple",5,G04P,0,"_MA5",w8e,z8e);G5XX.y0F7(6);I8e.Studies.MA("simple",34,s04P,G5XX.N0F7("0",0),"_MA34",w8e,z8e);for(var P8e=Math.max(z8e.startFrom,33);P8e < a8e.length;P8e++){y04P="_MA34";y04P+=" ";if(!a8e[P8e])continue;a8e[P8e][z8e.name + "_hist"]=a8e[P8e]["_MA5 " + z8e.name] - a8e[P8e][y04P + z8e.name];}z8e.outputMap={};z8e.outputMap[z8e.name + Z04P]="";};I8e.Studies.displayAwesomeOscillator=function(y8e,A8e,o8e){var M9iE=G5XX;var R64P,O8e,q8e,D8e,f8e,d8e,m8e,N8e,L64P,Y64P,B8e,G8e;R64P="stx_hist";R64P+="ogram";O8e=y8e.panels[A8e.panel];q8e=A8e.getContext(y8e);M9iE.m2iE();D8e=A8e.getYAxis(y8e);f8e=y8e.pixelFromPrice(+"0",O8e,D8e);M9iE.R0F7(108);var B9BP=M9iE.n0F7(222,13,4,16,12);d8e=y8e.layout.candleWidth - B9BP;if(d8e < +"2"){d8e=+"1";}m8e=I8e.Studies.determineColor(A8e.outputs["Increasing Bar"]);N8e=I8e.Studies.determineColor(A8e.outputs["Decreasing Bar"]);y8e.canvasColor(R64P);if(!A8e.underlay){M9iE.y0F7(35);q8e.globalAlpha=M9iE.n0F7("1",0);}q8e.fillStyle="#CCCCCC";y8e.startClip(A8e.panel);if(!A8e.highlight && y8e.highlightedDraggable){q8e.globalAlpha*=0.3;}for(var K8e=0;K8e < o8e.length;K8e++){L64P="_";L64P+="h";L64P+="is";L64P+="t";Y64P="_his";Y64P+="t";B8e=o8e[K8e];M9iE.y0F7(14);G8e=o8e[M9iE.n0F7(1,K8e,"1")];if(!G8e){G8e=y8e.getPreviousBar(y8e.chart,A8e.name + Y64P,K8e);}if(!B8e)continue;if(!G8e);else if(G8e[A8e.name + "_hist"] < B8e[A8e.name + "_hist"]){q8e.fillStyle=m8e;}else if(G8e[A8e.name + "_hist"] > B8e[A8e.name + "_hist"]){q8e.fillStyle=N8e;}if(B8e.candleWidth){d8e=Math.floor(Math.max(1,B8e.candleWidth - 2));}q8e.fillRect(Math.floor(y8e.pixelFromBar(K8e,O8e.chart) - d8e / 2),Math.floor(f8e),Math.floor(d8e),Math.floor(y8e.pixelFromPrice(B8e[A8e.name + L64P],O8e,D8e) - f8e));}y8e.endClip();};I8e.Studies.studyLibrary=I8e.extend(I8e.Studies.studyLibrary,{Awesome:{name:i64P,seriesFN:I8e.Studies.displayAwesomeOscillator,calculateFN:I8e.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":t64P,"Decreasing Bar":"#FF0000"}}});}};b6M=e8e=>{var l8e;l8e=typeof _CIQ !== "undefined"?_CIQ:e8e.CIQ;G5XX.m2iE();if(!l8e.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {l8e.Studies.calculateBalanceOfPower=function(Q8e,H8e){var K64P,J8e,S8e;K64P="Res";K64P+="ul";K64P+="t";J8e=H8e.chart.scrubbed;if(J8e.length < H8e.days + 1){H8e.error=! !{};return;}for(var E8e=H8e.startFrom;E8e < J8e.length;E8e++){S8e=J8e[E8e];S8e["_Ratio " + H8e.name]=S8e.Close - S8e.Open;if(S8e.High - S8e.Low !== 0){S8e["_Ratio " + H8e.name]/=S8e.High - S8e.Low;}}l8e.Studies.MA(H8e.inputs["Moving Average Type"],H8e.days,"_Ratio " + H8e.name,0,K64P,Q8e,H8e);};l8e.Studies.studyLibrary=l8e.extend(l8e.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:l8e.Studies.calculateBalanceOfPower,inputs:{Period:"14" - 0,"Moving Average Type":"ma"}}});}};k6M=n8e=>{var W8e,P64P,e64P,T64P,m64P;W8e=typeof _CIQ !== "undefined"?_CIQ:n8e.CIQ;if(!W8e.Studies){console.error("bollinger feature requires first activating studies feature.");}else {P64P="au";P64P+="to";e64P="m";e64P+="a";T64P="f";T64P+="ie";T64P+="l";T64P+="d";m64P="a";m64P+="u";m64P+="to";W8e.Studies.calculateBollinger=function(g8e,L8e){var b64P,q64P,v8e;b64P="_";b64P+="M";b64P+="A";b64P+=" ";q64P="_";q64P+="M";q64P+="A";G5XX.g2iE();v8e=L8e.inputs.Field;if(!v8e || v8e == "field"){v8e="Close";}W8e.Studies.MA(L8e.inputs["Moving Average Type"],L8e.days,v8e,0,q64P,g8e,L8e);L8e.std=new W8e.Studies.StudyDescriptor(L8e.name,"STD Dev",L8e.panel);L8e.std.chart=L8e.chart;L8e.std.startFrom=L8e.startFrom;L8e.std.days=L8e.days;L8e.std.inputs={Field:v8e,"Standard Deviations":1,Type:L8e.inputs["Moving Average Type"]};L8e.std.outputs={"_STD Dev":null};W8e.Studies.calculateStandardDeviation(g8e,L8e.std);W8e.Studies.calculateGenericEnvelope(g8e,L8e,L8e.inputs["Standard Deviations"],b64P + L8e.name,"_STD Dev " + L8e.name);if(L8e.type == "Boll %b"){L8e.zoneOutput="%b";}};W8e.Studies.studyLibrary=W8e.extend(W8e.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !"1",calculateFN:W8e.Studies.calculateBollinger,seriesFN:W8e.Studies.displayChannel,inputs:{Period:"20" * 1,Field:"field","Standard Deviations":+"2","Moving Average Type":"ma","Channel Fill":! !"1"},outputs:{"Bollinger Bands Top":m64P,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:W8e.Studies.calculateBollinger,inputs:{Period:20,Field:T64P,"Standard Deviations":2,"Moving Average Type":e64P},outputs:{"%b":P64P},parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:100,studyOverBoughtColor:"auto",studyOverSoldValue:+"0",studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:W8e.Studies.calculateBollinger,inputs:{Period:+"20",Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};F6M=X8e=>{var c64P,R8e,h64P,p64P;c64P="un";c64P+="defined";G5XX.m2iE();R8e=typeof _CIQ !== c64P?_CIQ:X8e.CIQ;if(!R8e.Studies){console.error("cci feature requires first activating studies feature.");}else {h64P="au";h64P+="t";h64P+="o";p64P="a";p64P+="ut";p64P+="o";R8e.Studies.calculateCCI=function(V3e,Y8e){var u3e,C90P,W90P,O90P,f64P,F64P,Z8e,k3e,k64P,I64P;u3e=Y8e.chart.scrubbed;if(u3e.length < Y8e.days + 1){Y8e.error=! ![];return;}G5XX.m2iE();C90P=-1641952139;W90P=-582341985;O90P=2;for(var l90P=+"1";G5XX.C60P(l90P.toString(),l90P.toString().length,18160) !== C90P;l90P++){R8e.Studies.MA("hlc/3",Y8e.days,"hlc/3",+"1","MA",V3e,Y8e);O90P+=+"2";}if(G5XX.W60P(O90P.toString(),O90P.toString().length,17899) !== W90P){f64P="si";f64P+="m";f64P+="pl";f64P+="e";R8e.Studies.MA(f64P,Y8e.days,"hlc/3",0,"MA",V3e,Y8e);}for(var b3e=Math.max(Y8e.startFrom,Y8e.days - 1);b3e < u3e.length;b3e++){F64P="hlc/";F64P+="3";Z8e=u3e[b3e];if(!Z8e)continue;k3e=0;for(var F3e=+"0";F3e < Y8e.days;F3e++){k64P="M";k64P+="A ";I64P="h";I64P+="lc";I64P+="/3";k3e+=Math.abs(u3e[b3e - F3e][I64P] - Z8e[k64P + Y8e.name]);}k3e/=Y8e.days;if(Math.abs(k3e) < +"0.00000001"){Z8e["Result " + Y8e.name]=0;}else {Z8e["Result " + Y8e.name]=(Z8e[F64P] - Z8e["MA " + Y8e.name]) / (0.015 * k3e);}}};R8e.Studies.studyLibrary=R8e.extend(R8e.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:R8e.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:100,studyOverBoughtColor:p64P,studyOverSoldValue:-("100" * 1),studyOverSoldColor:h64P}},attributes:{Period:{min:2}}}});}};V6M=t3e=>{var x3e,C64P;x3e=typeof _CIQ !== "undefined"?_CIQ:t3e.CIQ;G5XX.g2iE();if(!x3e.Studies){C64P="centerOfGra";C64P+="vity feature requires first activating studies feature.";console.error(C64P);}else {x3e.Studies.calculateCenterOfGravity=function(j3e,h3e){var Y9iE=G5XX;var r3e,c3e,M3e,p3e,i3e;r3e=h3e.chart.scrubbed;if(r3e.length < h3e.days){h3e.error=! ![];return;}c3e=h3e.inputs.Field;if(!c3e || c3e == "field"){c3e="Close";}for(var T3e=Math.max(h3e.startFrom,h3e.days - 1);T3e < r3e.length;T3e++){M3e=0;p3e=0;for(var U3e=+"0";U3e < h3e.days;U3e++){Y9iE.R0F7(6);i3e=r3e[Y9iE.n0F7(T3e,U3e)][c3e];Y9iE.y0F7(109);M3e-=Y9iE.N0F7(i3e,U3e,1);p3e+=i3e;}if(p3e){Y9iE.R0F7(10);r3e[T3e]["Result " + h3e.name]=Y9iE.n0F7(M3e,p3e);}}};x3e.Studies.studyLibrary=x3e.extend(x3e.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:x3e.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};x6M=I3e=>{var W64P,C3e,d64P;W64P="u";W64P+="nd";W64P+="e";W64P+="fined";G5XX.g2iE();C3e=typeof _CIQ !== W64P?_CIQ:I3e.CIQ;if(!C3e.Studies){console.error("chaikin feature requires first activating studies feature.");}else {d64P="Chaikin V";d64P+="ola";d64P+="tility";C3e.Studies.calculateChaikinMoneyFlow=function(y3e,a3e){var E9iE=G5XX;var s3e,w3e,P3e,A3e,O64P,Q64P;s3e=a3e.chart.scrubbed;if(s3e.length < a3e.days){a3e.error=!"";return;}w3e=0;P3e=0;E9iE.R0F7(6);var d9BP=E9iE.N0F7(9,8);A3e=s3e[a3e.startFrom - d9BP];if(A3e){if(A3e["_sumMF " + a3e.name]){w3e=A3e["_sumMF " + a3e.name];}if(A3e["_sumV " + a3e.name]){P3e=A3e["_sumV " + a3e.name];}}for(var z3e=a3e.startFrom;z3e < s3e.length;z3e++){O64P="_";O64P+="MF";O64P+="V ";if(s3e[z3e].High == s3e[z3e].Low){s3e[z3e]["_MFV " + a3e.name]=+"0";}else {E9iE.R0F7(103);var U9BP=E9iE.N0F7(0,13,8,28,6);s3e[z3e]["_MFV " + a3e.name]=s3e[z3e].Volume * (U9BP * s3e[z3e].Close - s3e[z3e].High - s3e[z3e].Low) / (s3e[z3e].High - s3e[z3e].Low);}w3e+=s3e[z3e][O64P + a3e.name];P3e+=s3e[z3e].Volume;if(z3e > a3e.days - 1){Q64P="Res";Q64P+="ul";Q64P+="t ";w3e-=s3e[z3e - a3e.days]["_MFV " + a3e.name];P3e-=s3e[z3e - a3e.days].Volume;if(P3e){E9iE.y0F7(10);s3e[z3e][Q64P + a3e.name]=E9iE.N0F7(w3e,P3e);}}s3e[z3e]["_sumMF " + a3e.name]=w3e;s3e[z3e]["_sumV " + a3e.name]=P3e;}};C3e.Studies.calculateChaikinVolatility=function(G3e,q3e){var l64P,B3e,K3e,d3e,B64P;l64P="R";l64P+="ate Of ";l64P+="Cha";l64P+="nge";B3e=q3e.chart.scrubbed;if(B3e.length < q3e.days){q3e.error=! !{};return;}for(K3e=q3e.startFrom;K3e < B3e.length;K3e++){if(B3e[K3e].futureTick)break;B3e[K3e]["_High-Low " + q3e.name]=B3e[K3e].High - B3e[K3e].Low;}C3e.Studies.MA(q3e.inputs["Moving Average Type"],q3e.days,"_High-Low " + q3e.name,0,"_MA",G3e,q3e);d3e=q3e.inputs[l64P];if(!d3e){d3e=q3e.days;}for(K3e=Math.max(q3e.startFrom,d3e);K3e < B3e.length;K3e++){B64P="R";B64P+="es";B64P+="ul";B64P+="t ";if(!B3e[K3e - d3e]["_MA " + q3e.name])continue;if(B3e[K3e].futureTick)break;G5XX.y0F7(110);var w9BP=G5XX.N0F7(59,15,118,9,92);G5XX.y0F7(2);var o9BP=G5XX.N0F7(1,0);B3e[K3e][B64P + q3e.name]=w9BP * (B3e[K3e]["_MA " + q3e.name] / B3e[K3e - d3e]["_MA " + q3e.name] - o9BP);}};C3e.Studies.studyLibrary=C3e.extend(C3e.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:C3e.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:d64P,calculateFN:C3e.Studies.calculateChaikinVolatility,inputs:{Period:"14" & 2147483647,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};t6M=o3e=>{var O3e,o64P;G5XX.g2iE();O3e=typeof _CIQ !== "undefined"?_CIQ:o3e.CIQ;if(!O3e.Studies){console.error("chande feature requires first activating studies feature.");}else {o64P="a";o64P+="u";o64P+="t";o64P+="o";O3e.Studies.prettify.variable="vma";O3e.Studies.movingAverage.conversions.vma="variable";O3e.Studies.movingAverage.translations.variable="Variable";O3e.Studies.movingAverage.typeMap.vma="Variable";O3e.Studies.movingAverage.typeMap.variable="Variable";O3e.Studies.calculateChandeForecast=function(e3e,D3e){var b9iE=G5XX;var f3e,m3e,l3e;f3e=D3e.chart.scrubbed;b9iE.m2iE();if(f3e.length < D3e.days + 1){D3e.error=! !{};return;}m3e=D3e.inputs.Field;if(!m3e || m3e == "field"){m3e="Close";}O3e.Studies.MA("time series",D3e.days,m3e,0,"MA",e3e,D3e);for(var N3e=Math.max(+"1",D3e.startFrom);N3e < f3e.length;N3e++){l3e=f3e[N3e][m3e];if(l3e && typeof l3e == "object"){l3e=l3e[D3e.subField];}b9iE.R0F7(111);var u9BP=b9iE.n0F7(95,12,15,2844,1200);b9iE.R0F7(51);var N9BP=b9iE.N0F7(5,1,2,20);f3e[N3e]["Result " + D3e.name]=u9BP * (N9BP - f3e[N3e]["MA " + D3e.name] / l3e);}};O3e.Studies.calculateChandeMomentum=function(Z3e,H3e){var P9iE=G5XX;var n3e,E3e,Q3e,L3e,v3e,g3e,U64P,W3e,J3e,R3e,X3e;n3e=H3e.name;for(var Y3e in H3e.outputs){P9iE.R0F7(55);n3e=P9iE.N0F7(407 > 291.08?550.81 < (+"410.81",5836)?" ":153.95 <= (8540,7376)?! ![]:("E",7.24e+2):("J",379.62),n3e,Y3e);}P9iE.g2iE();E3e=H3e.chart.scrubbed;if(E3e.length < H3e.days + 1){H3e.error=! ![];return;}Q3e=H3e.inputs.Field;if(!Q3e || Q3e == "field"){Q3e="Close";}L3e=+"0";v3e=0;g3e=[];for(var S3e=H3e.startFrom - H3e.days + 1;S3e < E3e.length;S3e++){U64P="o";U64P+="bj";U64P+="e";U64P+="ct";if(S3e < 1)continue;W3e=E3e[S3e][Q3e];P9iE.R0F7(6);J3e=E3e[P9iE.n0F7(S3e,1)][Q3e];if(W3e && typeof W3e == "object"){W3e=W3e.Close;}if(J3e && typeof J3e == U64P){J3e=J3e.Close;}if(J3e === undefined)continue;P9iE.R0F7(6);R3e=P9iE.n0F7(W3e,J3e);g3e.push(R3e);L3e+=R3e;v3e+=Math.abs(R3e);if(g3e.length == H3e.days){P9iE.R0F7(104);E3e[S3e][n3e]=P9iE.n0F7(v3e,L3e,100);X3e=g3e.shift();L3e-=X3e;v3e-=Math.abs(X3e);}}};O3e.Studies.calculateMovingAverageVariable=function(I4e,u4e){var y9iE=G5XX;var w64P,a4e,V4e,i4e,t4e,x4e,h4e,F4e,b4e,k4e,r4e,p4e,j4e,M4e,c4e,z4e,T4e,C4e,U4e;w64P="C";w64P+="los";w64P+="e";a4e=u4e.inputs.Type;V4e=u4e.chart.scrubbed;y9iE.R0F7(112);var r9BP=y9iE.n0F7(277,6,19,40,13);y9iE.R0F7(6);var a9BP=y9iE.N0F7(9,8);i4e=r9BP / (u4e.days + a9BP);t4e=null;x4e=u4e.name;for(var s4e in u4e.outputs){y9iE.y0F7(55);x4e=y9iE.N0F7((1530,+"4600") === (5504,9040)?0x1070:(840.34,1866) <= ("3520" - 0,32.1)?"E":" ",x4e,s4e);}h4e=u4e.inputs.Field;if(!h4e || h4e == "field"){h4e=w64P;}u4e.cmo=new O3e.Studies.StudyDescriptor(u4e.name,"cmo",u4e.panel);u4e.cmo.chart=u4e.chart;u4e.cmo.days=9;u4e.cmo.inputs={Field:h4e};u4e.cmo.startFrom=u4e.startFrom;u4e.cmo.outputs={_CMO:null};O3e.Studies.calculateChandeMomentum(I4e,u4e.cmo);F4e=parseInt(u4e.inputs.Offset,10);if(isNaN(F4e)){F4e=+"0";}p4e=u4e.startFrom;j4e=F4e;for(b4e=u4e.startFrom - 1;b4e >= 0;b4e--){k4e=V4e[b4e][x4e];if(!k4e && k4e !== "0" - 0)continue;if(t4e === null){t4e=k4e;}if(j4e <= 0)break;j4e--;p4e=b4e;}if(t4e === null){t4e=p4e=+"0";}M4e=[];for(b4e=p4e;b4e < V4e.length;b4e++){c4e=V4e[b4e];k4e=c4e[h4e];if(k4e && typeof k4e == "object"){k4e=k4e[u4e.subField];}z4e=b4e + F4e >= 0 && b4e + F4e < V4e.length;T4e=z4e?V4e[b4e + F4e]:null;if(!k4e && k4e !== ("0" ^ 0)){if(T4e){T4e[x4e]=null;}else if(b4e + F4e >= V4e.length){r4e={};r4e[x4e]=null;M4e.push(r4e);}continue;}if(!c4e["_CMO " + u4e.name] && c4e["_CMO " + u4e.name] !== 0)continue;y9iE.y0F7(113);var A9BP=y9iE.n0F7(15,11,1385,10,120);C4e=Math.abs(c4e["_CMO " + u4e.name]) / A9BP;y9iE.y0F7(114);U4e=y9iE.n0F7(k4e,1,C4e,i4e,t4e,i4e,C4e);t4e=U4e;if(b4e < u4e.days){U4e=null;}if(T4e){T4e[x4e]=U4e;}else if(b4e + F4e >= V4e.length){r4e={};r4e[x4e]=U4e;M4e.push(r4e);}}u4e.appendFutureTicks(I4e,M4e);};O3e.Studies.studyLibrary=O3e.extend(O3e.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:O3e.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:O3e.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"50",studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:o64P}}}});}};h6M=w4e=>{var P4e,u64P,r64P,N64P;P4e=typeof _CIQ !== "undefined"?_CIQ:w4e.CIQ;if(!P4e.Studies){u64P="cho";u64P+="ppiness feature requ";u64P+="ires first activating studies feature.";console.error(u64P);}else {r64P="a";r64P+="uto";N64P="Choppiness Ind";N64P+="ex";P4e.Studies.calculateChoppiness=function(d4e,A4e){var q4e,y4e,B4e;function G4e(m4e,f4e){var o4e,D4e;G5XX.y0F7(6);var j9BP=G5XX.N0F7(0,1);o4e=Number.MAX_VALUE * j9BP;D4e=Number.MAX_VALUE;for(var O4e=f4e - m4e + 1;O4e <= f4e;O4e++){if(O4e < 0)continue;o4e=Math.max(o4e,q4e[O4e].High);D4e=Math.min(D4e,q4e[O4e].Low);}G5XX.g2iE();return [D4e,o4e];}P4e.Studies.calculateStudyATR(d4e,A4e);q4e=A4e.chart.scrubbed;if(q4e.length < A4e.days + 1){A4e.error=! ![];return;}for(var K4e=Math.max(A4e.startFrom,A4e.days);K4e < q4e.length;K4e++){y4e=q4e[K4e];if(!y4e)continue;if(y4e.futureTick)break;B4e=G4e(A4e.days,K4e);if(y4e["Sum True Range " + A4e.name]){G5XX.y0F7(7);var n9BP=G5XX.n0F7(86,29,15);G5XX.y0F7(4);var v9BP=G5XX.n0F7(18,17,34);y4e["Result " + A4e.name]=n9BP * Math.log(y4e["Sum True Range " + A4e.name] / Math.max(0.000001,B4e[v9BP] - B4e[0])) / Math.log(A4e.days);}else if(!isNaN(y4e)){y4e["Result " + A4e.name]=0;}}};P4e.Studies.studyLibrary=P4e.extend(P4e.Studies.studyLibrary,{Choppiness:{name:N64P,calculateFN:P4e.Studies.calculateChoppiness,centerline:50,parameters:{init:{studyOverZonesEnabled:! !1,studyOverBoughtValue:61.8,studyOverBoughtColor:r64P,studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:"0.1"},studyOverSoldValue:{max:50,step:"0.1"}}}});}};r6M=l4e=>{var N4e,i94P,L94P,Y94P,R94P;N4e=typeof _CIQ !== "undefined"?_CIQ:l4e.CIQ;if(!N4e.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!N4e.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {i94P="S";i94P+="P";i94P+="Y";L94P="Be";L94P+="t";L94P+="a";Y94P="#";Y94P+="0";Y94P+="0";Y94P+="DD00";R94P="Performan";R94P+="ce I";R94P+="nde";R94P+="x";N4e.Studies.calculateCorrelationCoefficient=function(Z4e,e4e){var R9iE=G5XX;var a64P,S4e,E4e,Q4e,W4e,n4e,v4e,g4e,R4e,X4e,Y4e,x64P,g64P,v64P,n64P,A64P,J4e,j64P,b7e,k7e,F7e,V7e;a64P="Compare T";a64P+="o";S4e=e4e.chart.scrubbed;E4e=e4e.days;if(S4e.length < E4e + 1){e4e.error=! ![];return;}e4e.compare=e4e.inputs[a64P];if(!e4e.compare){e4e.compare=[];e4e.outputs={};e4e.outputMap={};for(var u7e in Z4e.chart.series){Q4e=Z4e.chart.series[u7e];if(Q4e.parameters.color){e4e.compare.push(Q4e.display);e4e.outputs["Result " + Q4e.display]=Q4e.parameters.color;R9iE.y0F7(6);var g9BP=R9iE.n0F7(407,12);e4e.outputMap["Result " + Q4e.display + (("681" & 2147483647) === (g9BP,"120" ^ 0)?431.62:" ") + e4e.name]="Result " + Q4e.display;}}}else {e4e.compare=[e4e.compare];}if(!e4e.compare.length){e4e.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var L4e=+"0";L4e < e4e.compare.length;L4e++){R9iE.R0F7(35);W4e=R9iE.n0F7("0",0);n4e=0;v4e=0;g4e=0;R4e=0;X4e=e4e.compare[L4e];Y4e=0;for(var H4e=e4e.startFrom - E4e;H4e < S4e.length;H4e++){x64P="_";x64P+="tem";x64P+="p";x64P+="s ";g64P="_t";g64P+="e";g64P+="m";g64P+="ps ";v64P="_tem";v64P+="ps ";n64P="o";n64P+="b";n64P+="j";n64P+="ect";A64P="ob";A64P+="j";A64P+="e";A64P+="ct";if(!S4e[H4e])continue;J4e=S4e[H4e][X4e];if(J4e && typeof J4e == A64P){J4e=J4e.Close;}if(!J4e && J4e !== 0){j64P="_t";j64P+="emps ";if(H4e > 0 && S4e[H4e - +"1"] && S4e[H4e - +"1"]["_temps " + e4e.name] && S4e[H4e - 1][j64P + e4e.name].c){J4e=S4e[H4e - 1]["_temps " + e4e.name].c;}else {R9iE.y0F7(6);J4e=R9iE.N0F7("0",0);}}if(J4e && typeof J4e == n64P){J4e=J4e.Close;}S4e[H4e]["_temps " + e4e.name]={};W4e+=S4e[H4e]["_temps " + e4e.name].b=S4e[H4e].Close;n4e+=S4e[H4e][v64P + e4e.name].c=J4e;v4e+=S4e[H4e][g64P + e4e.name].b2=Math.pow(S4e[H4e].Close,2);g4e+=S4e[H4e]["_temps " + e4e.name].c2=Math.pow(J4e,2);R4e+=S4e[H4e][x64P + e4e.name].bc=S4e[H4e].Close * J4e;if(Y4e >= E4e){W4e-=S4e[H4e - E4e]["_temps " + e4e.name].b;n4e-=S4e[H4e - E4e]["_temps " + e4e.name].c;v4e-=S4e[H4e - E4e]["_temps " + e4e.name].b2;g4e-=S4e[H4e - E4e]["_temps " + e4e.name].c2;R4e-=S4e[H4e - E4e]["_temps " + e4e.name].bc;R9iE.R0F7(4);var x9BP=R9iE.N0F7(6,4,8);b7e=v4e / E4e - Math.pow(W4e / E4e,x9BP);R9iE.y0F7(115);var M9BP=R9iE.n0F7(19,14,3);k7e=g4e / E4e - Math.pow(n4e / E4e,M9BP);R9iE.y0F7(2);var S9BP=R9iE.N0F7(2,0);F7e=R4e / E4e - W4e * n4e / Math.pow(E4e,S9BP);V7e=F7e / Math.sqrt(b7e * k7e);S4e[H4e]["Result " + X4e + " " + e4e.name]=V7e;}Y4e++;}}};N4e.Studies.calculatePerformance=function(T7e,x7e){var J64P,S64P,M64P,t7e,c7e,X64P,r7e;J64P="_";J64P+="MA C";J64P+="o";J64P+="mp";S64P="_MA";S64P+=" Ba";S64P+="se";M64P="C";M64P+="l";M64P+="o";M64P+="se";t7e=x7e.chart.scrubbed;c7e=x7e.inputs["Comparison Symbol"].toUpperCase();if(!c7e){c7e=x7e.study.inputs["Comparison Symbol"];}if(!x7e.days){x7e.days=x7e.study.inputs.Period;}if(t7e.length < x7e.days + 1){x7e.error=! ![];return;}N4e.Studies.MA("ma",x7e.days,M64P,0,S64P,T7e,x7e);N4e.Studies.MA("ma",x7e.days,c7e,0,J64P,T7e,x7e);for(var h7e=x7e.startFrom;h7e < t7e.length;h7e++){X64P="_MA ";X64P+="Ba";X64P+="se";X64P+=" ";r7e=t7e[h7e][c7e];if(r7e && (r7e.Close || r7e.Close === 0)){r7e=r7e.Close;}t7e[h7e]["Result " + x7e.name]=t7e[h7e].Close / r7e * (t7e[h7e]["_MA Comp " + x7e.name] / t7e[h7e][X64P + x7e.name]);}};N4e.Studies.calculateBeta=function(I7e,U7e){var o9iE=G5XX;var y64P,s64P,z64P,E64P,V64P,H64P,D64P,M7e,C7e,i7e,j7e,G64P,Z64P;y64P="_";y64P+="VA";y64P+="R";s64P="_VAR";s64P+="n ";z64P="_M";z64P+="A";z64P+=" Comp";E64P="_Co";E64P+="mpChange ";V64P="_BaseChan";V64P+="ge ";H64P="m";H64P+="a";D64P="Compari";D64P+="s";D64P+="on Symbol";M7e=U7e.chart.scrubbed;C7e=U7e.inputs["Comparison Symbol"].toUpperCase();if(!C7e){C7e=U7e.study.inputs[D64P];}if(!U7e.days){U7e.days=U7e.study.inputs.Period;}if(M7e.length < U7e.days + 1){U7e.error=! !{};return;}for(var p7e=Math.max(U7e.startFrom,1);p7e < M7e.length;p7e++){o9iE.y0F7(115);var J9BP=o9iE.N0F7(28,13,14);o9iE.R0F7(7);var X9BP=o9iE.n0F7(0,21,20);M7e[p7e]["_BaseChange " + U7e.name]=M7e[p7e].Close / M7e[p7e - J9BP].Close - X9BP;i7e=M7e[p7e][C7e];if(i7e && (i7e.Close || i7e.Close === 0)){i7e=i7e.Close;}o9iE.R0F7(6);j7e=M7e[o9iE.N0F7(p7e,1)][C7e];if(j7e && (j7e.Close || j7e.Close === +"0")){j7e=j7e.Close;}o9iE.R0F7(23);M7e[p7e]["_CompChange " + U7e.name]=o9iE.n0F7(j7e,i7e,1);}N4e.Studies.MA(H64P,U7e.days,V64P + U7e.name,"0" >> 2105984096,"_MA Base",I7e,U7e);N4e.Studies.MA("ma",U7e.days,E64P + U7e.name,0,z64P,I7e,U7e);for(p7e=Math.max(U7e.startFrom,U7e.days);p7e < M7e.length;p7e++){G64P="_";G64P+="MA Ba";G64P+="se";G64P+=" ";M7e[p7e]["_COVARn " + U7e.name]=(M7e[p7e]["_BaseChange " + U7e.name] - M7e[p7e][G64P + U7e.name]) * (M7e[p7e]["_CompChange " + U7e.name] - M7e[p7e]["_MA Comp " + U7e.name]);M7e[p7e]["_VARn " + U7e.name]=Math.pow(M7e[p7e]["_CompChange " + U7e.name] - M7e[p7e]["_MA Comp " + U7e.name],"2" * 1);}N4e.Studies.MA("ma",U7e.days,"_COVARn " + U7e.name,0,"_COVAR",I7e,U7e);N4e.Studies.MA("ma",U7e.days,s64P + U7e.name,0,y64P,I7e,U7e);for(p7e=Math.max(U7e.startFrom,U7e.days * 2 - 1);p7e < M7e.length;p7e++){Z64P="Res";Z64P+="ul";Z64P+="t";Z64P+=" ";M7e[p7e][Z64P + U7e.name]=M7e[p7e]["_COVAR " + U7e.name] / M7e[p7e]["_VAR " + U7e.name];}};N4e.Studies.studyLibrary=N4e.extend(N4e.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:"-1 to 1",calculateFN:N4e.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:R94P,centerline:"1" ^ 0,initializeFN:N4e.Studies.initPriceRelative,seriesFN:N4e.Studies.displayVsComparisonSymbol,calculateFN:N4e.Studies.calculatePerformance,inputs:{Period:"120" >> 1394213888,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:Y94P,Loss:"#FF0000"},deferUpdate:! !1},Beta:{name:L94P,centerline:1,initializeFN:N4e.Studies.initPriceRelative,seriesFN:N4e.Studies.displayVsComparisonSymbol,calculateFN:N4e.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":i94P},deferUpdate:! !1}});}};c6M=z7e=>{var s7e,q94P;s7e=typeof _CIQ !== "undefined"?_CIQ:z7e.CIQ;if(!s7e.Studies){console.error("coppock feature requires first activating studies feature.");}else {q94P="Coppock Cur";q94P+="ve";s7e.Studies.calculateCoppock=function(G7e,a7e){var Q9iE=G5XX;var K94P,t94P,P7e,w7e,y7e,q7e,K7e,B7e,d7e;K94P="_";K94P+="Sum";K94P+=" ";t94P="f";t94P+="ie";t94P+="l";t94P+="d";P7e=a7e.chart.scrubbed;w7e=a7e.inputs.Field;if(!w7e || w7e == t94P){w7e="Close";}y7e=parseInt(a7e.inputs["Long RoC"],"10" << 1041425056);if(!y7e){y7e=14;}q7e=parseInt(a7e.inputs["Short RoC"],10);if(!q7e){q7e=11;}K7e=a7e.days;if(!K7e){K7e=10;}if(y7e < q7e){return;}if(P7e.length < Math.max(q7e,y7e,K7e) + 1){a7e.error=!0;return;}for(var A7e=Math.max(a7e.startFrom,y7e);A7e < P7e.length;A7e++){Q9iE.R0F7(6);B7e=P7e[Q9iE.N0F7(A7e,q7e)][w7e];Q9iE.R0F7(6);d7e=P7e[Q9iE.n0F7(A7e,y7e)][w7e];if(B7e && d7e){Q9iE.R0F7(6);var D9BP=Q9iE.n0F7(900,800);Q9iE.R0F7(17);var H9BP=Q9iE.n0F7(1,10,5,5);P7e[A7e]["_Sum " + a7e.name]=D9BP * (P7e[A7e][w7e] / B7e + P7e[A7e][w7e] / d7e - H9BP);}}s7e.Studies.MA("weighted",K7e,K94P + a7e.name,0,"Result",G7e,a7e);};s7e.Studies.studyLibrary=s7e.extend(s7e.Studies.studyLibrary,{Coppock:{name:q94P,calculateFN:s7e.Studies.calculateCoppock,inputs:{Period:"10" - 0,Field:"field","Short RoC":11,"Long RoC":14}}});}};T6M=o7e=>{var O7e,d94P;O7e=typeof _CIQ !== "undefined"?_CIQ:o7e.CIQ;G5XX.m2iE();if(!O7e.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {d94P="a";d94P+="u";d94P+="t";d94P+="o";O7e.Studies.calculateDarvas=function(Z7e,S7e){var k9iE=G5XX;var b94P,D7e,H7e,g7e,X7e,J7e,N7e,e7e,W7e,E7e,n7e,Q7e,m7e,l7e,L7e,m94P,f7e,T94P,e94P,P94P,I94P,f94P,c94P,k94P;b94P="Volume % ";b94P+="of Avg";D7e=S7e.chart.scrubbed;H7e=0;k9iE.m2iE();g7e=parseInt(S7e.inputs["ATH Lookback Period"],"10" - 0);if(S7e.inputs["Volume Spike"]){O7e.Studies.MA("simple",g7e,"Volume",0,"ADV",Z7e,S7e);}X7e=parseFloat(S7e.inputs[b94P]) / +"100";J7e="none";N7e={};e7e=null;W7e=null;E7e=null;n7e=parseFloat(S7e.inputs["Level Offset"]);Q7e=!{};if(Q7e){console.log("*****************");}l7e={};["Darvas","Ghost","Profit","Loss","ATH","ADV","Spike"].forEach(function(u1e){l7e[u1e]=u1e + " " + S7e.name;});for(m7e=S7e.startFrom - 1;m7e > 0;m7e--){L7e=D7e[m7e];if(L7e[l7e.Darvas] || L7e[l7e.Ghost]){for(var Y7e in l7e){L7e[Y7e]=null;}}else {H7e=L7e[l7e.ATH] || 0;W7e=L7e[l7e.Profit];E7e=L7e[l7e.Loss];break;}}for(m7e;m7e < D7e.length;m7e++){m94P="Pric";m94P+="e Mi";m94P+="nimum";f7e=D7e[m7e];if(!f7e)continue;if(parseFloat(S7e.inputs[m94P]) <= D7e[H7e].Close){T94P="Ex";T94P+="i";T94P+="t Fiel";T94P+="d";if(e7e && (!e7e.End || m7e == e7e.End + ("1" - 0))){if(D7e[m7e - 1].Close > N7e.High){N7e={State:1,High:2 * N7e.High - N7e.Low,Low:N7e.High,Start:m7e,End:2 * N7e.End - N7e.Start + 1};}else {e7e=null;;}if(e7e){f7e[l7e.Ghost]=O7e.clone(N7e);if(Q7e){console.log("Ghost begin:" + f7e.DT);}N7e.State=0;if(D7e[N7e.End]){D7e[N7e.End][l7e.Ghost]=O7e.clone(N7e);if(Q7e){console.log("Ghost end:" + D7e[N7e.End].DT);}}e7e={Start:N7e.Start,End:N7e.End};W7e=N7e.High + n7e;if(!E7e || E7e < N7e.Low - n7e){E7e=N7e.Low - n7e;}}}f7e[l7e.Profit]=W7e;f7e[l7e.Loss]=E7e;if(f7e.Close >= W7e){W7e=null;}else if(S7e.inputs[T94P] == "high/low" && f7e.High >= W7e){W7e=null;}if(J7e == "none"){if(m7e == H7e + 3){if(!D7e[H7e + 2][l7e.Darvas] && !D7e[H7e + ("1" - 0)][l7e.Darvas] && !D7e[H7e][l7e.Darvas] && D7e[H7e].High > f7e.High){e94P="h";e94P+="i";e94P+="g";e94P+="h";J7e=e94P;;}}}if(J7e == "high"){if(f7e.High > D7e[H7e].High){J7e="none";}else if(D7e[m7e - 3].Low < D7e[m7e - 2].Low && D7e[m7e - 3].Low < D7e[m7e - 1].Low && D7e[m7e - 3].Low < f7e.Low){P94P="Dar";P94P+="vas begin";P94P+=":";N7e={State:1,High:D7e[H7e].High,Low:D7e[m7e - +"3"].Low,Start:H7e};D7e[H7e][l7e.Darvas]=O7e.clone(N7e);J7e="darvas";if(Q7e){console.log(P94P + D7e[H7e].DT);}if(Q7e){console.log("Darvas established:" + f7e.DT);}if(e7e){if(e7e.End > m7e && D7e[e7e.Start]){f7e[l7e.Ghost]=O7e.clone(D7e[e7e.Start][l7e.Ghost]);f7e[l7e.Ghost].End=m7e;if(D7e[e7e.End]){delete D7e[e7e.End][l7e.Ghost];if(Q7e){console.log("Ghost End removed:" + D7e[e7e.End].DT);}}}k9iE.R0F7(22);f7e[l7e.Ghost].State=k9iE.n0F7(1,"0");D7e[e7e.Start][l7e.Ghost].End=m7e;if(Q7e){console.log("Ghost end:" + f7e.DT);}e7e=null;}W7e=N7e.High + n7e;if(!E7e || E7e < N7e.Low - n7e){E7e=N7e.Low - n7e;}}}if(J7e == "darvas"){I94P="Ghos";I94P+="t ";I94P+="Boxes";f94P="Exit ";f94P+="F";f94P+="ie";f94P+="ld";c94P="no";c94P+="n";c94P+="e";if(f7e.Close > N7e.High){e7e={};}else if(S7e.inputs["Exit Field"] == "high/low" && f7e.High > N7e.High){e7e={};}else if(f7e.Close < N7e.Low){J7e=c94P;}else if(S7e.inputs[f94P] == "high/low" && f7e.Low < N7e.Low){J7e="none";}if(e7e){J7e="none";}else if(J7e == "none"){W7e=null;E7e=null;}if(!S7e.inputs[I94P]){e7e=null;}if(J7e == "none"){k94P="Darva";k94P+="s end:";for(var R7e=N7e.Start + 1;R7e < m7e;R7e++){D7e[R7e][l7e.Darvas]=O7e.clone(N7e);}N7e.State=0;N7e.End=m7e;f7e[l7e.Darvas]=O7e.clone(N7e);if(Q7e){console.log(k94P + f7e.DT);}f7e[l7e.ATH]=H7e;continue;}}if(E7e){if(f7e.Close < N7e.Low || S7e.inputs["Exit Field"] == "high/low" && f7e.Low < N7e.Low){if(J7e == "darvas"){J7e="none";}if(f7e.Close < E7e || S7e.inputs["Exit Field"] == "high/low" && f7e.Low < E7e){W7e=null;E7e=null;}if(e7e){if(e7e.End > m7e && D7e[e7e.Start]){f7e[l7e.Ghost]=O7e.clone(D7e[e7e.Start][l7e.Ghost]);f7e[l7e.Ghost].End=m7e;if(D7e[e7e.End]){delete D7e[e7e.End][l7e.Ghost];if(Q7e){console.log("Ghost End removed:" + D7e[e7e.End].DT);}}}f7e[l7e.Ghost].State=+"0";D7e[e7e.Start][l7e.Ghost].End=m7e;if(Q7e){console.log("Ghost end:" + f7e.DT);}e7e=null;}}}}if(f7e.High >= D7e[H7e].High){H7e=m7e;if(Q7e){console.log("All Time High:" + f7e.DT);}}if(m7e < 3 || f7e.High >= D7e[m7e - 1].High && f7e.High >= D7e[m7e - 2].High && f7e.High >= D7e[m7e - 3].High){if(m7e - H7e >= g7e){H7e=m7e;for(var v7e=0;v7e < g7e;v7e++){if(m7e - v7e < 0)break;if(D7e[m7e - v7e].High > D7e[H7e].High){k9iE.y0F7(6);H7e=k9iE.n0F7(m7e,v7e);}}if(Q7e){console.log("All Time High:" + f7e.DT);}}}if(S7e.inputs["Volume Spike"] && m7e > g7e && m7e == H7e){if(f7e[l7e.ADV] * X7e < f7e.Volume){f7e[l7e.Spike]=1;if(Q7e){console.log("Volume Spike:" + f7e.DT);}}}f7e[l7e.ATH]=H7e;}};O7e.Studies.displayDarvas=function(k1e,x1e,h1e){var r9iE=G5XX;var p94P,F94P,z1e,U1e,j1e,t1e,b1e,F1e,V1e,q1e,p1e,r1e,C94P,h94P,A1e,K1e,G1e,B1e,c1e,T1e,M1e,a1e,i1e,s1e,C1e,w1e,I1e,P1e,O1e,y1e,Q94P,o1e,W94P,O94P,l94P,B94P,d1e;r9iE.g2iE();p94P="Sto";p94P+="p Le";p94P+="vels";F94P="a";F94P+="u";F94P+="t";F94P+="o";z1e=O7e.Studies.determineColor(x1e.outputs.Levels);if(!z1e || z1e == "auto" || O7e.isTransparent(z1e)){z1e=k1e.defaultColor;}U1e=O7e.Studies.determineColor(x1e.outputs.Darvas);if(!U1e || U1e == F94P || O7e.isTransparent(U1e)){U1e=k1e.defaultColor;}j1e=O7e.Studies.determineColor(x1e.outputs.Ghost);if(!j1e || j1e == "auto" || O7e.isTransparent(j1e)){j1e=k1e.defaultColor;}t1e=k1e.panels[x1e.panel];b1e=x1e.getContext(k1e);r9iE.y0F7(56);var V9BP=r9iE.n0F7(97,9,0,11);r1e=k1e.layout.candleWidth - V9BP;if(r1e < 2){r1e=1;}k1e.startClip(x1e.panel);if(x1e.inputs[p94P]){if(b1e.setLineDash){b1e.setLineDash([2,2]);}b1e.lineWidth=2;b1e.strokeStyle=z1e;b1e.beginPath();for(F1e=0;F1e < h1e.length;F1e++){C94P="L";C94P+="os";C94P+="s ";h94P="L";h94P+="o";h94P+="s";h94P+="s ";V1e=h1e[F1e];r9iE.y0F7(6);A1e=h1e[r9iE.N0F7(F1e,1)];if(!V1e)continue;p1e=V1e["Loss " + x1e.name]?Math.floor(k1e.pixelFromPrice(V1e["Loss " + x1e.name],t1e)):null;K1e=A1e && A1e[h94P + x1e.name]?Math.floor(k1e.pixelFromPrice(A1e[C94P + x1e.name],t1e)):null;if(p1e){if(V1e.candleWidth){r1e=Math.floor(Math.max("1" << 635807264,V1e.candleWidth));}G1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) + r1e / 2);B1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) - r1e / 2);if(K1e && K1e >= p1e){b1e.lineTo(B1e,p1e);}else if(F1e === 0){b1e.moveTo(k1e.chart.left,p1e);}else {b1e.moveTo(B1e,p1e);}b1e.lineTo(G1e,p1e);}}b1e.stroke();if(b1e.setLineDash){b1e.setLineDash([]);}b1e.lineWidth=1;}c1e=-10;r9iE.R0F7(38);M1e=r9iE.n0F7("0",2147483647);i1e=-10;C1e=0;I1e=! !"";P1e=! !"";r9iE.y0F7(59);var E9BP=r9iE.N0F7(10,21,208);O1e=b1e.measureText("\u25B2").width / E9BP;y1e=0;for(F1e=0;F1e < h1e.length;F1e++){Q94P="G";Q94P+="ho";Q94P+="s";Q94P+="t ";if(!h1e[F1e])continue;if(h1e[F1e].Close || h1e[F1e].Close === 0){y1e=F1e;}if(h1e[F1e]["Spike " + x1e.name]){b1e.fillStyle=U1e;b1e.textBaseline="bottom";o1e=k1e.pixelFromPrice(h1e[F1e].High,k1e.chart.panel);b1e.fillText(671.41 != 930?"\u25BC":(7.82e+3,!1),k1e.pixelFromBar(F1e) - O1e,o1e - ("5" >> 1953909248));;}if(h1e[F1e].candleWidth){r1e=Math.floor(Math.max(1,h1e[F1e].candleWidth));}if(h1e[F1e]["Darvas " + x1e.name]){W94P="Darva";W94P+="s ";V1e=h1e[F1e][W94P + x1e.name];if(V1e.State == "1" - 0 && !I1e){c1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) - r1e / 2);T1e=Math.floor(k1e.pixelFromPrice(V1e.High,t1e));a1e=Math.floor(k1e.pixelFromPrice(V1e.Low,t1e)) - T1e;I1e=!0;}else if(V1e.State === 0){O94P="Sto";O94P+="p Leve";O94P+="ls";M1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) + r1e / +"2") - c1e;T1e=Math.floor(k1e.pixelFromPrice(V1e.High,t1e));a1e=Math.floor(k1e.pixelFromPrice(V1e.Low,t1e)) - T1e;b1e.strokeStyle=U1e;b1e.fillStyle=U1e;if(!x1e.inputs[O94P]){b1e.strokeRect(c1e,T1e,M1e,a1e);b1e.globalAlpha=0.2;}else {b1e.globalAlpha=0.3;}b1e.fillRect(c1e,T1e,M1e,a1e);b1e.globalAlpha=1;I1e=!"1";}}if(h1e[F1e][Q94P + x1e.name] && x1e.inputs["Ghost Boxes"]){V1e=h1e[F1e]["Ghost " + x1e.name];if(V1e.State == 1 && !P1e){i1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) - r1e / 2);s1e=Math.floor(k1e.pixelFromPrice(V1e.High,t1e));C1e=Math.floor((V1e.End - V1e.Start + 1) * k1e.layout.candleWidth + r1e / 2);w1e=Math.floor(k1e.pixelFromPrice(V1e.Low,t1e)) - s1e;P1e=! ![];}else if(V1e.State === "0" * 1){if(V1e.Start == V1e.End){i1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) - r1e / 2);}r9iE.R0F7(64);var z9BP=r9iE.N0F7(18,20);C1e=Math.floor(k1e.pixelFromBar(F1e,t1e.chart) + r1e / z9BP) - i1e;s1e=Math.floor(k1e.pixelFromPrice(V1e.High,t1e));w1e=Math.floor(k1e.pixelFromPrice(V1e.Low,t1e)) - s1e;b1e.strokeStyle=j1e;b1e.fillStyle=j1e;if(!x1e.inputs["Stop Levels"]){b1e.strokeRect(i1e,s1e,C1e,w1e);b1e.globalAlpha=0.2;}else {b1e.globalAlpha=0.3;}b1e.fillRect(i1e,s1e,C1e,w1e);b1e.globalAlpha=1;P1e=! !"";}}}if(I1e){l94P="Sto";l94P+="p ";l94P+="Levels";r9iE.R0F7(6);var G9BP=r9iE.n0F7(18,16);M1e=Math.floor(k1e.pixelFromBar(y1e,t1e.chart) + r1e / G9BP) - c1e;b1e.strokeStyle=U1e;b1e.fillStyle=U1e;if(!x1e.inputs[l94P]){b1e.beginPath();r9iE.R0F7(19);b1e.moveTo(r9iE.N0F7(2,c1e,M1e),T1e);b1e.lineTo(c1e,T1e);r9iE.y0F7(2);b1e.lineTo(c1e,r9iE.N0F7(a1e,T1e));r9iE.y0F7(19);b1e.lineTo(r9iE.n0F7(2,c1e,M1e),r9iE.N0F7(a1e,T1e,r9iE.y0F7(2)));b1e.stroke();b1e.globalAlpha=0.2;}else {b1e.globalAlpha=0.3;}r9iE.y0F7(22);b1e.fillRect(c1e,T1e,r9iE.N0F7(M1e,2),a1e);b1e.globalAlpha=1;}if(P1e){b1e.strokeStyle=j1e;b1e.fillStyle=j1e;if(!x1e.inputs["Stop Levels"]){b1e.strokeRect(i1e,s1e,C1e,w1e);b1e.globalAlpha=0.2;}else {b1e.globalAlpha=0.3;}b1e.fillRect(i1e,s1e,C1e,w1e);b1e.globalAlpha=1;}if(I1e || P1e){B94P="Stop Level";B94P+="s";if(x1e.inputs[B94P]){if(b1e.setLineDash){r9iE.R0F7(40);b1e.setLineDash([2,r9iE.n0F7("2",0)]);}b1e.lineWidth=+"2";b1e.strokeStyle=z1e;d1e=Math.floor(k1e.pixelFromBar(y1e - 1,t1e.chart) + r1e / 2);if(q1e){b1e.beginPath();b1e.moveTo(d1e,q1e);b1e.lineTo(I1e?c1e + 2 * M1e:i1e + C1e,q1e);b1e.stroke();}if(p1e){b1e.beginPath();b1e.moveTo(d1e,p1e);b1e.lineTo(I1e?c1e + 2 * M1e:i1e + C1e,p1e);b1e.stroke();}if(b1e.setLineDash){b1e.setLineDash([]);}b1e.lineWidth=1;}I1e=![];P1e=![];}k1e.endClip();};O7e.Studies.studyLibrary=O7e.extend(O7e.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:!"",calculateFN:O7e.Studies.calculateDarvas,seriesFN:O7e.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! !1,"Stop Levels":! !"","Level Offset":0.01,"Price Minimum":5,"Volume Spike":![],"Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:"#699158",Levels:d94P},customRemoval:! ![],attributes:{"Price Minimum":{min:0.01,step:0.01},yaxisDisplayValue:{hidden:! ![]},panelName:{hidden:!""},flippedEnabled:{hidden:! ![]}}}});}};U6M=f1e=>{var D1e,o94P;D1e=typeof _CIQ !== "undefined"?_CIQ:f1e.CIQ;if(!D1e.Studies){console.error("detrended feature requires first activating studies feature.");}else {o94P="Detrended Price Oscillato";o94P+="r";D1e.Studies.calculateDetrendedPrice=function(E1e,m1e){var U94P,l1e,e1e,S1e,w94P,N1e,J1e;U94P="Moving Average Typ";U94P+="e";l1e=m1e.chart.scrubbed;if(l1e.length < m1e.days + +"1"){m1e.error=!"";return;}e1e=m1e.inputs.Field;if(!e1e || e1e == "field"){e1e="Close";}G5XX.g2iE();S1e=Math.floor(m1e.days / 2 + 1);D1e.Studies.MA(m1e.inputs[U94P],m1e.days,e1e,-S1e,"MA",E1e,m1e);for(var H1e=Math.max(m1e.days - S1e - 1,m1e.startFrom - S1e);H1e < l1e.length - S1e;H1e++){w94P="M";w94P+="A";w94P+=" ";N1e=l1e[H1e][e1e];if(N1e && typeof N1e == "object"){N1e=N1e[m1e.subField];}J1e=l1e[H1e][w94P + m1e.name];if((N1e || N1e === 0) && (J1e || J1e === 0)){G5XX.R0F7(6);l1e[H1e]["Result " + m1e.name]=G5XX.N0F7(N1e,J1e);}}};D1e.Studies.studyLibrary=D1e.extend(D1e.Studies.studyLibrary,{Detrended:{name:o94P,calculateFN:D1e.Studies.calculateDetrendedPrice,inputs:{Period:"14" ^ 0,Field:"field","Moving Average Type":"ma"}}});}};p6M=W1e=>{var u94P,Q1e;u94P="un";u94P+="de";u94P+="fined";Q1e=typeof _CIQ !== u94P?_CIQ:W1e.CIQ;if(!Q1e.Studies){console.error("disparity feature requires first activating studies feature.");}else {Q1e.Studies.calculateDisparity=function(X1e,n1e){var a94P,r94P,N94P,L1e,g1e,A94P,R1e;a94P="_";a94P+="M";a94P+="A";r94P="Mo";r94P+="ving Average T";r94P+="y";r94P+="pe";N94P="fi";N94P+="e";N94P+="ld";L1e=n1e.chart.scrubbed;if(L1e.length < n1e.days + 1){n1e.error=!0;return;}g1e=n1e.inputs.Field;if(!g1e || g1e == N94P){g1e="Close";}Q1e.Studies.MA(n1e.inputs[r94P],n1e.days,g1e,0,a94P,X1e,n1e);for(var v1e=Math.max(n1e.startFrom,n1e.days - 1);v1e < L1e.length;v1e++){A94P="Resul";A94P+="t ";if(!L1e[v1e])continue;R1e=L1e[v1e]["_MA " + n1e.name];if(R1e){G5XX.y0F7(6);var s9BP=G5XX.N0F7(400,300);G5XX.R0F7(2);var y9BP=G5XX.N0F7(1,0);L1e[v1e][A94P + n1e.name]=s9BP * (L1e[v1e][g1e] / R1e - y9BP);}}};Q1e.Studies.studyLibrary=Q1e.extend(Q1e.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:Q1e.Studies.calculateDisparity,inputs:{Period:+"14",Field:"field","Moving Average Type":"ma"}}});}};M6M=Z1e=>{var Y1e;Y1e=typeof _CIQ !== "undefined"?_CIQ:Z1e.CIQ;if(!Y1e.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {Y1e.Studies.calculateEaseOfMovement=function(r5e,k5e){var K9iE=G5XX;var g94P,v94P,u5e,n94P,j94P,V5e,x5e,t5e,h5e,F5e;g94P="Re";g94P+="su";g94P+="lt";v94P="_E";v94P+="O";v94P+="M1 ";u5e=k5e.chart.scrubbed;if(u5e.length < k5e.days){k5e.error=!0;return;}for(var b5e=Math.max(1,k5e.startFrom);b5e < u5e.length;b5e++){n94P="_E";n94P+="OM";n94P+="1";n94P+=" ";j94P="_E";j94P+="OM1 ";V5e=(u5e[b5e].High + u5e[b5e].Low) / +"2";K9iE.R0F7(2);var Z9BP=K9iE.n0F7(1,0);K9iE.R0F7(116);var R3BP=K9iE.n0F7(16,10,3,1);K9iE.R0F7(117);var Y3BP=K9iE.n0F7(0,2,2,3,9);x5e=(u5e[b5e - Z9BP].High + u5e[b5e - R3BP].Low) / Y3BP;K9iE.R0F7(6);t5e=K9iE.n0F7(V5e,x5e);K9iE.R0F7(118);var L3BP=K9iE.n0F7(19,14,15,398900055860,100000014);h5e=u5e[b5e].Volume / L3BP / (u5e[b5e].High - u5e[b5e].Low);K9iE.R0F7(10);F5e=K9iE.N0F7(t5e,h5e);if(!isFinite(F5e)){u5e[b5e][j94P + k5e.name]=NaN;}else {u5e[b5e][n94P + k5e.name]=F5e;}}Y1e.Studies.MA(k5e.inputs["Moving Average Type"],k5e.days,v94P + k5e.name,+"0",g94P,r5e,k5e);};Y1e.Studies.studyLibrary=Y1e.extend(Y1e.Studies.studyLibrary,{EOM:{name:"Ease of Movement",calculateFN:Y1e.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};i6M=T5e=>{var c5e,x94P,S94P;c5e=typeof _CIQ !== "undefined"?_CIQ:T5e.CIQ;if(!c5e.Studies){x94P="ehlerFisher feature ";x94P+="require";x94P+="s first activati";x94P+="ng studies feature.";console.error(x94P);}else {S94P="#F";S94P+="F0000";c5e.Studies.calculateEhlerFisher=function(z5e,U5e){var L9iE=G5XX;var M5e,p5e,j5e,M94P,C5e,I5e;M5e=U5e.chart.scrubbed;if(M5e.length < U5e.days + ("1" << 657329888)){U5e.error=! !{};return;}p5e=0;function s5e(q5e,y5e){L9iE.m2iE();var P5e,w5e,A5e;P5e=Number.MAX_VALUE;L9iE.R0F7(115);var i3BP=L9iE.n0F7(24,13,12);w5e=Number.MAX_VALUE * i3BP;for(var a5e=y5e - q5e + 1;a5e <= y5e;a5e++){L9iE.y0F7(119);var t3BP=L9iE.n0F7(17,16,17,34,17);A5e=(M5e[a5e].High + M5e[a5e].Low) / t3BP;P5e=Math.min(P5e,A5e);w5e=Math.max(w5e,A5e);}return [P5e,w5e];}if(U5e.startFrom > +"1"){L9iE.y0F7(120);var K3BP=L9iE.n0F7(11,15,2,33,5);p5e=M5e[U5e.startFrom - K3BP]["_n " + U5e.name];}for(var i5e=U5e.startFrom;i5e < M5e.length;i5e++){j5e=M5e[i5e];if(j5e.futureTick)break;if(i5e < U5e.days - 1){M94P="EF ";M94P+="Trigge";M94P+="r ";j5e["EF " + U5e.name]=j5e[M94P + U5e.name]=p5e;continue;}C5e=s5e(U5e.days,i5e);L9iE.R0F7(18);var q3BP=L9iE.n0F7(14,7,1,22);L9iE.y0F7(7);var b3BP=L9iE.N0F7(0,18,17);p5e=0.33 * q3BP * (((M5e[i5e].High + M5e[i5e].Low) / +"2" - C5e[0]) / Math.max(0.000001,C5e[b3BP] - C5e[0]) - ("0.5" - 0)) + 0.67 * p5e;if(p5e > 0){p5e=Math.min(p5e,+"0.9999");}else if(p5e < ("0" & 2147483647)){p5e=Math.max(p5e,-0.9999);}I5e=i5e?M5e[i5e - 1]["EF " + U5e.name]:"0" * 1;L9iE.R0F7(6);var m3BP=L9iE.N0F7(21,20);L9iE.y0F7(121);var T3BP=L9iE.n0F7(6,72,7,6,12);j5e["EF " + U5e.name]=0.5 * Math.log((m3BP + p5e) / (T3BP - p5e)) + +"0.5" * I5e;j5e["EF Trigger " + U5e.name]=I5e;j5e["_n " + U5e.name]=p5e;}};c5e.Studies.studyLibrary=c5e.extend(c5e.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:c5e.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":S94P}}});}};j6M=B5e=>{var i2iE=G5XX;var J94P,K5e,B90P,d90P,U90P,K34P,t34P;J94P="undefi";J94P+="n";J94P+="ed";i2iE.g2iE();K5e=typeof _CIQ !== J94P?_CIQ:B5e.CIQ;if(!K5e.Studies){B90P=-139120827;i2iE.R0F7(40);d90P=-i2iE.N0F7("1200000268",0);U90P=2;for(var o90P=1;i2iE.C60P(o90P.toString(),o90P.toString().length,76427) !== B90P;o90P++){console.error("");U90P+=2;}if(i2iE.W60P(U90P.toString(),U90P.toString().length,14395) !== d90P){console.error("elder feature requires first activating studies feature.");}}else {K34P="#8B";K34P+="C";K34P+="176";t34P="El";t34P+="der Ray Inde";t34P+="x";K5e.Studies.calculateElderImpulse=function(f5e,d5e){var O5e,m5e,N5e,D5e,o5e,H94P,D94P,X94P;O5e=d5e.chart.scrubbed;m5e=d5e.outputs.Bullish;N5e=d5e.outputs.Bearish;D5e=d5e.outputs.Neutral;K5e.Studies.MA("exponential",13,"Close",0,"_MA",f5e,d5e);i2iE.R0F7(2);i2iE.g2iE();var e3BP=i2iE.n0F7(6,847);i2iE.y0F7(121);var P3BP=i2iE.n0F7(3456950,6,13,16,99960);d5e.macd=new K5e.Studies.StudyDescriptor(((+"2148",e3BP) <= P3BP?"_":"7.51e+3" ^ 0) + d5e.name,"macd",d5e.panel);d5e.macd.chart=d5e.chart;d5e.macd.days=d5e.days;d5e.macd.startFrom=d5e.startFrom;d5e.macd.inputs={"Fast MA Period":12,"Slow MA Period":+"26","Signal Period":9};d5e.macd.outputs={_MACD:null,_Signal:null};K5e.Studies.calculateMACD(f5e,d5e.macd);for(var G5e=d5e.startFrom;G5e < O5e.length;G5e++){H94P="R";H94P+="esult ";D94P="_";D94P+="M";D94P+="A";D94P+=" ";X94P="_his";X94P+="t";if(G5e === "0" - 0){o5e=D5e;}else if(O5e[G5e]["_MA " + d5e.name] > O5e[G5e - 1]["_MA " + d5e.name] && O5e[G5e][((9756,112) === 3506?6.46e+3:"_") + d5e.name + "_hist"] > O5e[G5e - 1]["_" + d5e.name + X94P]){o5e=m5e;}else if(O5e[G5e][D94P + d5e.name] < O5e[G5e - +"1"]["_MA " + d5e.name] && O5e[G5e][(3640 > ("868" * 1,657.95)?700.49 >= 5700?("e",0x845):"_":157.42) + d5e.name + "_hist"] < O5e[G5e - 1]["_" + d5e.name + "_hist"]){o5e=N5e;}else {o5e=D5e;}O5e[G5e][H94P + d5e.name]=o5e;;}};K5e.Studies.calculateElderRay=function(S5e,l5e){i2iE.g2iE();var V94P,e5e,G94P,z94P,E94P;V94P="expon";V94P+="ential";e5e=l5e.chart.scrubbed;if(e5e.length < l5e.days){l5e.error=!"";return;}K5e.Studies.MA(V94P,l5e.days,"Close",0,"_EMA",S5e,l5e);for(var H5e=Math.max(l5e.startFrom,l5e.days - ("1" >> 1267494208));H5e < e5e.length;H5e++){G94P="_EM";G94P+="A ";z94P="_";z94P+="h";z94P+="ist2";E94P="_";E94P+="E";E94P+="MA";E94P+=" ";e5e[H5e][l5e.name + "_hist1"]=e5e[H5e].High - e5e[H5e][E94P + l5e.name];e5e[H5e][l5e.name + z94P]=e5e[H5e].Low - e5e[H5e][G94P + l5e.name];}l5e.outputMap={};l5e.outputMap[l5e.name + "_hist1"]="";l5e.outputMap[l5e.name + "_hist2"]="";};K5e.Studies.calculateElderForce=function(W5e,J5e){var y94P,E5e,s94P;y94P="_E";y94P+="F";y94P+="1";y94P+=" ";E5e=J5e.chart.scrubbed;if(E5e.length < J5e.days){J5e.error=! !"1";return;}for(var Q5e=Math.max(1,J5e.startFrom);Q5e < E5e.length;Q5e++){s94P="_EF";s94P+="1 ";i2iE.R0F7(122);var c3BP=i2iE.n0F7(13,19,19,13,168);E5e[Q5e][s94P + J5e.name]=E5e[Q5e].Volume * (E5e[Q5e].Close - E5e[Q5e - c3BP].Close);}K5e.Studies.MA("exponential",J5e.days,y94P + J5e.name,0,"Result",W5e,J5e);};K5e.Studies.initElderImpulse=function(L5e,g5e,R5e,X5e,v5e,Y5e){var n5e;n5e=K5e.Studies.initializeFN(L5e,g5e,R5e,X5e,v5e,Y5e);if(v5e.calculateOnly){return n5e;}L5e.chart.customChart={chartType:"colored_bar",colorFunction:function(b0e,u0e,k0e){var Z94P,Z5e;Z94P="Re";Z94P+="su";i2iE.g2iE();Z94P+="lt ";Z5e=u0e[Z94P + n5e.name];if(Z5e && typeof Z5e == "object"){Z5e=Z5e.color;}return Z5e;}};i2iE.g2iE();L5e.setMainSeriesRenderer();return n5e;};K5e.Studies.displayElderForce=function(V0e,F0e,c0e){var t0e,h0e,r0e,x0e;K5e.Studies.displaySeriesAsLine(V0e,F0e,c0e);t0e=K5e.Studies.determineColor(F0e.outputs.Result);h0e=V0e.panels[F0e.panel];r0e=F0e.getYAxis(V0e);x0e={skipTransform:h0e.name != F0e.chart.name,panelName:F0e.panel,band:"Result " + F0e.name,threshold:+"0",color:t0e,yAxis:r0e};if(!F0e.highlight && V0e.highlightedDraggable){x0e.opacity=0.3;}x0e.direction=1;K5e.preparePeakValleyFill(V0e,x0e);x0e.direction=-1;K5e.preparePeakValleyFill(V0e,x0e);};K5e.Studies.displayElderRay=function(U0e,T0e,a0e){var C0e,i0e,s0e,z0e,j0e,P0e,i34P,L34P,Y34P,R34P,p0e;C0e=U0e.panels[T0e.panel];i0e=T0e.getContext(U0e);s0e=T0e.getYAxis(U0e);z0e=U0e.pixelFromPrice(0,C0e,s0e);i2iE.R0F7(94);var f3BP=i2iE.N0F7(2,8,18,9,9);j0e=U0e.layout.candleWidth - f3BP;if(j0e < 2){j0e=1;}U0e.canvasColor("stx_histogram");i2iE.m2iE();P0e=i0e.fillStyle;if(!T0e.underlay){i0e.globalAlpha=1;}U0e.startClip(T0e.panel);if(!T0e.highlight && U0e.highlightedDraggable){i0e.globalAlpha*=0.3;}for(var M0e=0;M0e < a0e.length;M0e++){i34P="_h";i34P+="is";i34P+="t";i34P+="2";L34P="_h";L34P+="ist";L34P+="2";Y34P="Elde";Y34P+="r Bear Pow";Y34P+="er";R34P="_hi";R34P+="s";R34P+="t";R34P+="2";p0e=a0e[M0e];if(!p0e)continue;if(p0e.candleWidth){j0e=Math.floor(Math.max(1,p0e.candleWidth - +"2"));}if(p0e[T0e.name + "_hist1"] > 0){I0e(M0e,0,"Elder Bull Power","_hist1");}if(p0e[T0e.name + R34P] < 0){I0e(M0e,+"0",Y34P,"_hist2");}if(p0e[T0e.name + "_hist1"] < 0){I0e(M0e,0.1,"Elder Bull Power","_hist1");}if(p0e[T0e.name + L34P] > 0){I0e(M0e,0.1,"Elder Bear Power",i34P);}}U0e.endClip();function I0e(A0e,w0e,y0e,q0e){i0e.fillStyle=K5e.Studies.determineColor(T0e.outputs[y0e]);i0e.fillRect(Math.floor(U0e.pixelFromBar(A0e,C0e.chart) - j0e / 2 + j0e * w0e),Math.floor(z0e),Math.floor(j0e * (1 - 2 * w0e)),Math.floor(U0e.pixelFromPrice(p0e[T0e.name + q0e],C0e,s0e) - z0e));}i0e.fillStyle=P0e;};K5e.Studies.studyLibrary=K5e.extend(K5e.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:K5e.Studies.calculateElderForce,seriesFN:K5e.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:t34P,seriesFN:K5e.Studies.displayElderRay,calculateFN:K5e.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:K5e.Studies.calculateElderImpulse,initializeFN:K5e.Studies.initElderImpulse,seriesFN:null,customRemoval:! ![],underlay:!"",inputs:{},outputs:{Bullish:K34P,Bearish:"#DD3E39",Neutral:"#5F7CB8"},removeFN:function(K0e,B0e){i2iE.m2iE();K0e.chart.customChart=null;K0e.setMainSeriesRenderer();}}});}};C6M=G0e=>{var d0e,e34P,T34P,m34P,b34P;d0e=typeof _CIQ !== "undefined"?_CIQ:G0e.CIQ;G5XX.m2iE();if(!d0e.Studies){console.error("fractalChaos feature requires first activating studies feature.");}else {e34P="a";e34P+="u";e34P+="to";T34P="a";T34P+="u";T34P+="t";T34P+="o";m34P="-";m34P+="1";m34P+=" ";m34P+="to 1";b34P="Fractal Chaos Oscillato";b34P+="r";d0e.Studies.calculateFractalChaos=function(S0e,f0e){var J9iE=G5XX;var o0e,N0e,l0e,m0e,q34P,e0e,H0e,D0e;o0e=f0e.chart.scrubbed;N0e=0;l0e=0;m0e=0;if(f0e.startFrom && f0e.type == "Fractal Chaos Bands"){J9iE.R0F7(2);var I3BP=J9iE.N0F7(1,0);N0e=o0e[f0e.startFrom - I3BP]["Fractal High " + f0e.name];J9iE.R0F7(65);var k3BP=J9iE.n0F7(16,17,5,7);l0e=o0e[f0e.startFrom - k3BP]["Fractal Low " + f0e.name];}for(var O0e=Math.max(4,f0e.startFrom);O0e < o0e.length;O0e++){q34P="Frac";q34P+="tal Chaos Bands";if(o0e[O0e].futureTick)break;e0e=!isNaN(o0e[O0e].High);H0e=!isNaN(o0e[O0e].Low);if(e0e || H0e){o0e[O0e]["Result " + f0e.name]=0;}m0e=0;for(D0e=0;D0e <= O0e;D0e++){if(!o0e[O0e - D0e])break;if(o0e[O0e - D0e].High > o0e[O0e - ("2" & 2147483647)].High)break;if(D0e < 2 && o0e[O0e - D0e].High == o0e[O0e - 2].High)break;if(o0e[O0e - D0e].High < o0e[O0e - 2].High){m0e++;}if(m0e == 4){N0e=o0e[O0e - 2].High;break;}}if(f0e.type == "Fractal Chaos Bands"){if(e0e){o0e[O0e]["Fractal High " + f0e.name]=N0e > 0?N0e:null;}}else if(m0e == 4){J9iE.y0F7(0);o0e[O0e]["Result " + f0e.name]=J9iE.n0F7(1118359456,"1");}m0e=0;for(D0e=0;D0e <= O0e;D0e++){if(!o0e[O0e - D0e])break;if(o0e[O0e - D0e].Low < o0e[O0e - 2].Low)break;if(D0e < 2 && o0e[O0e - D0e].Low == o0e[O0e - 2].Low)break;if(o0e[O0e - D0e].Low > o0e[O0e - 2].Low){m0e++;}if(m0e == 4){l0e=o0e[O0e - +"2"].Low;break;}}if(f0e.type == q34P){if(H0e){o0e[O0e]["Fractal Low " + f0e.name]=l0e > 0?l0e:null;}}else if(m0e == 4){o0e[O0e]["Result " + f0e.name]=-1;}}};d0e.Studies.studyLibrary=d0e.extend(d0e.Studies.studyLibrary,{"Fractal Chaos":{name:b34P,range:m34P,calculateFN:d0e.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! ![],calculateFN:d0e.Studies.calculateFractalChaos,seriesFN:d0e.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Fractal High":T34P,"Fractal Low":e34P,"Fractal Channel":"auto"}}});}};I6M=E0e=>{G5XX.g2iE();var J0e,C34P,h34P,p34P;J0e=typeof _CIQ !== "undefined"?_CIQ:E0e.CIQ;if(!J0e.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {C34P="W";C34P+="il";C34P+="l";C34P+="iams %R";h34P="Highest High";h34P+=" Val";h34P+="ue";p34P="Do";p34P+="n";p34P+="chia";p34P+="n Channel";J0e.Studies.calculateMaxHighMinLow=function(Z0e,Q0e){var t9iE=G5XX;var P34P,W0e,Y0e,X0e,g0e,v0e,L0e,f34P,c34P,R0e,I34P,k34P,F34P;P34P="High";P34P+=" ";P34P+="Perio";P34P+="d";W0e=Q0e.chart.scrubbed;Y0e=Q0e.days;X0e=Q0e.days;if(Q0e.inputs[P34P]){Y0e=Q0e.inputs["High Period"];}if(Q0e.inputs["Low Period"]){X0e=Q0e.inputs["Low Period"];}if(W0e.length < Math.max(Y0e,X0e) + 1){Q0e.error=!0;return;}g0e=Number.MAX_VALUE;t9iE.g2iE();v0e=Number.MAX_VALUE * - +"1";if(Q0e.startFrom > 1){for(L0e=1;L0e < Y0e;L0e++){if(Q0e.startFrom - L0e >= 0){v0e=Math.max(v0e,W0e[Q0e.startFrom - L0e].High);}}for(L0e=1;L0e < X0e;L0e++){if(Q0e.startFrom - L0e >= 0){g0e=Math.min(g0e,W0e[Q0e.startFrom - L0e].Low);}}}for(var n0e=Math.max(0,Q0e.startFrom - ("1" - 0));n0e < W0e.length;n0e++){f34P="VT HZ Fil";f34P+="ter";c34P="G";c34P+="o";c34P+="pa";c34P+="la";v0e=Math.max(v0e,W0e[n0e].High);g0e=Math.min(g0e,W0e[n0e].Low);if(n0e >= Y0e){if(W0e[n0e - Y0e].High == v0e){v0e=W0e[n0e].High;for(L0e="1" & 2147483647;L0e < Y0e;L0e++){v0e=Math.max(v0e,W0e[n0e - L0e].High);}}}if(n0e >= X0e){if(W0e[n0e - X0e].Low == g0e){g0e=W0e[n0e].Low;for(L0e=1;L0e < X0e;L0e++){g0e=Math.min(g0e,W0e[n0e - L0e].Low);}}}R0e=0;if(Q0e.type == "HHV"){R0e=v0e;}else if(Q0e.type == "LLV"){R0e=g0e;}else if(Q0e.type == "Donchian Width"){t9iE.R0F7(6);R0e=t9iE.n0F7(v0e,g0e);}else if(Q0e.type == "GAPO" || Q0e.type == c34P){R0e=Math.log(v0e - g0e) / Math.log(X0e);}else if(Q0e.type == f34P){t9iE.y0F7(6);R0e=t9iE.n0F7(v0e,g0e);W0e[n0e]["_MHML " + Q0e.name]=R0e;continue;}else if(Q0e.type == "Williams %R"){t9iE.y0F7(123);var F3BP=t9iE.N0F7(8,92);R0e=F3BP * (v0e - W0e[n0e].Close) / (v0e - g0e);W0e[n0e]["Result " + Q0e.name]=R0e;continue;}if(n0e == W0e.length - 1)break;if(!W0e[n0e + 1].futureTick){I34P="Donc";I34P+="h";I34P+="ia";I34P+="n Channel";if(Q0e.type == I34P){k34P="Donc";k34P+="hian ";k34P+="Low ";t9iE.y0F7(2);W0e[t9iE.n0F7(1,n0e)]["Donchian High " + Q0e.name]=v0e;t9iE.y0F7(2);W0e[t9iE.n0F7(1,n0e)][k34P + Q0e.name]=g0e;t9iE.R0F7(2);W0e[t9iE.n0F7(1,n0e)]["Donchian Median " + Q0e.name]=t9iE.N0F7("2",v0e,g0e,t9iE.y0F7(124));}else {F34P="Res";F34P+="ult ";t9iE.y0F7(2);W0e[t9iE.N0F7(1,n0e)][F34P + Q0e.name]=R0e;}}}};J0e.Studies.calculateVerticalHorizontalFilter=function(t9e,u9e){var b9e,F9e,V9e,x9e;b9e=u9e.chart.scrubbed;if(b9e.length < u9e.days + 1){u9e.error=! ![];return;}u9e.mhml=new J0e.Studies.StudyDescriptor(u9e.name,u9e.type,u9e.panel);u9e.mhml.chart=u9e.chart;G5XX.m2iE();u9e.mhml.days=u9e.days;u9e.mhml.startFrom=u9e.startFrom;u9e.mhml.inputs={};u9e.mhml.outputs={_MHML:null};J0e.Studies.calculateMaxHighMinLow(t9e,u9e.mhml);F9e=0;V9e=[];for(var k9e=Math.max(1,u9e.startFrom - u9e.days);k9e < b9e.length;k9e++){x9e=Math.abs(b9e[k9e].Close - b9e[k9e - 1].Close);V9e.push(x9e);F9e+=x9e;if(V9e.length == u9e.days){b9e[k9e]["Result " + u9e.name]=b9e[k9e]["_MHML " + u9e.name] / F9e;F9e-=V9e.shift();}}};J0e.Studies.studyLibrary=J0e.extend(J0e.Studies.studyLibrary,{"Donchian Channel":{name:p34P,overlay:!"",calculateFN:J0e.Studies.calculateMaxHighMinLow,seriesFN:J0e.Studies.displayChannel,inputs:{"High Period":+"20","Low Period":20,"Channel Fill":! ![]},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:J0e.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:J0e.Studies.calculateMaxHighMinLow},HHV:{name:h34P,calculateFN:J0e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:J0e.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:C34P,calculateFN:J0e.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-80,studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:J0e.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:"High Minus Low",calculateFN:function(T9e,c9e){var r9e;G5XX.m2iE();r9e=c9e.chart.scrubbed;for(var h9e=c9e.startFrom;h9e < r9e.length;h9e++){r9e[h9e]["Result " + c9e.name]=r9e[h9e].High - r9e[h9e].Low;}},inputs:{}}});}};s6M=p9e=>{var U9e,u34P,o34P,w34P;G5XX.g2iE();U9e=typeof _CIQ !== "undefined"?_CIQ:p9e.CIQ;if(!U9e.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {u34P="#F";u34P+="F";u34P+="0";u34P+="000";o34P="#0";o34P+="00";o34P+="0FF";w34P="I";w34P+="chimoku Clouds";U9e.Studies.calculateIchimoku=function(A9e,i9e){var X9iE=G5XX;var O34P,W34P,j9e,C9e,M9e,I9e,Q34P,a9e,B34P,l34P,P9e,w9e,U34P,d34P,s9e;O34P="L";O34P+="agging Span Period";W34P="Leading Span B Peri";W34P+="o";W34P+="d";j9e=i9e.chart.scrubbed;C9e={Base:Number(i9e.inputs["Base Line Period"]),Conv:Number(i9e.inputs["Conversion Line Period"]),LeadB:Number(i9e.inputs[W34P]),Lag:Number(i9e.inputs[O34P])};for(M9e=i9e.startFrom;M9e < j9e.length;M9e++){Q34P="L";Q34P+="aggi";Q34P+="ng S";Q34P+="pan ";if(!j9e[M9e])continue;I9e=z9e(C9e.Conv,M9e);X9iE.R0F7(125);var p3BP=X9iE.N0F7(8,13,8,0,13);j9e[M9e]["Conversion Line " + i9e.name]=(I9e[p3BP] + I9e[0]) / +"2";I9e=z9e(C9e.Base,M9e);X9iE.R0F7(57);var h3BP=X9iE.n0F7(1,20,4,17);j9e[M9e]["Base Line " + i9e.name]=(I9e[h3BP] + I9e[0]) / ("2" | 0);if(M9e < C9e.Lag)continue;j9e[M9e - C9e.Lag][Q34P + i9e.name]=j9e[M9e].Close;}a9e=[];for(M9e=Math.max(+"0",i9e.startFrom - C9e.Base);M9e < j9e.length;M9e++){B34P="B";B34P+="a";B34P+="se Line ";l34P="Conve";l34P+="rsion Lin";l34P+="e ";I9e=z9e(C9e.LeadB,M9e);X9iE.y0F7(23);var C3BP=X9iE.n0F7(1,18,16);P9e=(j9e[M9e][l34P + i9e.name] + j9e[M9e][B34P + i9e.name]) / C3BP;X9iE.y0F7(32);var W3BP=X9iE.n0F7(16,15,4,34);w9e=(I9e[W3BP] + I9e[0]) / +"2";if(j9e[M9e + C9e.Base]){U34P="L";U34P+="eading Span ";U34P+="B ";d34P="Leading S";d34P+="pan A";d34P+=" ";j9e[M9e + C9e.Base][d34P + i9e.name]=P9e;j9e[M9e + C9e.Base][U34P + i9e.name]=w9e;}else {s9e={};s9e["Leading Span A " + i9e.name]=P9e;s9e["Leading Span B " + i9e.name]=w9e;a9e.push(s9e);}}function z9e(d9e,B9e){var q9e,K9e;q9e=Number.MAX_VALUE;X9iE.y0F7(6);var O3BP=X9iE.N0F7(10,11);K9e=Number.MAX_VALUE * O3BP;for(var y9e=B9e - d9e + 1;y9e <= B9e;y9e++){if(y9e < ("0" & 2147483647))continue;q9e=Math.min(q9e,j9e[y9e].Low);K9e=Math.max(K9e,j9e[y9e].High);}return [q9e,K9e];}i9e.appendFutureTicks(A9e,a9e);};U9e.Studies.displayIchimoku=function(O9e,G9e,H9e){var o9e,D9e,N9e,l9e,e9e,f9e,m9e;o9e="Leading Span A " + G9e.name;D9e="Leading Span B " + G9e.name;N9e=U9e.Studies.determineColor(G9e.outputs[G9e.outputMap[o9e]]);l9e=U9e.Studies.determineColor(G9e.outputs[G9e.outputMap[D9e]]);e9e=O9e.panels[G9e.panel];f9e=G9e.getYAxis(O9e);m9e={topBand:o9e,bottomBand:D9e,topColor:N9e,bottomColor:l9e,skipTransform:e9e.name != G9e.chart.name,topAxis:f9e,bottomAxis:f9e,opacity:+"0.3"};if(!G9e.highlight && O9e.highlightedDraggable){m9e.opacity*=0.3;}U9e.fillIntersecting(O9e,G9e.panel,m9e);G5XX.m2iE();U9e.Studies.displaySeriesAsLine(O9e,G9e,H9e);};U9e.Studies.studyLibrary=U9e.extend(U9e.Studies.studyLibrary,{"Ichimoku Clouds":{name:w34P,overlay:! !"1",calculateFN:U9e.Studies.calculateIchimoku,seriesFN:U9e.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":o34P,"Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":u34P,"Lagging Span":"#808000"}}});}};z6M=J9e=>{var S9e,N34P;S9e=typeof _CIQ !== "undefined"?_CIQ:J9e.CIQ;if(!S9e.Studies){N34P="intr";N34P+="adayMo";N34P+="mentum feature requires first activating studies feature.";console.error(N34P);}else {S9e.Studies.calculateIntradayMomentum=function(X9e,E9e){var v9iE=G5XX;var Q9e,v9e,n9e,L9e,r34P,A34P,a34P,g9e,R9e;Q9e=E9e.chart.scrubbed;v9e=E9e.days;if(Q9e.length < v9e + 1){E9e.error=! !1;return;}n9e=+"0";L9e=0;if(E9e.startFrom > 1){r34P="_to";r34P+="tUp ";v9iE.y0F7(7);var Q3BP=v9iE.N0F7(0,18,17);n9e=Q9e[E9e.startFrom - Q3BP][r34P + E9e.name];v9iE.y0F7(126);var l3BP=v9iE.n0F7(19,6,13,3,3);L9e=Q9e[E9e.startFrom - l3BP]["_totDn " + E9e.name];}for(var W9e=E9e.startFrom;W9e < Q9e.length;W9e++){A34P="_t";A34P+="otUp ";a34P="Re";a34P+="su";a34P+="lt ";g9e=Q9e[W9e].Close - Q9e[W9e].Open;if(g9e > "0" << 600140032){n9e+=g9e;}else {L9e-=g9e;}if(W9e >= v9e){R9e=Q9e[W9e - v9e].Close - Q9e[W9e - v9e].Open;if(R9e > 0){n9e-=R9e;}else {L9e+=R9e;}}v9iE.R0F7(127);Q9e[W9e][a34P + E9e.name]=v9iE.N0F7(n9e,"100",n9e,653082208,L9e);Q9e[W9e][A34P + E9e.name]=n9e;Q9e[W9e]["_totDn " + E9e.name]=L9e;}};S9e.Studies.studyLibrary=S9e.extend(S9e.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:S9e.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"70",studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};a6M=Z9e=>{G5XX.m2iE();var Y9e,v60P,g60P,x60P,g34P,v34P,M34P,x34P;Y9e=typeof _CIQ !== "undefined"?_CIQ:Z9e.CIQ;if(!Y9e.Studies){console.error("keltner feature requires first activating studies feature.");}else {Y9e.Studies.calculateKeltner=function(b3b,u3b){var n34P,j34P;G5XX.m2iE();n34P="ATR";n34P+=" ";j34P="Mo";j34P+="ving Average Type";Y9e.Studies.MA(u3b.inputs[j34P],u3b.days,"Close",+"0","MA",b3b,u3b);Y9e.Studies.calculateStudyATR(b3b,u3b);Y9e.Studies.calculateGenericEnvelope(b3b,u3b,u3b.inputs.Shift,"MA " + u3b.name,n34P + u3b.name);};v60P=1647177047;g60P=-788139006;x60P=2;for(var S60P=1;G5XX.W60P(S60P.toString(),S60P.toString().length,32836) !== v60P;S60P++){g34P="a";g34P+="uto";v34P="Kelt";v34P+="ner Cha";v34P+="nnel";Y9e.Studies.studyLibrary=Y9e.extend(Y9e.Studies.studyLibrary,{Keltner:{name:v34P,overlay:!0,seriesFN:Y9e.Studies.displayChannel,calculateFN:Y9e.Studies.calculateKeltner,inputs:{Period:50,Shift:"5" * 1,"Moving Average Type":"ema","Channel Fill":! ![]},outputs:{"Keltner Top":"auto","Keltner Median":g34P,"Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}}});x60P+=2;}if(G5XX.W60P(x60P.toString(),x60P.toString().length,40628) !== g60P){M34P="a";M34P+="u";M34P+="t";M34P+="o";x34P="C";x34P+="ha";x34P+="nnel F";x34P+="ill";Y9e.Studies.studyLibrary=Y9e.extend(Y9e.Studies.studyLibrary,{Keltner:{name:"Channel Fill",overlay:!1,seriesFN:Y9e.Studies.displayChannel,calculateFN:Y9e.Studies.calculateKeltner,inputs:{Period:10,Shift:4,"Moving Average Type":x34P,"Channel Fill":![]},outputs:{"Keltner Top":M34P,"Keltner Median":"Channel Fill","Keltner Bottom":"auto"},attributes:{Shift:{min:325,step:320}}}});}}};P6M=F3b=>{var k3b,S34P,V34P;G5XX.g2iE();k3b=typeof _CIQ !== "undefined"?_CIQ:F3b.CIQ;if(!k3b.Studies){S34P="klinger feature";S34P+=" ";S34P+="requires f";S34P+="irst activating studies feature.";console.error(S34P);}else {V34P="Klinger Volume O";V34P+="scill";V34P+="ator";k3b.Studies.calculateKlinger=function(U3b,x3b){var H34P,D34P,X34P,J34P,t3b,p3b,h3b,u90P,N90P,r90P,M3b,r3b,C3b,c3b,i3b,j3b,V3b,T3b;H34P="ex";H34P+="ponentia";H34P+="l";D34P="_";D34P+="EMA";D34P+="-S ";X34P="Kling";X34P+="er";X34P+="Signal ";J34P="Short ";J34P+="C";J34P+="yc";J34P+="le";t3b=x3b.chart.scrubbed;p3b=Number(x3b.inputs[J34P]);h3b=Number(x3b.inputs["Long Cycle"]);if(t3b.length < Math.max(p3b,h3b) + 1){u90P=-359730683;N90P=1349133464;r90P=2;for(var A90P=1;G5XX.C60P(A90P.toString(),A90P.toString().length,31409) !== u90P;A90P++){x3b.error=! !{};return;}if(G5XX.W60P(r90P.toString(),r90P.toString().length,1690) !== N90P){x3b.error=![];return;}}M3b=x3b.name + "_hist";r3b="Klinger " + x3b.name;C3b=X34P + x3b.name;c3b="_SV " + x3b.name;i3b=D34P + x3b.name;j3b="_EMA-L " + x3b.name;for(V3b=Math.max(1,x3b.startFrom);V3b < t3b.length;V3b++){T3b=t3b[V3b].Volume;if(t3b[V3b]["hlc/3"] < t3b[V3b - +"1"]["hlc/3"]){T3b*=-1;}if(T3b){t3b[V3b][c3b]=T3b;}}k3b.Studies.MA("exponential",p3b,c3b,0,"_EMA-S",U3b,x3b);k3b.Studies.MA("exponential",h3b,c3b,0,"_EMA-L",U3b,x3b);for(V3b=Math.max(h3b,x3b.startFrom);V3b < t3b.length;V3b++){if(t3b[V3b].futureTick || t3b[V3b][i3b] === null || t3b[V3b][j3b] === null)break;t3b[V3b][r3b]=t3b[V3b][i3b] - t3b[V3b][j3b];}k3b.Studies.MA(H34P,Number(x3b.inputs["Signal Periods"]),r3b,0,"KlingerSignal",U3b,x3b);for(V3b=x3b.startFrom;V3b < t3b.length;V3b++){t3b[V3b][M3b]=t3b[V3b][r3b] - t3b[V3b][C3b];}x3b.outputMap[M3b]="";};k3b.Studies.studyLibrary=k3b.extend(k3b.Studies.studyLibrary,{Klinger:{name:V34P,seriesFN:k3b.Studies.displayHistogramWithSeries,calculateFN:k3b.Studies.calculateKlinger,inputs:{"Signal Periods":"13" << 130225024,"Short Cycle":"34" ^ 0,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};w6M=s3b=>{var I3b,K74P,t74P,i74P,L74P,Y74P,R74P;I3b=typeof _CIQ !== "undefined"?_CIQ:s3b.CIQ;if(!I3b.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {K74P="a";K74P+="u";K74P+="t";K74P+="o";t74P="f";t74P+="ie";t74P+="l";t74P+="d";i74P="f";i74P+="ie";i74P+="l";i74P+="d";L74P="Line";L74P+="ar Reg R2";Y74P="f";Y74P+="ield";R74P="f";R74P+="ie";R74P+="l";R74P+="d";I3b.Studies.prettify["time series"]="tsma";I3b.Studies.movingAverage.conversions.tsma="time series";I3b.Studies.movingAverage.translations["time series"]="Time Series";I3b.Studies.movingAverage.typeMap.tsma="TimeSeries";I3b.Studies.movingAverage.typeMap["time series"]="TimeSeries";I3b.Studies.calculateMovingAverageTimeSeries=function(G3b,z3b){var g9iE=G5XX;var E34P,w3b,P3b,A3b,y3b,q3b,K3b,B3b,d3b;E34P="m";E34P+="a";z3b.ma=new I3b.Studies.StudyDescriptor(z3b.name,E34P,z3b.panel);z3b.ma.chart=z3b.chart;z3b.ma.days=z3b.days;z3b.ma.startFrom=z3b.startFrom;z3b.ma.inputs=z3b.inputs;I3b.Studies.calculateLinearRegressionIndicator(G3b,z3b.ma);w3b=z3b.name;for(var O3b in z3b.outputs){g9iE.R0F7(55);w3b=g9iE.N0F7("3600" >> 161716608 < 140.19?(445.71,811.21):8030 != (1150,9837)?" ":(6.63e+3,4.55e+3),w3b,O3b);}P3b=parseInt(z3b.inputs.Offset,10);if(isNaN(P3b)){P3b=0;}g9iE.g2iE();A3b=z3b.chart.scrubbed;y3b=P3b;for(var a3b=z3b.startFrom - 1;a3b >= 0;a3b--){q3b=A3b[a3b][w3b];if(!q3b && q3b !== "0" << 1483093440)continue;if(y3b > +"0"){y3b--;continue;}break;}K3b=[];for(a3b++;a3b < A3b.length;a3b++){B3b=A3b[a3b];if(a3b + P3b >= 0){if(a3b + P3b < A3b.length){g9iE.y0F7(2);A3b[g9iE.N0F7(P3b,a3b)][w3b]=B3b["Forecast " + z3b.name];}else {d3b={};d3b[w3b]=B3b["Forecast " + z3b.name];K3b.push(d3b);}}}z3b.appendFutureTicks(G3b,K3b);};I3b.Studies.calculateLinearRegressionIndicator=function(g3b,o3b){var s9iE=G5XX;var G34P,z34P,f3b,e3b,J3b,W3b,n3b,N3b,E3b,H3b,s34P,Q3b,Z34P,y34P,m3b,l3b,S3b,L3b,v3b;G34P="Cl";G34P+="o";G34P+="s";G34P+="e";z34P="f";z34P+="iel";z34P+="d";f3b=o3b.chart.scrubbed;if(f3b.length < o3b.days + 1){o3b.error=! ![];return;}e3b=o3b.inputs.Field;if(!e3b || e3b == z34P){e3b=G34P;}s9iE.y0F7(102);var B3BP=s9iE.N0F7(14,14,167,2);J3b=o3b.days * (o3b.days + B3BP) / +"2";W3b=Math.pow(J3b,2);s9iE.R0F7(128);var d3BP=s9iE.N0F7(3,9,4,2,3);s9iE.y0F7(65);var U3BP=s9iE.n0F7(6,13,7,15);s9iE.R0F7(6);var w3BP=s9iE.N0F7(33,30);n3b=J3b * (d3BP * o3b.days + U3BP) / w3BP;N3b=0;E3b=0;H3b=0;if(o3b.startFrom){s34P="_s";s34P+="u";s34P+="m";s34P+="s ";s9iE.R0F7(6);var o3BP=s9iE.N0F7(12,11);Q3b=f3b[o3b.startFrom - o3BP][s34P + o3b.name];if(Q3b){s9iE.y0F7(35);E3b=Q3b[s9iE.n0F7("0",0)];N3b=Q3b[1];H3b=Q3b[2];}}for(var D3b=o3b.startFrom;D3b < f3b.length;D3b++){Z34P="_s";Z34P+="u";Z34P+="m";Z34P+="s ";y34P="Inte";y34P+="rc";y34P+="e";y34P+="pt ";m3b=f3b[D3b][e3b];if(m3b && typeof m3b == "object"){m3b=m3b[o3b.subField];}if(!m3b && m3b !== 0)continue;E3b+=o3b.days * m3b - N3b;N3b+=m3b;H3b+=Math.pow(m3b,+"2");if(D3b < o3b.days - 1)continue;else if(D3b > o3b.days - 1){l3b=f3b[D3b - o3b.days][e3b];if(l3b && typeof l3b == "object"){l3b=l3b[o3b.subField];}if(!l3b && l3b !== 0)continue;N3b-=l3b;H3b-=Math.pow(l3b,2);}S3b=(o3b.days * E3b - J3b * N3b) / (o3b.days * n3b - W3b);f3b[D3b]["Slope " + o3b.name]=S3b;L3b=(N3b - S3b * J3b) / o3b.days;f3b[D3b][y34P + o3b.name]=L3b;f3b[D3b]["Forecast " + o3b.name]=L3b + S3b * o3b.days;s9iE.y0F7(6);var u3BP=s9iE.n0F7(8,6);v3b=(o3b.days * n3b - W3b) / (o3b.days * H3b - Math.pow(N3b,u3BP));s9iE.R0F7(129);f3b[D3b]["RSquared " + o3b.name]=s9iE.n0F7(v3b,S3b,S3b);f3b[D3b][Z34P + o3b.name]=[E3b,N3b,H3b];}};I3b.Studies.studyLibrary=I3b.extend(I3b.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:!0,calculateFN:I3b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:R74P},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:! !{},calculateFN:I3b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:Y74P},outputs:{Intercept:"auto"}},"Lin R2":{name:L74P,calculateFN:I3b.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" >> 1039624352,Field:i74P},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:I3b.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:t74P},outputs:{Slope:K74P}},"Time Fcst":{name:"Time Series Forecast",overlay:! !"1",calculateFN:I3b.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" * 1,Field:"field"},outputs:{Forecast:"auto"}}});}};A6M=X3b=>{var q74P,R3b,b74P,c74P;q74P="u";q74P+="ndef";q74P+="ine";q74P+="d";R3b=typeof _CIQ !== q74P?_CIQ:X3b.CIQ;if(!R3b.Studies){b74P="macd ";b74P+="featu";b74P+="re requires first activating studies";b74P+=" feature.";console.error(b74P);}else {c74P="a";c74P+="uto";R3b.Studies.calculateMACD=function(V6C,Y3b){var W9iE=G5XX;var P74P,T74P,m74P,Z1b,u6C,Z3b,b6C,k6C,X1b,y1b,x6C,e74P,F6C,t6C,r6C;P74P="Si";P74P+="gnal";T74P="S";T74P+="i";T74P+="g";T74P+="nal Period";m74P="Fast MA";m74P+=" Per";m74P+="io";m74P+="d";Z1b=Y3b.chart.scrubbed;u6C=Y3b.inputs;Z3b=Y3b.name;if(!Y3b.macd1Days){Y3b.macd1Days=parseFloat(u6C[m74P]);}if(!Y3b.macd2Days){Y3b.macd2Days=parseFloat(u6C["Slow MA Period"]);}if(!Y3b.signalDays){Y3b.signalDays=parseFloat(u6C[T74P]);}if(!Y3b.days){Y3b.days=Math.max(Y3b.macd1Days,Y3b.macd2Days,Y3b.signalDays);}if(Z1b.length < Y3b.days + 1){Y3b.error=!0;return;}b6C=Y3b.inputs.Field;if(!b6C || b6C == "field"){b6C="Close";}k6C=u6C["Moving Average Type"];if(!k6C){k6C="exponential";}R3b.Studies.MA(k6C,Y3b.macd1Days,b6C,+"0","_MACD1",V6C,Y3b);R3b.Studies.MA(k6C,Y3b.macd2Days,b6C,+"0","_MACD2",V6C,Y3b);x6C=Math.max(Y3b.startFrom,Y3b.days - 1);for(X1b=x6C;X1b < Z1b.length;X1b++){e74P="_MACD";e74P+="2 ";y1b=Z1b[X1b];if((y1b["_MACD1 " + Z3b] || y1b["_MACD1 " + Z3b] === 0) && (y1b[e74P + Z3b] || y1b["_MACD2 " + Z3b] === 0)){W9iE.y0F7(2);y1b[W9iE.n0F7(Z3b,"MACD ")]=y1b["_MACD1 " + Z3b] - y1b["_MACD2 " + Z3b];}}F6C=u6C["Signal MA Type"];if(!F6C){F6C="exponential";}R3b.Studies.MA(F6C,Y3b.signalDays,"MACD " + Z3b,0,P74P,V6C,Y3b);W9iE.y0F7(2);t6C=W9iE.N0F7("_hist",Z3b);for(X1b=x6C;X1b < Z1b.length;X1b++){y1b=Z1b[X1b];W9iE.y0F7(2);r6C=y1b[W9iE.n0F7(Z3b,"Signal ")];if(!r6C && r6C !== 0)continue;y1b[t6C]=y1b["MACD " + Z3b] - y1b["Signal " + Z3b];}Y3b.outputMap[t6C]="";};R3b.Studies.studyLibrary=R3b.extend(R3b.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:R3b.Studies.calculateMACD,seriesFN:R3b.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":+"12","Slow MA Period":26,"Signal Period":9},outputs:{MACD:c74P,Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};y6M=T6C=>{var f74P,c6C;f74P="undefine";f74P+="d";c6C=typeof _CIQ !== f74P?_CIQ:T6C.CIQ;if(!c6C.Studies){console.error("massIndex feature requires first activating studies feature.");}else {c6C.Studies.calculateMassIndex=function(s6C,p6C){var Z8iE=G5XX;var k74P,I74P,i6C,I6C,h74P,F74P,p74P;k74P="_";k74P+="t";k74P+="ot";k74P+="al ";I74P="_E";Z8iE.m2iE();I74P+="MA";i6C=p6C.chart.scrubbed;if(i6C.length < Math.max(9,p6C.days + 1)){p6C.error=! ![];return;}for(var C6C=p6C.startFrom;C6C < i6C.length;C6C++){i6C[C6C]["_High-Low " + p6C.name]=i6C[C6C].High - i6C[C6C].Low;}c6C.Studies.MA("exponential",9,"_High-Low " + p6C.name,0,I74P,s6C,p6C);c6C.Studies.MA("exponential",9,"_EMA " + p6C.name,"0" << 107728544,"_EMA2",s6C,p6C);I6C=+"0";if(i6C[p6C.startFrom - +"1"] && i6C[p6C.startFrom - 1]["_total " + p6C.name]){I6C=i6C[p6C.startFrom - +"1"][k74P + p6C.name];}for(var j6C=Math.max("17" | 16,p6C.startFrom);j6C < i6C.length;j6C++){h74P="_tota";h74P+="l ";F74P="_EMA";F74P+="2 ";I6C+=i6C[j6C]["_EMA " + p6C.name] / i6C[j6C][F74P + p6C.name];if(j6C >= 17 + p6C.days - 1){p74P="_";p74P+="E";p74P+="M";p74P+="A ";i6C[j6C]["Result " + p6C.name]=I6C;Z8iE.R0F7(64);var N3BP=Z8iE.n0F7(18,19);Z8iE.y0F7(2);var r3BP=Z8iE.n0F7(1,0);I6C-=i6C[j6C - p6C.days + N3BP][p74P + p6C.name] / i6C[j6C - p6C.days + r3BP]["_EMA2 " + p6C.name];}i6C[j6C][h74P + p6C.name]=I6C;}};c6C.Studies.displayMassIndex=function(a6C,z6C,K6C){var P6C,d6C,A6C,y6C,q6C;c6C.Studies.displaySeriesAsLine(a6C,z6C,K6C);P6C=z6C.inputs["Bulge Threshold"];d6C=a6C.panels[z6C.panel];A6C=z6C.getYAxis(a6C);y6C=c6C.Studies.determineColor(z6C.outputs.Result);q6C={skipTransform:a6C.panels[z6C.panel].name != z6C.chart.name,panelName:z6C.panel,band:"Result " + z6C.name,threshold:P6C,direction:1,color:y6C,yAxis:A6C,opacity:"0.3" - 0};if(!z6C.highlight && a6C.highlightedDraggable){q6C.opacity*=0.3;}c6C.preparePeakValleyFill(a6C,q6C);c6C.Studies.drawHorizontal(a6C,z6C,null,P6C,A6C,y6C);};c6C.Studies.studyLibrary=c6C.extend(c6C.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:c6C.Studies.displayMassIndex,calculateFN:c6C.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":"27" << 1685705344},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};q6M=o6C=>{var C74P,O6C,O74P;C74P="u";C74P+="ndefined";O6C=typeof _CIQ !== C74P?_CIQ:o6C.CIQ;if(!O6C.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {O74P="a";O74P+="u";O74P+="t";O74P+="o";O6C.Studies.calculateMoneyFlowIndex=function(X6C,l6C){var h8iE=G5XX;var N6C,H6C,e6C,J6C,n6C,E6C,v6C,Q6C,W74P,R6C,S6C,W6C;N6C=l6C.chart.scrubbed;if(N6C.length < l6C.days + 1){l6C.error=! !{};return;}H6C=0;e6C=0;h8iE.R0F7(9);var a3BP=h8iE.n0F7(1,18,22,5);J6C=N6C[l6C.startFrom - a3BP];n6C="_rawMF " + l6C.name;E6C="_cumMF " + l6C.name;v6C="Result " + l6C.name;h8iE.g2iE();if(J6C && J6C[E6C]){H6C=J6C[E6C][0];e6C=J6C[E6C][1];}for(var m6C=l6C.startFrom;m6C < N6C.length;m6C++){Q6C=N6C[m6C]["hlc/3"];if(m6C > 0 && !N6C[m6C].futureTick){W74P="hlc/";W74P+="3";h8iE.R0F7(6);R6C=N6C[h8iE.n0F7(m6C,1)][W74P];S6C=Q6C * N6C[m6C].Volume;if(Q6C > R6C){H6C+=S6C;}else if(Q6C < R6C){S6C*=-1;e6C-=S6C;}else {h8iE.R0F7(6);S6C=h8iE.n0F7("0",0);}if(m6C > l6C.days){W6C=N6C[m6C - l6C.days][n6C];if(W6C > 0){H6C-=W6C;}else {e6C+=W6C;}if(e6C === 0){N6C[m6C][v6C]=100;}else if(N6C[m6C].Volume){h8iE.y0F7(130);N6C[m6C][v6C]=h8iE.n0F7(100,"100",H6C,e6C,1);}}N6C[m6C][n6C]=S6C;N6C[m6C][E6C]=[H6C,e6C];}}};O6C.Studies.studyLibrary=O6C.extend(O6C.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:"0 to 100",calculateFN:O6C.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:O74P,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};K6M=u3C=>{var o2iE=G5XX;var Y6C,d70P,U70P,w70P,E74P,V74P,H74P,D74P,U74P,d74P,B74P,l74P,Q74P;o2iE.m2iE();Y6C=typeof _CIQ !== "undefined"?_CIQ:u3C.CIQ;if(!Y6C.Studies){d70P=-1463719883;o2iE.y0F7(35);U70P=-o2iE.N0F7("250452891",169941019);w70P=2;for(var u70P="1" & 2147483647;o2iE.W60P(u70P.toString(),u70P.toString().length,59538) !== d70P;u70P++){console.error("movingAverages feature requires first activating studies feature.");w70P+=2;}if(o2iE.W60P(w70P.toString(),w70P.toString().length,44088) !== U70P){console.error("");}}else {E74P="a";E74P+="u";E74P+="t";E74P+="o";V74P="a";V74P+="u";V74P+="t";V74P+="o";H74P="poi";H74P+="nts";D74P="perc";D74P+="ent";U74P="Tri";U74P+="pleExponential";d74P="TripleEx";d74P+="pon";d74P+="e";d74P+="ntial";B74P="Doubl";B74P+="e Exponential";l74P="hu";l74P+="ll";Q74P="t";Q74P+="e";Q74P+="ma";Y6C.Studies.prettify=Y6C.extend({"2-exponential":"dema","3-exponential":Q74P,hull:"hma"},Y6C.Studies.prettify);Y6C.extend(Y6C.Studies.movingAverage,{conversions:{hma:l74P,dema:"2-exponential",tema:"3-exponential"},translations:{hull:"Hull","2-exponential":B74P,"3-exponential":"Triple Exponential"},typeMap:{hma:"Hull",hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:d74P,"3-exponential":U74P}});Y6C.Studies.calculateMovingAverageHull=function(q3C,x3C){var r74P,N74P,o74P,w74P,U3C,M3C,h3C,a3C,u74P,P3C,w3C,K3C,A3C;r74P="_";r74P+="H";r74P+="M";r74P+="A";N74P="wm";N74P+="a";o74P="wm";o74P+="a";w74P="_W";w74P+="M";w74P+="A1";U3C=x3C.chart.scrubbed;M3C=x3C.inputs.Field;if(!M3C || M3C == "field"){M3C="Close";}Y6C.Studies.MA("wma",x3C.days,M3C,0,w74P,q3C,x3C);Y6C.Studies.MA(o74P,Math.ceil(x3C.days / 2),M3C,0,"_WMA2",q3C,x3C);for(h3C=x3C.startFrom - 1;h3C >= 0;h3C--){a3C=U3C[h3C][M3C];if(a3C && typeof a3C == "object"){a3C=a3C[x3C.subField];}if(a3C || a3C === 0)break;}for(h3C++;h3C < U3C.length;h3C++){u74P="_WM";u74P+="A";u74P+="1 ";P3C=U3C[h3C];o2iE.y0F7(106);var A3BP=o2iE.n0F7(15,15,2000505378,2667340544);P3C["_MMA " + x3C.name]=("2" << A3BP) * P3C["_WMA2 " + x3C.name] - P3C[u74P + x3C.name];}w3C=parseInt(x3C.inputs.Offset,10);o2iE.m2iE();if(isNaN(w3C)){w3C=0;}K3C=Math.floor(Math.sqrt(x3C.days));Y6C.Studies.MA(N74P,K3C,"_MMA " + x3C.name,w3C,r74P,q3C,x3C);A3C=x3C.name;for(var B3C in x3C.outputs){o2iE.y0F7(55);A3C=o2iE.N0F7((91.85,+"26.31") < (7630,746.92)?" ":1.15e+3,A3C,B3C);}for(h3C=Math.max(x3C.days + K3C - 1,x3C.startFrom);h3C < U3C.length;h3C++){U3C[h3C][A3C]=U3C[h3C]["_HMA " + x3C.name];}};Y6C.Studies.calculateMovingAverageDoubleExponential=function(l3C,d3C){var f3C,m3C,o3C,G3C,D3C,e3C,N3C,S3C,E3C,L3C,g3C;f3C=d3C.chart.scrubbed;m3C=d3C.inputs.Field;if(!m3C || m3C == "field"){m3C="Close";}Y6C.Studies.MA("ema",d3C.days,m3C,0,"_EMA1",l3C,d3C);o2iE.m2iE();Y6C.Studies.MA("ema",d3C.days,"_EMA1 " + d3C.name,0,"_EMA2",l3C,d3C);o3C=parseInt(d3C.inputs.Offset,+"10");if(isNaN(o3C)){o3C=0;}e3C=o3C;for(G3C=d3C.startFrom - 1;G3C >= 0;G3C--){D3C=f3C[G3C][m3C];if(D3C && typeof D3C == "object"){D3C=D3C[d3C.subField];}if(!D3C && D3C !== 0)continue;if(e3C > "0" * 1){e3C--;continue;}break;}N3C=d3C.name;for(var Y3C in d3C.outputs){o2iE.y0F7(55);N3C=o2iE.n0F7(1580 > (6943,+"1571")?" ":! !{},N3C,Y3C);}S3C=[];for(G3C++;G3C < f3C.length;G3C++){if(G3C < 2 * (d3C.days - 1))continue;E3C=f3C[G3C];o2iE.y0F7(6);var j3BP=o2iE.N0F7(22,20);L3C=j3BP * E3C["_EMA1 " + d3C.name] - E3C["_EMA2 " + d3C.name];if(G3C + o3C >= 0){if(G3C + o3C < f3C.length){o2iE.R0F7(2);f3C[o2iE.n0F7(o3C,G3C)][N3C]=L3C;}else {g3C={};g3C[N3C]=L3C;S3C.push(g3C);}}}d3C.appendFutureTicks(l3C,S3C);};Y6C.Studies.calculateMovingAverageTripleExponential=function(t4C,Z3C){var A74P,a74P,F4C,V4C,b4C,u4C,k4C,r4C,j74P,x4C,c4C,v74P,n74P,h4C,T4C,U4C;A74P="_E";A74P+="M";A74P+="A";A74P+="1";a74P="C";a74P+="lo";a74P+="s";a74P+="e";F4C=Z3C.chart.scrubbed;V4C=Z3C.inputs.Field;if(!V4C || V4C == "field"){V4C=a74P;}Y6C.Studies.MA("ema",Z3C.days,V4C,0,A74P,t4C,Z3C);Y6C.Studies.MA("ema",Z3C.days,"_EMA1 " + Z3C.name,0,"_EMA2",t4C,Z3C);Y6C.Studies.MA("ema",Z3C.days,"_EMA2 " + Z3C.name,0,"_EMA3",t4C,Z3C);b4C=parseInt(Z3C.inputs.Offset,10);if(isNaN(b4C)){b4C=0;}r4C=b4C;for(u4C=Z3C.startFrom - 1;u4C >= 0;u4C--){j74P="o";j74P+="bje";j74P+="c";j74P+="t";k4C=F4C[u4C][V4C];if(k4C && typeof k4C == j74P){k4C=k4C[Z3C.subField];}if(!k4C && k4C !== 0)continue;if(r4C > 0){r4C--;continue;}break;}x4C=Z3C.name;for(var p4C in Z3C.outputs){o2iE.R0F7(55);x4C=o2iE.n0F7(445.72 == (959.16,2600)?6.61e+3:" ",x4C,p4C);}c4C=[];for(u4C++;u4C < F4C.length;u4C++){v74P="_";v74P+="E";v74P+="MA3 ";n74P="_E";n74P+="MA1 ";if(u4C < 3 * (Z3C.days - +"1"))continue;h4C=F4C[u4C];o2iE.y0F7(6);var n3BP=o2iE.n0F7(8,5);o2iE.y0F7(7);var v3BP=o2iE.n0F7(6,6,9);T4C=n3BP * h4C[n74P + Z3C.name] - v3BP * h4C["_EMA2 " + Z3C.name] + h4C[v74P + Z3C.name];if(u4C + b4C >= +"0"){if(u4C + b4C < F4C.length){o2iE.y0F7(2);F4C[o2iE.n0F7(b4C,u4C)][x4C]=T4C;}else {U4C={};U4C[x4C]=T4C;c4C.push(U4C);}}}Z3C.appendFutureTicks(t4C,c4C);};Y6C.Studies.calculateMAEnvelope=function(I4C,M4C){var i4C,j4C,C4C,x74P,g74P,M74P;i4C=M4C.inputs.Field;if(!i4C || i4C == "field"){i4C="Close";}Y6C.Studies.MA(M4C.inputs["Moving Average Type"],M4C.days,i4C,0,"MA",I4C,M4C);j4C=M4C.inputs["Shift Type"];C4C=M4C.inputs.Shift;o2iE.m2iE();if(!j4C){x74P="Shift";x74P+=" Percentage";g74P="p";g74P+="ercent";j4C=g74P;C4C=M4C.inputs[x74P];}if(j4C == "percent"){o2iE.R0F7(10);Y6C.Studies.calculateGenericEnvelope(I4C,M4C,o2iE.N0F7(C4C,100),"MA " + M4C.name);}else if(j4C == "points"){M74P="M";M74P+="A";M74P+=" ";Y6C.Studies.calculateGenericEnvelope(I4C,M4C,null,M74P + M4C.name,null,Number(C4C));}};Y6C.Studies.calculateMADev=function(d4C,s4C){var S74P,A4C,a4C,y4C,q4C,B4C,J74P,P4C,z4C,w4C,X74P;S74P="Moving Ave";S74P+="rage";S74P+=" Type";A4C=s4C.chart.scrubbed;if(A4C.length < s4C.days + 1){s4C.error=! !"1";return;}a4C=s4C.inputs.Field;if(!a4C || a4C == "field"){a4C="Close";}y4C=s4C.inputs["Points Or Percent"];if(!y4C){y4C="Points";}q4C=s4C.inputs[S74P];o2iE.g2iE();if(!q4C){q4C="exponential";}Y6C.Studies.MA(q4C,s4C.days,a4C,+"0","_MA",d4C,s4C);B4C=s4C.name + "_hist";for(var K4C=Math.max(s4C.startFrom,s4C.days - 1);K4C < A4C.length;K4C++){J74P="_MA";J74P+=" ";P4C=A4C[K4C];z4C=P4C[a4C];if(z4C && typeof z4C == "object"){z4C=z4C[s4C.subField];}w4C=P4C[J74P + s4C.name];if(w4C || w4C === +"0"){X74P="P";X74P+="oint";X74P+="s";if(y4C == X74P){o2iE.y0F7(6);P4C[B4C]=o2iE.N0F7(z4C,w4C);}else {o2iE.y0F7(131);P4C[B4C]=o2iE.n0F7(1,100,w4C,z4C);}}}s4C.outputMap={};s4C.outputMap[s4C.name + "_hist"]="";};Y6C.Studies.studyLibrary=Y6C.extend(Y6C.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! !{},seriesFN:Y6C.Studies.displayChannel,calculateFN:Y6C.Studies.calculateMAEnvelope,inputs:{Period:"50" << 934410944,Field:"field","Shift Type":[D74P,H74P],Shift:5,"Moving Average Type":"ma","Channel Fill":!0},outputs:{"MA Env Top":V74P,"MA Env Median":E74P,"MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:Y6C.Studies.calculateMADev,seriesFN:Y6C.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points","Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:Y6C.Studies.displayChannel,calculateFN:function(O4C,G4C){G4C.inputs["Moving Average Type"]="triangular";o2iE.g2iE();Y6C.Studies.calculateMAEnvelope(O4C,G4C);},inputs:{Period:+"10",Field:"field","Shift Percentage":5,"Channel Fill":!0},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};B6M=D4C=>{var z74P,o4C;G5XX.g2iE();z74P="unde";z74P+="fi";z74P+="ne";z74P+="d";o4C=typeof _CIQ !== z74P?_CIQ:D4C.CIQ;if(!o4C.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {o4C.Studies.calculatePSAR=function(g4C,e4C){var w8iE=G5XX;var G74P,f4C,H4C,N4C,S4C,l4C,Q4C,W4C,s74P,J4C,y74P,E4C,n4C,L4C;G74P="Min";G74P+="imum AF";f4C=e4C.chart.scrubbed;H4C=0;N4C=null;S4C=! !0;l4C=0;Q4C=parseFloat(e4C.inputs[G74P]);function v4C(){var k70P,F70P,p70P;H4C=0;w8iE.R0F7(40);k70P=-w8iE.N0F7("2094223105",0);F70P=-1099365145;p70P=2;for(var C70P=1;w8iE.W60P(C70P.toString(),C70P.toString().length,17425) !== k70P;C70P++){N4C=null;p70P+=+"2";}if(w8iE.C60P(p70P.toString(),p70P.toString().length,75909) !== F70P){N4C=1;}S4C=!S4C;}W4C=parseFloat(e4C.inputs["Maximum AF"]);if(e4C.startFrom > 0){s74P="_st";s74P+="ate";s74P+=" ";w8iE.y0F7(132);var g3BP=w8iE.N0F7(5,6,3,5,15);l4C=f4C[e4C.startFrom - g3BP]["Result " + e4C.name];J4C=f4C[e4C.startFrom - +"1"][s74P + e4C.name];if(J4C && J4C.length == 3){H4C=J4C[0];N4C=J4C[1];S4C=J4C[2];}}for(var m4C=e4C.startFrom - 1;m4C < f4C.length - 1;m4C++){y74P="_stat";y74P+="e ";if(m4C < 0)continue;if(f4C[m4C].futureTick)break;E4C=l4C;if(S4C){if(!N4C || N4C < f4C[m4C].High){N4C=f4C[m4C].High;w8iE.R0F7(2);H4C=Math.min(w8iE.N0F7(Q4C,H4C),W4C);}w8iE.y0F7(133);l4C=w8iE.N0F7(N4C,E4C,E4C,H4C);n4C=Math.min(f4C[Math.max(+"1",m4C) - 1].Low,f4C[m4C].Low);if(l4C > f4C[m4C + +"1"].Low){l4C=N4C;v4C();}else if(l4C > n4C){l4C=n4C;}}else {if(!N4C || N4C > f4C[m4C].Low){N4C=f4C[m4C].Low;w8iE.y0F7(2);H4C=Math.min(w8iE.N0F7(Q4C,H4C),W4C);}w8iE.R0F7(133);l4C=w8iE.N0F7(N4C,E4C,E4C,H4C);L4C=Math.max(f4C[Math.max(1,m4C) - 1].High,f4C[m4C].High);if(l4C < f4C[m4C + 1].High){l4C=N4C;v4C();}else if(l4C < L4C){l4C=L4C;}}w8iE.y0F7(34);f4C[w8iE.n0F7("1",m4C,0)][y74P + e4C.name]=[H4C,N4C,S4C];if(!isNaN(f4C[m4C].High) || !isNaN(f4C[m4C].Low)){w8iE.y0F7(134);f4C[w8iE.n0F7("1",2147483647,m4C)]["Result " + e4C.name]=l4C;}}};o4C.Studies.studyLibrary=o4C.extend(o4C.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:! !1,calculateFN:o4C.Studies.calculatePSAR,seriesFN:o4C.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":"0.2" - 0}}});}};d6M=X4C=>{var R4C,Z74P,h80P,C80P,W80P,F84P,k84P,I84P,f84P,c84P,O84P,W84P,C84P,h84P,p84P;R4C=typeof _CIQ !== "undefined"?_CIQ:X4C.CIQ;if(!R4C.Studies){Z74P="pivotPoints feature";Z74P+=" require";Z74P+="s first activating studies feature.";console.error(Z74P);}else {R4C.Studies.calculatePivotPoints=function(k7C,b7C){var D8iE=G5XX;var Y84P,R84P,Z4C,F7C,t7C,V7C,Y4C,L84P,h7C,r7C,K84P,t84P,i84P,b84P,q84P;D8iE.m2iE();Y84P="m";Y84P+="illisecond";R84P="m";R84P+="on";R84P+="t";R84P+="h";Z4C=b7C.chart.scrubbed;F7C="day";if(k7C.layout.interval == "day"){F7C=R84P;}else if(R4C.ChartEngine.isDailyInterval(k7C.layout.interval)){F7C="year";}else if(k7C.layout.interval == "second" || k7C.layout.interval == "millisecond" || k7C.layout.timeUnit == "second" || k7C.layout.timeUnit == Y84P){F7C="15min";}else {t7C=k7C.layout.periodicity;if(k7C.layout.interval != "minute"){t7C*=k7C.layout.interval;}if(t7C >= 30){F7C="week";}}V7C=null;function x7C(){D8iE.y0F7(6);D8iE.g2iE();var x3BP=D8iE.N0F7(14,13);Y4C.pivotPoint=(Y4C.high + Y4C.low + Z4C[u7C - x3BP].Close) / +"3";Y4C.prevHigh=Y4C.high;Y4C.prevLow=Y4C.low;Y4C.hlSpread=Y4C.high - Y4C.low;Y4C.high=Y4C.low=0;}Y4C={pivotPoint:NaN,high:0,low:+"0",prevHigh:0,prevLow:+"0",hlSpread:0};if(b7C.startFrom > "1" << 1936418528 && Z4C[b7C.startFrom - 1]["_pointers " + b7C.name]){Y4C=R4C.clone(Z4C[b7C.startFrom - 1]["_pointers " + b7C.name]);}for(var u7C=Math.max(+"1",b7C.startFrom);u7C < Z4C.length;u7C++){L84P="Pi";L84P+="v";L84P+="ot ";if(!Z4C[u7C - 1])continue;Y4C.high=Math.max(Y4C.high,Z4C[u7C - 1].High);Y4C.low=Math.min(Y4C.low > 0?Y4C.low:Z4C[u7C - 1].Low,Z4C[u7C - 1].Low);if(b7C.inputs.Continuous){x7C();}else if(F7C == "year" && Z4C[u7C].DT.getYear() != Z4C[u7C - 1].DT.getYear()){x7C();}else if(F7C == "month" && Z4C[u7C].DT.getMonth() != Z4C[u7C - ("1" ^ 0)].DT.getMonth()){x7C();}else if(F7C == "week" && Z4C[u7C].DT.getDay() < Z4C[u7C - 1].DT.getDay()){x7C();}else if(F7C == "day"){if(V7C === null){V7C=R4C.Studies.getMarketOffset({stx:k7C,localQuoteDate:Z4C[u7C].DT,shiftToDateBoundary:! !"1"});}h7C=new Date(new Date(+Z4C[u7C].DT).setMilliseconds(Z4C[u7C].DT.getMilliseconds() + V7C));r7C=new Date(new Date(+Z4C[u7C - +"1"].DT).setMilliseconds(Z4C[u7C - 1].DT.getMilliseconds() + V7C));if(r7C.getDate() !== h7C.getDate() && r7C.getDay() !== +"0" && k7C.chart.market.isMarketDate(h7C)){V7C=null;x7C();}}else if(F7C == "15min" && (Z4C[u7C].DT.getHours() != Z4C[u7C - 1].DT.getHours() || Math.floor(Z4C[u7C].DT.getMinutes() / 15) != Math.floor(Z4C[u7C - 1].DT.getMinutes() / 15))){x7C();}Z4C[u7C][L84P + b7C.name]=Y4C.pivotPoint;if(b7C.inputs.Type.toLowerCase() == "fibonacci"){K84P="Suppo";K84P+="rt 3";K84P+=" ";t84P="Resis";t84P+="tance 3 ";i84P="Resista";i84P+="nce 1 ";Z4C[u7C][i84P + b7C.name]=Y4C.pivotPoint + 0.382 * Y4C.hlSpread;Z4C[u7C]["Resistance 2 " + b7C.name]=Y4C.pivotPoint + 0.618 * Y4C.hlSpread;Z4C[u7C][t84P + b7C.name]=Y4C.pivotPoint + Y4C.hlSpread;Z4C[u7C]["Support 1 " + b7C.name]=Y4C.pivotPoint - ("0.382" - 0) * Y4C.hlSpread;Z4C[u7C]["Support 2 " + b7C.name]=Y4C.pivotPoint - 0.618 * Y4C.hlSpread;Z4C[u7C][K84P + b7C.name]=Y4C.pivotPoint - Y4C.hlSpread;}else {b84P="Suppor";b84P+="t";b84P+=" 2 ";q84P="Re";q84P+="sistanc";q84P+="e 3 ";D8iE.R0F7(2);var M3BP=D8iE.n0F7(12,267074164);Z4C[u7C]["Resistance 1 " + b7C.name]=("2" << M3BP) * Y4C.pivotPoint - Y4C.prevLow;Z4C[u7C]["Resistance 2 " + b7C.name]=Y4C.pivotPoint + Y4C.hlSpread;Z4C[u7C][q84P + b7C.name]=Y4C.prevHigh + +"2" * (Y4C.pivotPoint - Y4C.prevLow);D8iE.R0F7(59);var S3BP=D8iE.n0F7(17,22,372);Z4C[u7C]["Support 1 " + b7C.name]=S3BP * Y4C.pivotPoint - Y4C.prevHigh;Z4C[u7C][b84P + b7C.name]=Y4C.pivotPoint - Y4C.hlSpread;D8iE.R0F7(6);var J3BP=D8iE.n0F7(4,3);Z4C[u7C]["Support 3 " + b7C.name]=Y4C.prevLow - "2" * J3BP * (Y4C.prevHigh - Y4C.pivotPoint);}Z4C[u7C]["_pointers " + b7C.name]=R4C.clone(Y4C);}};R4C.Studies.displayPivotPoints=function(T7C,c7C,M7C){var n70P,v70P,g70P,P84P,e84P,T84P,m84P,p7C,U7C;c7C.noSlopes=!c7C.inputs.Continuous;n70P=-471149605;v70P=1607013808;g70P=2;G5XX.m2iE();for(var M70P=1;G5XX.C60P(M70P.toString(),M70P.toString().length,53312) !== n70P;M70P++){R4C.Studies.displaySeriesAsLine(T7C,c7C,M7C);g70P+=2;}if(G5XX.W60P(g70P.toString(),g70P.toString().length,+"75529") !== v70P){R4C.Studies.displaySeriesAsLine(T7C,c7C,M7C);}if(c7C.inputs.Shading){P84P="P";P84P+="i";P84P+="vot ";e84P="Res";e84P+="ista";e84P+="nce";e84P+=" 1";T84P="Resi";T84P+="stance 2";m84P="Resistanc";m84P+="e";m84P+=" 1";m84P+=" ";p7C=T7C.panels[c7C.panel];U7C={noSlopes:c7C.noSlopes,opacity:c7C.parameters.opacity?c7C.parameters.opacity:"0.2" * 1,skipTransform:p7C.name != c7C.chart.name,yAxis:c7C.getYAxis(T7C)};if(!c7C.highlight && T7C.highlightedDraggable){U7C.opacity*=0.3;}R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Resistance 3 " + c7C.name,bottomBand:"Resistance 2 " + c7C.name,color:R4C.Studies.determineColor(c7C.outputs["Resistance 3"])},U7C));R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Resistance 2 " + c7C.name,bottomBand:m84P + c7C.name,color:R4C.Studies.determineColor(c7C.outputs[T84P])},U7C));R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Resistance 1 " + c7C.name,bottomBand:"Pivot " + c7C.name,color:R4C.Studies.determineColor(c7C.outputs[e84P])},U7C));R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Support 1 " + c7C.name,bottomBand:P84P + c7C.name,color:R4C.Studies.determineColor(c7C.outputs["Support 1"])},U7C));R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Support 2 " + c7C.name,bottomBand:"Support 1 " + c7C.name,color:R4C.Studies.determineColor(c7C.outputs["Support 2"])},U7C));R4C.prepareChannelFill(T7C,R4C.extend({panelName:c7C.panel,topBand:"Support 3 " + c7C.name,bottomBand:"Support 2 " + c7C.name,color:R4C.Studies.determineColor(c7C.outputs["Support 3"])},U7C));}};h80P=+"1129263020";C80P=1177690335;W80P=2;for(var Q80P=1;G5XX.W60P(Q80P.toString(),Q80P.toString().length,59070) !== h80P;Q80P++){F84P="#";F84P+="e36460";k84P="#b82c0";k84P+="b";I84P="a";I84P+="u";I84P+="to";f84P="f";f84P+="i";f84P+="bo";f84P+="nacci";c84P="stan";c84P+="dard";R4C.Studies.studyLibrary=R4C.extend(R4C.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!"",seriesFN:R4C.Studies.displayPivotPoints,calculateFN:R4C.Studies.calculatePivotPoints,inputs:{Type:[c84P,f84P],Continuous:!{},Shading:![]},outputs:{Pivot:I84P,"Resistance 1":k84P,"Support 1":"#699158","Resistance 2":F84P,"Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":"#d3e8ae"},parameters:{init:{opacity:0.2}}}});W80P+=2;}if(G5XX.W60P(W80P.toString(),W80P.toString().length,"70951" << 260723872) !== C80P){O84P="Suppor";O84P+="t 1";W84P="#ffd0c";W84P+="f";C84P="Resi";C84P+="s";C84P+="tanc";C84P+="e 3";h84P="#";h84P+="d";h84P+="3e8ae";p84P="S";p84P+="upport ";p84P+="1";R4C.Studies.studyLibrary=R4C.extend(R4C.Studies.studyLibrary,{"Pivot Points":{name:p84P,overlay:! !0,seriesFN:R4C.Studies.displayPivotPoints,calculateFN:R4C.Studies.calculatePivotPoints,inputs:{Type:[h84P,C84P],Continuous:! !{},Shading:! ![]},outputs:{Pivot:"#d3e8ae","Resistance 1":"#b3d987","Support 1":W84P,"Resistance 2":O84P,"Support 2":"Support 1","Resistance 3":"Support 1","Support 3":"#d3e8ae"},parameters:{init:{opacity:707}}}});}}};G6M=j7C=>{var i7C,Q84P,U84P;i7C=typeof _CIQ !== "undefined"?_CIQ:j7C.CIQ;if(!i7C.Studies){Q84P="pr";Q84P+="ettyGoodOscillator feature requires first activating studies ";Q84P+="feature.";console.error(Q84P);}else {U84P="a";U84P+="u";U84P+="t";U84P+="o";i7C.Studies.calculatePrettyGoodOscillator=function(z7C,C7C){var l84P,O60P,Q60P,l60P,I7C,d84P,B84P;l84P="_S";l84P+="MA";O60P=1086714203;Q60P=1187875090;l60P=2;for(var d60P=1;G5XX.W60P(d60P.toString(),d60P.toString().length,46082) !== O60P;d60P++){I7C=C7C.chart.scrubbed;l60P+=2;}if(G5XX.C60P(l60P.toString(),l60P.toString().length,21166) !== Q60P){I7C=C7C.chart.scrubbed;}I7C=C7C.chart.scrubbed;if(I7C.length < C7C.days + 1){C7C.error=! !1;return;}i7C.Studies.MA("exponential",C7C.days,"trueRange",0,"_EMA",z7C,C7C);i7C.Studies.MA("simple",C7C.days,"Close",0,l84P,z7C,C7C);for(var s7C=Math.max(1,C7C.startFrom);s7C < I7C.length;s7C++){d84P="_E";d84P+="MA";d84P+=" ";B84P="_S";B84P+="M";B84P+="A ";if(!I7C[s7C]["_SMA " + C7C.name] || !I7C[s7C]["_EMA " + C7C.name])continue;I7C[s7C]["Result " + C7C.name]=(I7C[s7C].Close - I7C[s7C][B84P + C7C.name]) / I7C[s7C][d84P + C7C.name];}};i7C.Studies.studyLibrary=i7C.extend(i7C.Studies.studyLibrary,{"Pretty Good":{name:"Pretty Good Oscillator",calculateFN:i7C.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:U84P}}}});}};O6M=P7C=>{var a7C,r84P;a7C=typeof _CIQ !== "undefined"?_CIQ:P7C.CIQ;if(!a7C.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {r84P="a";r84P+="u";r84P+="to";a7C.Studies.calculatePMO=function(B7C,w7C){var z8iE=G5XX;var N84P,u84P,w84P,q7C,A7C,K7C,y7C,d7C,o84P;N84P="P";N84P+="M";N84P+="O";N84P+=" ";u84P="expon";u84P+="ential";z8iE.g2iE();w84P="Smoothing P";w84P+="eriod";q7C={Smooth:Number(w7C.inputs[w84P]) - 1,Double:Number(w7C.inputs["Double Smoothing Period"]) - +"1",Signal:Number(w7C.inputs["Signal Period"])};A7C=w7C.chart.scrubbed;if(A7C.length < q7C.Smooth + q7C.Double){w7C.error=! !1;return;}K7C=w7C.inputs.Field;if(!K7C || K7C == "field"){K7C="Close";}for(y7C=w7C.startFrom;y7C < A7C.length;y7C++){if(!A7C[y7C])continue;if(!A7C[y7C - 1])continue;z8iE.R0F7(6);d7C=A7C[z8iE.n0F7(y7C,1)][K7C];if(d7C){o84P="_R";o84P+="O";o84P+="Cx";o84P+="10 ";z8iE.R0F7(23);var X3BP=z8iE.n0F7(4,7000,750);z8iE.R0F7(135);var D3BP=z8iE.N0F7(0,3,3,10,8);A7C[y7C][o84P + w7C.name]=X3BP * (A7C[y7C][K7C] / d7C - D3BP);}}a7C.Studies.MA("exponential",q7C.Smooth,"_ROCx10 " + w7C.name,0,"_EMAx10",B7C,w7C);a7C.Studies.MA("exponential",q7C.Double,"_EMAx10 " + w7C.name,0,"PMO",B7C,w7C);a7C.Studies.MA(u84P,q7C.Signal,N84P + w7C.name,"0" - 0,"PMOSignal",B7C,w7C);w7C.zoneOutput="PMO";};a7C.Studies.studyLibrary=a7C.extend(a7C.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:a7C.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":"35" & 2147483647,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:"auto",PMOSignal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:-2.5,studyOverSoldColor:r84P}},attributes:{studyOverBoughtValue:{min:"0" * 1,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};o6M=O7C=>{var a84P,G7C,G84P,z84P,E84P,V84P;a84P="undef";a84P+="ined";G7C=typeof _CIQ !== a84P?_CIQ:O7C.CIQ;if(!G7C.Studies){console.error("priceVolumeOscillator feature requires first activating studies feature.");}else {G84P="#FF";G84P+="0000";z84P="R";z84P+="A";z84P+="V";z84P+="I";E84P="Per";E84P+="c";E84P+="e";E84P+="nt";V84P="P";V84P+="e";V84P+="r";V84P+="cent";G7C.Studies.calculatePriceOscillator=function(Q7C,o7C){var A8iE=G5XX;var x84P,v84P,n84P,j84P,A84P,e7C,E7C,H7C,L30P,i30P,t30P,f7C,m7C,g84P,S7C,S84P,M84P,D7C,N7C,l7C,J84P;x84P="_Short";x84P+=" M";x84P+="A";v84P="Cl";v84P+="ose";n84P="f";n84P+="i";n84P+="el";n84P+="d";j84P="Lon";j84P+="g Cyc";j84P+="l";j84P+="e";A84P="Short";A84P+=" Cycle";e7C=o7C.chart.scrubbed;E7C=Number(o7C.inputs[A84P]);H7C=Number(o7C.inputs[j84P]);if(e7C.length < Math.max(E7C,H7C) + 1){o7C.error=! !{};L30P=-1440269628;i30P=-826984133;t30P=2;for(var q30P=1;A8iE.C60P(q30P.toString(),q30P.toString().length,70384) !== L30P;q30P++){return;}if(A8iE.C60P(t30P.toString(),t30P.toString().length,53388) !== i30P){return;}return;}f7C=o7C.inputs.Field;m7C=o7C.inputs["Moving Average Type"];if(!m7C){m7C="simple";}if(!f7C || f7C == n84P){f7C=v84P;}if(o7C.parameters.isVolume){g84P="V";g84P+="ol";g84P+="ume";f7C=g84P;m7C="exponential";}S7C=o7C.inputs["Points Or Percent"];if(!S7C){S7C="Percent";}G7C.Studies.MA(m7C,E7C,f7C,0,x84P,Q7C,o7C);G7C.Studies.MA(m7C,H7C,f7C,+"0","_Long MA",Q7C,o7C);for(var J7C=Math.max(H7C,o7C.startFrom);J7C < e7C.length;J7C++){S84P="_Lo";S84P+="ng MA ";M84P="_";M84P+="S";M84P+="hort";M84P+=" MA ";D7C=e7C[J7C];if(!D7C)continue;N7C=D7C[M84P + o7C.name];l7C=D7C[S84P + o7C.name];if((N7C || N7C === 0) && (l7C || l7C === 0)){if(S7C == "Points"){A8iE.R0F7(6);D7C["Result " + o7C.name]=A8iE.N0F7(N7C,l7C);}else {A8iE.y0F7(136);D7C["Result " + o7C.name]=A8iE.n0F7(l7C,N7C,"1",100);}if(o7C.outputs["Increasing Bar"]){J84P="_h";J84P+="i";J84P+="s";J84P+="t";D7C[o7C.name + "_hist"]=D7C["Result " + o7C.name];o7C.outputMap={};o7C.outputMap[o7C.name + J84P]="";}}}};G7C.Studies.displayRAVI=function(n7C,W7C,Z7C){var Y7C,v7C,u0C,b0C,R7C,V0C,x0C,H84P,D84P,X84P,L7C,X7C,k0C,F0C;Y7C=n7C.panels[W7C.panel];v7C=W7C.getContext(n7C);u0C=W7C.getYAxis(n7C);b0C=n7C.pixelFromPrice(0,Y7C,u0C);G5XX.y0F7(137);var H3BP=G5XX.n0F7(2,30,6,4,14);R7C=n7C.layout.candleWidth - H3BP;if(R7C < 2){R7C=1;}V0C=G7C.Studies.determineColor(W7C.outputs["Increasing Bar"]);x0C=G7C.Studies.determineColor(W7C.outputs["Decreasing Bar"]);n7C.startClip(W7C.panel);n7C.canvasColor("stx_histogram");if(!W7C.underlay){v7C.globalAlpha=1;}if(!W7C.highlight && n7C.highlightedDraggable){v7C.globalAlpha*=0.3;}for(var g7C=0;g7C < Z7C.length;g7C++){H84P="_";H84P+="h";H84P+="is";H84P+="t";D84P="_h";D84P+="is";D84P+="t";X84P="_hi";X84P+="s";X84P+="t";L7C=Z7C[g7C];G5XX.y0F7(6);X7C=Z7C[G5XX.N0F7(g7C,1)];if(!X7C){X7C=n7C.getPreviousBar(n7C.chart,W7C.name + "_hist",g7C);}if(!L7C)continue;k0C=0;F0C=+"0";if(W7C.parameters && W7C.parameters.studyOverZonesEnabled){k0C=parseFloat(W7C.parameters.studyOverBoughtValue);F0C=parseFloat(W7C.parameters.studyOverSoldValue);}if(!X7C){v7C.fillStyle="#CCCCCC";}else if(L7C[W7C.name + X84P] > k0C && X7C[W7C.name + "_hist"] < L7C[W7C.name + "_hist"]){v7C.fillStyle=V0C;}else if(L7C[W7C.name + D84P] < F0C && X7C[W7C.name + "_hist"] > L7C[W7C.name + "_hist"]){v7C.fillStyle=x0C;}else {v7C.fillStyle="#CCCCCC";}if(L7C.candleWidth){R7C=Math.floor(Math.max(1,L7C.candleWidth - 2));}v7C.fillRect(Math.floor(n7C.pixelFromBar(g7C,Y7C.chart) - R7C / 2),Math.floor(b0C),Math.floor(R7C),Math.floor(n7C.pixelFromPrice(L7C[W7C.name + H84P],Y7C,u0C) - b0C));}n7C.endClip();};G7C.Studies.studyLibrary=G7C.extend(G7C.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:G7C.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":+"26","Moving Average Type":"ema","Points Or Percent":["Points",V84P]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:G7C.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":"26" - 0,"Points Or Percent":["Points",E84P]},parameters:{init:{isVolume:! !1}}},RAVI:{name:z84P,seriesFN:G7C.Studies.displayRAVI,calculateFN:G7C.Studies.calculatePriceOscillator,inputs:{Field:"field","Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":G84P},centerline:0,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:0,step:"0.1"}}}});}};D6M=h0C=>{var t0C,Z84P,y84P;t0C=typeof _CIQ !== "undefined"?_CIQ:h0C.CIQ;if(!t0C.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {Z84P="a";Z84P+="ut";Z84P+="o";y84P="Pr";y84P+="ime Number Band";y84P+="s";t0C.Studies.calculatePrimeNumber=function(P0C,U0C){var B8iE=G5XX;var p0C,C0C,T0C,c0C,r0C,s84P,M0C,z0C,a0C;p0C=[];C0C=U0C.chart.scrubbed;for(var j0C=U0C.startFrom;j0C < C0C.length;j0C++){T0C=C0C[j0C];if(!T0C)continue;c0C=T0C.High;if(!isNaN(c0C)){for(var I0C=0;c0C > 0 && c0C <= "10" >> 1585396512;I0C++){c0C*=10;}if(i0C(c0C)){B8iE.R0F7(6);c0C+=B8iE.N0F7("2",0);}c0C=Math.ceil(c0C);if(c0C % 2 === 0){c0C++;}while(!i0C(c0C)){c0C+=2;}c0C/=Math.pow(10,I0C);}r0C=T0C.Low;if(!isNaN(r0C)){for(var s0C=0;r0C > 0 && r0C <= 10;s0C++){B8iE.R0F7(6);r0C*=B8iE.N0F7("10",0);}if(i0C(r0C)){r0C-=2;}r0C=Math.floor(r0C);if(r0C % 2 === 0){r0C--;}if(r0C > 0){while(!i0C(r0C)){r0C-=2;}r0C/=Math.pow(10,s0C);}}if(U0C.type == "Prime Number Bands"){if(!isNaN(c0C)){T0C["Prime Bands Top " + U0C.name]=c0C;}if(!isNaN(r0C)){T0C["Prime Bands Bottom " + U0C.name]=Math.max(0,r0C);}}else {s84P="Res";s84P+="u";s84P+="lt ";M0C=0;B8iE.y0F7(111);var V3BP=B8iE.n0F7(95,5,2,112,114);z0C=U0C.inputs["Tolerance Percentage"] * (c0C - r0C) / V3BP;B8iE.y0F7(138);var E3BP=B8iE.n0F7(11,17,28,1,1);a0C=c0C + r0C - E3BP * T0C.Close;if(a0C < z0C){M0C=1;}else if(a0C > z0C){M0C=-1;}if(M0C){T0C[s84P + U0C.name]=M0C;}}}function i0C(w0C){var y0C;if(w0C <= 0){return ! !"";}else if(w0C != Math.floor(w0C)){return !{};}else if(p0C[w0C] === !"" || p0C[w0C] === ! !""){return p0C[w0C];}y0C=parseInt(Math.sqrt(w0C),10);for(var A0C=2;A0C <= y0C;A0C++){if(w0C % A0C === 0){p0C[w0C]=!"1";return !1;}}p0C[w0C]=! !"1";return ! ![];}};t0C.Studies.studyLibrary=t0C.extend(t0C.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:t0C.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:+"0.1",step:0.1}}},"Prime Number Bands":{name:y84P,overlay:! ![],calculateFN:t0C.Studies.calculatePrimeNumber,seriesFN:t0C.Studies.displayChannel,inputs:{"Channel Fill":! !1},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":Z84P,"Prime Bands Channel":"auto"}}});}};f6M=K0C=>{G5XX.m2iE();var R54P,q0C,f54P,c54P;R54P="undefin";R54P+="ed";q0C=typeof _CIQ !== R54P?_CIQ:K0C.CIQ;if(!q0C.Studies){console.error("pring feature requires first activating studies feature.");}else {f54P="f";f54P+="ie";f54P+="ld";c54P="#00";c54P+="D";c54P+="D0";c54P+="0";q0C.Studies.calculateKST=function(N0C,B0C){var n8iE=G5XX;var K54P,L54P,Y54P,O0C,D0C,o0C,f0C,l0C,G0C,d0C,i54P,t54P,m0C;K54P="KST";K54P+="Signal";L54P="S";L54P+="ign";L54P+="al Period";Y54P="Light Rate";Y54P+=" of Cha";Y54P+="nge Peri";Y54P+="od";O0C=B0C.chart.scrubbed;D0C=B0C.inputs.Field;if(!D0C || D0C == "field"){D0C="Close";}o0C={};f0C={};o0C[1]=Number(B0C.inputs["Lightest Rate of Change Period"]);o0C[+"2"]=Number(B0C.inputs[Y54P]);o0C[3]=Number(B0C.inputs["Heavy Rate of Change Period"]);o0C[4]=Number(B0C.inputs["Heaviest Rate of Change Period"]);f0C[1]=Number(B0C.inputs["Lightest SMA Period"]);f0C[2]=Number(B0C.inputs["Light SMA Period"]);f0C[3]=Number(B0C.inputs["Heavy SMA Period"]);f0C[4]=Number(B0C.inputs["Heaviest SMA Period"]);l0C=Number(B0C.inputs[L54P]);for(G0C=B0C.startFrom;G0C < O0C.length;G0C++){if(!O0C[G0C])continue;for(d0C=+"1";d0C <= 4;d0C++){if(G0C >= o0C[d0C] && O0C[G0C - o0C[d0C]] && O0C[G0C - o0C[d0C]][D0C]){n8iE.R0F7(92);var z3BP=n8iE.n0F7(23,263,4,16);n8iE.y0F7(6);var G3BP=n8iE.n0F7(52272,46464);n8iE.y0F7(2);var s3BP=n8iE.N0F7(2421,127);n8iE.y0F7(6);var y3BP=n8iE.N0F7(7349,19);n8iE.y0F7(139);var Z3BP=n8iE.N0F7(97,8165,1,15,485);n8iE.R0F7(16);var R7BP=n8iE.N0F7(5,65,1,7);n8iE.R0F7(92);var Y7BP=n8iE.N0F7(15,0,4,18);O0C[G0C]["_ROC" + d0C + (205.63 != z3BP?(G3BP,s3BP) <= y3BP?" ":Z3BP:!"1") + B0C.name]=R7BP * (O0C[G0C][D0C] / O0C[G0C - o0C[d0C]][D0C] - Y7BP);}}}for(d0C="1" | 1;d0C <= 4;d0C++){q0C.Studies.MA("simple",f0C[d0C],"_ROC" + d0C + " " + B0C.name,0,"_SMA" + d0C,N0C,B0C);}for(G0C=B0C.startFrom;G0C < O0C.length;G0C++){i54P="K";i54P+="ST";i54P+=" ";O0C[G0C][i54P + B0C.name]=null;for(d0C="1" >> 791332992;d0C <= "4" * 1;d0C++){t54P="K";t54P+="ST";t54P+=" ";n8iE.y0F7(4);var L7BP=n8iE.N0F7(11970,17,7997);n8iE.y0F7(59);var i7BP=n8iE.N0F7(8,3520,21121);n8iE.R0F7(140);var t7BP=n8iE.N0F7(3098,6,7,15474,1);n8iE.y0F7(24);var K7BP=n8iE.N0F7(7,49,336);m0C=O0C[G0C]["_SMA" + d0C + (L7BP === +"212.41"?(619.71,341.31) == (i7BP,t7BP)?! !"":K7BP > 958.3?("G",!0):688.22:" ") + B0C.name];if(m0C || m0C === 0){n8iE.R0F7(22);O0C[G0C][t54P + B0C.name]+=n8iE.N0F7(m0C,d0C);}}}q0C.Studies.MA("simple",l0C,"KST " + B0C.name,0,K54P,N0C,B0C);};q0C.Studies.calculateSpecialK=function(v0C,E0C){var H8iE=G5XX;var q54P,S0C,Q0C,J0C,W0C,n0C,H0C,e0C,b54P,e54P,T54P,m54P,P54P,L0C;q54P="fiel";q54P+="d";S0C=E0C.chart.scrubbed;Q0C=E0C.inputs.Field;if(!Q0C || Q0C == q54P){Q0C="Close";}H8iE.g2iE();J0C=E0C.inputs.Interval;if(!J0C){J0C="daily";}W0C={daily:[10,15,20,30,50,65,75,100,195,+"265",390,530],weekly:[4,5,"6" & 2147483647,8,10,13,15,20,39,52,78,104]};n0C={daily:[10,10,10,"15" - 0,"50" | 32,65,75,100,130,130,130,195],weekly:[4,5,+"6",8,10,13,15,20,+"26",26,26,"39" ^ 0]};for(H0C=E0C.startFrom;H0C < S0C.length;H0C++){if(!S0C[H0C])continue;for(e0C=0;e0C < W0C[J0C].length;e0C++){b54P="_";b54P+="R";b54P+="OC";if(H0C >= W0C[J0C][e0C] && S0C[H0C - W0C[J0C][e0C]] && S0C[H0C - W0C[J0C][e0C]][Q0C]){H8iE.y0F7(55);var q7BP=H8iE.n0F7(18,247,53);H8iE.R0F7(141);var b7BP=H8iE.N0F7(1,5,15,224,3);S0C[H0C][b54P + e0C + (69.06 == 828.58?(+"8.50e+3",q7BP):" ") + E0C.name]=("100" & 2147483647) * (S0C[H0C][Q0C] / S0C[H0C - W0C[J0C][e0C]][Q0C] - b7BP);}}}for(e0C=0;e0C < n0C[J0C].length;e0C++){e54P="ex";e54P+="po";e54P+="nential";T54P="si";T54P+="mpl";T54P+="e";m54P="d";m54P+="ai";m54P+="l";m54P+="y";q0C.Studies.MA(J0C == m54P?T54P:e54P,n0C[J0C][e0C],"_ROC" + e0C + ((4449,"4510" - 0) < (3656,5260)?(520,898.41) >= 1200?(! !1,!{}):" ":!"1") + E0C.name,0,"_MA" + e0C,v0C,E0C);}for(H0C=E0C.startFrom;H0C < S0C.length;H0C++){S0C[H0C]["Result " + E0C.name]=null;for(e0C=+"0";e0C < n0C[J0C].length;e0C++){P54P="_";P54P+="M";P54P+="A";H8iE.y0F7(7);var m7BP=H8iE.N0F7(990,1,17);H8iE.R0F7(142);var T7BP=H8iE.n0F7(3844,970,3861,19,2);H8iE.y0F7(17);var e7BP=H8iE.n0F7(200,197,13,46);H8iE.y0F7(96);var P7BP=H8iE.N0F7(162214,17,171774);H8iE.y0F7(6);var c7BP=H8iE.N0F7(103125,93750);H8iE.y0F7(6);var f7BP=H8iE.N0F7(104060,94600);H8iE.y0F7(143);var I7BP=H8iE.N0F7(7669,20,2597061,17,8);H8iE.R0F7(6);var k7BP=H8iE.N0F7(29520,27060);H8iE.y0F7(59);var F7BP=H8iE.N0F7(2,248044218,248044212);H8iE.R0F7(54);var p7BP=H8iE.N0F7(43200,20,38374,20,14);L0C=S0C[H0C][P54P + e0C + ((m7BP,T7BP) === (647.89,e7BP)?P7BP > c7BP?f7BP == I7BP?(k7BP,"z"):"9.19e+3" >> F7BP:p7BP:" ") + E0C.name];if(L0C || L0C === +"0"){H8iE.y0F7(144);S0C[H0C]["Result " + E0C.name]+=H8iE.N0F7(4,e0C,1,L0C);}}}};q0C.Studies.studyLibrary=q0C.extend(q0C.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:q0C.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":20,"Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":"15" & 2147483647,"Signal Period":9},outputs:{KST:c54P,KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:q0C.Studies.calculateSpecialK,inputs:{Field:f54P,Interval:["daily","weekly"]}}});}};m6M=R0C=>{var I54P,g0C,X0C,n54P,j54P,A54P,a54P,r54P,N54P,u54P,o54P,w54P,U54P,d54P,B54P;I54P="und";I54P+="efined";g0C=typeof _CIQ !== I54P?_CIQ:R0C.CIQ;X0C=typeof _timezoneJS !== "undefined"?_timezoneJS:R0C.timezoneJS;if(!g0C.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else {n54P="hh:mm";n54P+=":";n54P+="ss";j54P="#";j54P+="fe";j54P+="641c";A54P="0 to m";A54P+="ax";a54P="#";a54P+="b82c";a54P+="0";a54P+="c";r54P="#fe6";r54P+="41c";N54P="-";N54P+="150";N54P+="%";u54P="-1";u54P+="0";u54P+="0%";o54P="+";o54P+="5";o54P+="0";o54P+="%";w54P="+";w54P+="7";w54P+="5";w54P+="%";U54P="+1";U54P+="2";U54P+="5%";d54P="+1";d54P+="50%";B54P="0 to";B54P+=" m";B54P+="a";B54P+="x";g0C.Studies.initProjectedVolume=function(b6r,t6r,Z0C,h6r,U6r,p6r){var k54P,Y0C,l80P,B80P,d80P,x6r;k54P="Anc";k54P+="hor Time";var {market:k6r}=b6r.chart;Y0C="0";Y0C+="0:";Y0C+="00";if(k6r){Y0C=k6r.getNormalOpen();}if(Y0C.match(/^[\d]{2}:[\d]{2}$/)){Y0C+=":00";}if(!Z0C[k54P] || !Z0C["Anchor Time"].length){l80P=1193357217;B80P=-856443922;d80P=2;for(var w80P=1;G5XX.C60P(w80P.toString(),w80P.toString().length,69611) !== l80P;w80P++){Z0C["Anchor Time"]=Y0C;d80P+=+"2";}if(G5XX.W60P(d80P.toString(),d80P.toString().length,+"6624") !== B80P){Z0C[""]=Y0C;}}x6r=g0C.Studies.initializeFN(b6r,t6r,Z0C,h6r,U6r,p6r);if(!b6r.currentlyImporting){x6r.defaultAnchorTime=Y0C;}return x6r;};g0C.Studies.validateProjectedVolumeLookback=function(I6r,s6r){var l8iE=G5XX;l8iE.g2iE();var m80P,T80P,e80P;var {interval:M6r, periodicity:i6r}=I6r.layout;l8iE.R0F7(6);m80P=-l8iE.N0F7("2078332038",0);T80P=-1587667581;e80P=2;for(var c80P=1;l8iE.W60P(c80P.toString(),c80P.toString().length,64799) !== m80P;c80P++){var {"Lookback Days":j6r}=s6r.inputs;l8iE.y0F7(145);return l8iE.N0F7(M6r,i6r,j6r,68);}if(l8iE.C60P(e80P.toString(),e80P.toString().length,"92344" & 2147483647) !== T80P){var {"Lookback Days":j6r}=s6r.inputs;l8iE.y0F7(146);return l8iE.n0F7(i6r,j6r,10,M6r);}};g0C.Studies.calculateProjectedVolume=function(A6r,a6r){var q8iE=G5XX;var C54P,h54P,p54P,F54P,P2r,S6r,n6r,A2r,y2r,h2r,r2r,G6r,c2r,L2r,O6r,T2r,U2r,q2r,p2r,r60P,a60P,A60P,J6r,M2r,v2r,H6r,g2r,Y6r,o6r,k2r,N6r,L6r,B2r,d2r,G2r,O2r,j2r,C2r,x2r,Y2r,o2r,W54P,v6r,g6r,t2r,Z2r,I2r,Q54P,D6r,D2r,f2r,s2r,m2r,Z6r,O54P;C54P="P";C54P+="V";C54P+=" ";h54P="hei";h54P+="k";h54P+="inashi";p54P="oh";p54P+="l";p54P+="c";F54P="P";F54P+="A";F54P+="V";function u2r(I8r,s8r){var j8r,C8r,i8r;j8r=H2r(I8r);C8r=l6r.getOpen(j8r) || u8r(j8r);i8r=e2r(C8r);if(!s8r){return i8r;}if(i8r < 0){i8r=e2r(l2r(C8r,1,! !{}));}if(i8r >= w6r.length){return !{};}return i8r;}var {interval:S2r, timeUnit:z2r, aggregationType:a2r}=A6r.layout;var {symbol:J2r, scroll:E2r, scrubbed:w6r, market:l6r}=A6r.chart;P2r=a6r.type === F54P;S6r=a6r.study?a6r.study.name:a6r.type;if(g0C.ChartEngine.isDailyInterval(S2r)){a6r.error=`${S6r} is Intraday Only`;}else if(z2r === "tick"){a6r.error=`Tick mode not supported for ${S6r}`;}else if(z2r !== "minute"){a6r.error=`Sub-minute periodicities not supported for ${S6r}`;}else if(!a2r || ![p54P,h54P].includes(a2r)){a6r.error=`Aggregation type not supported for ${S6r}`;}else if(!g0C.Studies.validateProjectedVolumeLookback(A6r,a6r)){a6r.error=`Selected lookback/periodicity combo not supported for ${S6r}`;}if(a6r.error){return;}if(a6r.inputs["Anchor Selector"]){g0C.Studies.initAnchorHandle(A6r,a6r);}else {g0C.Studies.removeAnchorHandle(A6r,a6r);}n6r=l6r?l6r.getNormalOpen():"00:00";if(n6r.match(/^[\d]{2}:[\d]{2}$/)){n6r+=":00";}if(!A6r.currentlyImporting && n6r !== a6r.defaultAnchorTime){a6r.defaultAnchorTime=n6r;a6r.inputs["Anchor Time"]=n6r;g0C.Studies.repositionAnchor(A6r,a6r);return;}function e2r(T8r){return A6r.tickFromDate(T8r,null,null,!"","scrubbed");}var {"Lookback Days":b2r, "Anchor Time":Q2r}=a6r.inputs;var [W2r,n2r,w2r = 0]=Q2r.split(":");A2r=g0C.Market.Symbology.isForexSymbol(J2r);y2r=a6r.getDependents(A6r);h2r=0;r2r=[];y2r.forEach(({inputs:b8r, outputMap:k8r})=>{if(b8r.Period){h2r=Math.max(parseInt(b8r.Period),h2r);r2r.push(...Object.keys(k8r));}});a6r.dependentsOutputMap=r2r;c2r=u2r(w6r.length - 1,! !1);L2r=Math.ceil(w6r.length - 1 - E2r);q8iE.R0F7(6);O6r=u2r(q8iE.N0F7(L2r,h2r));if(A2r && w6r[O6r] && g0C.dateToStr(w6r[O6r].DT,"HH:mm") !== n6r){q8iE.R0F7(6);O6r=u2r(q8iE.n0F7(O6r,1));;}function H2r(U8r){q8iE.g2iE();return A6r.dateFromTick(U8r,null,! ![],"scrubbed");}function N2r(x8r){console.error(`Expected data for ${H2r(x8r).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}if(!A2r && a6r.startFrom > O6r && w6r[O6r] && w6r[O6r]["V " + a6r.name] !== undefined && r2r.every(F8r=>{q8iE.m2iE();return ![undefined,null].includes(w6r[O6r][F8r]);}) && c2r !== ![]){G6r=c2r;;}else {G6r=O6r;}T2r=l2r(H2r(O6r),b2r);q8iE.y0F7(35);T2r.setHours(+"0",q8iE.n0F7("0",0),0);U2r=u2r(0,! ![]);q2r=(U2r || U2r === 0) && e2r(l2r(w6r[U2r].DT,b2r,!""));if(w6r[0].DT > T2r){if(A6r.quoteDriver){A6r.quoteDriver.extendHistoricalData({from:T2r});if(q2r > +"0"){G6r=q2r;}else {return;}}else {return a6r.error=`Not enough data to calculate ${S6r}`;}}function l2r(h8r,r8r,c8r){while(r8r){h8r=new Date(new Date(h8r).setDate(h8r.getDate() + (c8r?1:-1)));if(l6r.isMarketDate(h8r)){r8r--;}}return h8r;}if(G6r < 0 || G6r > w6r.length - 1){return;}p2r=w6r.length - a6r.startFrom === 1 && a6r.cachedFutureTicks && a6r.cachedLastProjection && +a6r.cachedLastProjection.DT === +w6r[w6r.length - 1].DT && w6r[G6r][C54P + a6r.name];if(p2r){r60P=-1163808418;a60P=1751974221;q8iE.R0F7(22);A60P=q8iE.n0F7(1,"2");for(var n60P=1;q8iE.W60P(n60P.toString(),n60P.toString().length,36533) !== r60P;n60P++){q8iE.R0F7(83);var h7BP=q8iE.n0F7(6,1,1);w6r[w6r.length + h7BP]["" * a6r.name]=a6r.cachedLastProjection.projectedValue;a6r.appendFutureTicks(A6r,a6r.cachedFutureTicks);A60P+=2;}if(q8iE.W60P(A60P.toString(),A60P.toString().length,80162) !== a60P){q8iE.y0F7(147);var C7BP=q8iE.N0F7(8,136,289,17,7);w6r[w6r.length / C7BP]["" / a6r.name]=a6r.cachedLastProjection.projectedValue;a6r.appendFutureTicks(A6r,a6r.cachedFutureTicks);}q8iE.y0F7(2);var W7BP=q8iE.n0F7(1,0);w6r[w6r.length - W7BP]["PV " + a6r.name]=a6r.cachedLastProjection.projectedValue;a6r.appendFutureTicks(A6r,a6r.cachedFutureTicks);G6r=a6r.startFrom;}else {a6r.cachedFutureTicks=null;a6r.cachedLastProjection=null;J6r=[c2r];M2r=[];for(var K2r=0;K2r < b2r;K2r++){v2r=u2r(J6r[0] - 1);J6r.unshift(v2r);;}while(J6r[b2r] >= G6r){H6r=J6r.pop();if(!w6r[H6r]){return N2r(H6r);}g2r=R6r(w6r[H6r].DT);var {hours:E6r, minutes:X6r}=g2r;Y6r=l6r.getClose(w6r[H6r].DT);o6r=void 0;if(!Y6r){o6r={hours:24,minutes:0};}else {k2r=l6r.getNextClose(w6r[H6r].DT);o6r=R6r(Y6r);while(!(o6r.hours === 0 && o6r.minutes === 0) && Y6r.getDate() === k2r.getDate()){Y6r=k2r;k2r=l6r.getNextClose(k2r);}o6r=R6r(Y6r);if(o6r.hours === 0){o6r.hours=24;}}N6r=J6r.slice();for(var F2r=0;F2r < N6r.length;F2r++){L6r=N6r[F2r];if(!w6r[L6r]){return N2r(L6r);}var {hours:V2r, minutes:i2r}=R6r(w6r[L6r].DT);if(V2r < E6r || V2r === E6r && i2r < X6r){do {L6r++;({hours:V2r, minutes:i2r}=R6r(w6r[L6r].DT));}while(!(V2r === E6r && i2r === X6r));}N6r[F2r]=L6r;}while(E6r < o6r.hours || E6r === o6r.hours && X6r < o6r.minutes){B2r=!{};d2r=void 0;G2r=void 0;O2r=0;j2r=0;for(var Q6r=0;Q6r < N6r.length;Q6r++){C2r=N6r[Q6r];if(C2r === null)continue;x2r=w6r[C2r];if(!x2r){return N2r(C2r);}var {hours:R2r, minutes:X2r}=R6r(x2r.DT);Y2r=x2r.DT.getDate();if(R2r === E6r && X2r === X6r){O2r+=x2r.Volume;j2r++;N6r[Q6r]++;if(w6r[N6r[Q6r]].DT.getDate() !== Y2r){N6r[Q6r]=null;}else if(!B2r){({hours:d2r, minutes:G2r}=R6r(w6r[N6r[Q6r]].DT));B2r=! !1;;}}}E6r=d2r;X6r=G2r;if(j2r === 0)break;q8iE.y0F7(10);o2r=q8iE.n0F7(O2r,j2r);if(w6r[H6r]){w6r[H6r]["PV " + a6r.name]=o2r;}else {W54P="P";W54P+="V";W54P+=" ";M2r.push({[W54P + a6r.name]:o2r});}H6r++;}J6r.unshift(u2r(J6r[0] - 1));;}a6r.cachedLastProjection={DT:w6r[w6r.length - 1].DT,projectedValue:w6r[w6r.length - 1]["PV " + a6r.name]};a6r.cachedFutureTicks=M2r;a6r.appendFutureTicks(A6r,M2r);}v6r=null;g6r=0;t2r=0;function R6r(t8r){return {hours:t8r.getHours(),minutes:t8r.getMinutes()};}if(p2r && P2r){while(G6r > 0){q8iE.y0F7(6);I2r=w6r[q8iE.N0F7(G6r,1)]["V " + a6r.name];if(I2r || I2r === ("0" | 0)){g6r=I2r;break;}G6r--;}}function u8r(p8r){var M8r;p8r.setHours(0);q8iE.m2iE();p8r.setMinutes(0);M8r=g0C.Studies.getMarketOffset({stx:A6r,localQuoteDate:p8r});return new Date(p8r.getTime() + M8r);}for(var W6r=G6r;W6r < w6r.length;W6r++){Q54P="P";Q54P+="V";Q54P+=" ";D6r=w6r[W6r];D2r=D6r.Volume;f2r=D6r["PV " + a6r.name];if(!D6r.futureTick){Z2r=W6r;}if(v6r === null){v6r=g0C.Studies.getMarketOffset({stx:A6r,localQuoteDate:w6r[W6r].DT,shiftToDateBoundary:! ![]});}s2r=new Date(new Date(D6r.DT).getTime() + v6r);m2r=w6r[W6r - 1] && new Date(new Date(w6r[W6r - 1].DT).getTime() + v6r);Z6r=new X0C.Date(D6r.DT,l6r.market_def.market_tz || "America/New_York");Z6r.setHours(W2r,n2r,w2r);q8iE.R0F7(2);Z6r=new Date(q8iE.N0F7(v6r,Z6r));Z6r.setDate(s2r.getDate());if(m2r && s2r.getDate() !== m2r.getDate()){v6r=null;g6r=0;q8iE.R0F7(0);t2r=q8iE.n0F7(1732555840,"0");}if(s2r < Z6r){O54P="V";O54P+=" ";D6r[O54P + a6r.name]=0;D6r["PV " + a6r.name]=0;continue;}if(P2r){g6r+=D2r;t2r+=f2r;}else {g6r=D2r;t2r=f2r;}D6r["V " + a6r.name]=g6r;if(!p2r){D6r[Q54P + a6r.name]=t2r;}if([NaN,null,undefined].includes(g6r) && !D6r.futureTick){a6r.error=`${S6r} requires volume`;return;}}a6r.cachedLastProjection.projectedValue=w6r[Z2r]["PV " + a6r.name];a6r.outputMap={};a6r.outputMap["V " + a6r.name]="";a6r.outputMap["PV " + a6r.name]="Average Line";y2r.forEach(V8r=>{V8r.startFrom=G6r;q8iE.g2iE();V8r.study.calculateFN(A6r,V8r);});};g0C.Studies.displayProjectedVolume=function(a8r,z8r,P8r){var O8iE=G5XX;var l54P,y8r,w8r,q8r,K8r,B8r,G8r,O8r;l54P="V";l54P+=" ";if(z8r.error){return g0C.Studies.removeAnchorHandle(a8r,z8r);}var {"Alert Threshold":A8r = ""}=z8r.inputs;O8iE.R0F7(4);var O7BP=O8iE.n0F7(13,10,24);O8iE.y0F7(1);var Q7BP=O8iE.n0F7(4,10,40,1);O8iE.y0F7(78);var l7BP=O8iE.n0F7(10,906,16,12,1000);y8r=parseInt(A8r.slice(+"0",O7BP),Q7BP) / l7BP;w8r=z8r.outputs["Alert Bar"];if(typeof w8r === "object"){w8r=w8r.color;}z8r.volumeField=l54P + z8r.name;z8r.plotStepLine=! ![];z8r.alignStepToSide=!"";z8r.extendToEndOfLastBar=! !"1";z8r.lineWidth=2;q8r=a8r.canvasStyle("stx_volume_underlay_up").opacity;K8r=a8r.canvasStyle("stx_volume_underlay_down").opacity;z8r.colorFunction=function(D8r){var S8r,o8r,J8r,f8r,m8r,N8r;var {Open:l8r, Close:e8r, iqPrevClose:H8r}=D8r;S8r=a8r.colorByCandleDirection?l8r:H8r;O8iE.y0F7(148);o8r=O8iE.n0F7(S8r,e8r);J8r=D8r["PV " + z8r.name];f8r=D8r["V " + z8r.name];O8iE.y0F7(149);m8r=O8iE.n0F7(J8r,y8r,1);N8r=y8r < 0?f8r < m8r:f8r > m8r;return {fill_color:N8r && w8r || (o8r?this.fill_color_down:this.fill_color_up),border_color:o8r?this.border_color_down:this.border_color_up,opacity:N8r?1:o8r?K8r:q8r,border_opacity:o8r?K8r:q8r};};B8r=z8r.study?z8r.study.name:z8r.type;var {loadingMore:d8r}=a8r.chart;G8r=P8r.some(E8r=>{return E8r && E8r[z8r.volumeField] && E8r["PV " + z8r.name];});O8r=P8r[0] && !P8r[0].futureTick && (P8r[0]["PV " + z8r.name] === undefined || (z8r.dependentsOutputMap || []).some(Q8r=>{O8iE.m2iE();return [undefined,null].includes(P8r[0][Q8r]);}));if(!G8r && d8r){return z8r.error=`Fetching data for ${B8r}`;}g0C.Studies.createVolumeChart(a8r,z8r,P8r);g0C.Studies.displaySeriesAsLine(a8r,z8r,P8r);if(z8r.anchorHandle){g0C.Studies.displayAnchorHandleAndLine(a8r,z8r,P8r);}if(O8r){g0C.Studies.calculateProjectedVolume(a8r,z8r);}};g0C.Studies.studyLibrary=g0C.extend(g0C.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:B54P,yAxis:{ground:! !{},initialMarginTop:0,zoom:0},calculateFN:g0C.Studies.calculateProjectedVolume,seriesFN:g0C.Studies.displayProjectedVolume,initializeFN:g0C.Studies.initProjectedVolume,removeFN:g0C.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":[d54P,U54P,"+100%",w54P,o54P,"+25%","None","-25%","-50%","-75%",u54P,"-125%",N54P],"Anchor Selector":! !"1"},outputs:{"Average Line":r54P,"Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":a54P},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:A54P,yAxis:{ground:! ![],initialMarginTop:"0" & 2147483647,zoom:"0" | 0},calculateFN:g0C.Studies.calculateProjectedVolume,seriesFN:g0C.Studies.displayProjectedVolume,initializeFN:g0C.Studies.initProjectedVolume,removeFN:g0C.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! ![]},outputs:{"Average Line":j54P,"Up Volume":"#8cc176","Down Volume":"#b82c0c"},attributes:{"Anchor Time":{placeholder:n54P,step:1}}}});}};N6M=n8r=>{var W8r,v54P,x54P;G5XX.m2iE();W8r=typeof _CIQ !== "undefined"?_CIQ:n8r.CIQ;if(!W8r.Studies){v54P="psychologicalLine feature requ";v54P+="ires first ac";v54P+="tivating stud";v54P+="ies feature.";console.error(v54P);}else {x54P="0";x54P+=" t";x54P+="o 10";x54P+="0";W8r.Studies.calculatePsychologicalLine=function(u3r,L8r){var f8iE=G5XX;f8iE.g2iE();var g8r,R8r,Y8r,X8r,g54P,Z8r;g8r=L8r.chart.scrubbed;if(g8r.length < L8r.days + 1){L8r.error=! !"1";return;}R8r=[];f8iE.y0F7(41);var B7BP=f8iE.n0F7(1500,750,17,115);Y8r=B7BP / L8r.days;f8iE.R0F7(40);X8r=f8iE.N0F7("0",0);for(var v8r=Math.max(L8r.startFrom - L8r.days,1);v8r < g8r.length;v8r++){g54P="R";g54P+="e";g54P+="s";g54P+="ult ";if(g8r[v8r].futureTick)break;Z8r=Number(g8r[v8r].Close > g8r[v8r - 1].Close);if(Z8r){X8r+=Y8r;}R8r.push(Z8r);if(R8r.length > L8r.days){X8r-=R8r.shift() * Y8r;}if(v8r < L8r.startFrom)continue;if(!isNaN(g8r[v8r].Close)){g8r[v8r][g54P + L8r.name]=X8r;}}};W8r.Studies.studyLibrary=W8r.extend(W8r.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:x54P,calculateFN:W8r.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};l6M=k3r=>{var b3r,S54P;b3r=typeof _CIQ !== "undefined"?_CIQ:k3r.CIQ;if(!b3r.Studies){console.error("qstick feature requires first activating studies feature.");}else {S54P="QSt";S54P+="ick";b3r.Studies.calculateQStick=function(t3r,F3r){var M54P,V3r;M54P="Re";G5XX.g2iE();M54P+="sul";M54P+="t";V3r=F3r.chart.scrubbed;if(V3r.length < F3r.days + 1){F3r.error=!0;return;}for(var x3r=F3r.startFrom;x3r < V3r.length;x3r++){V3r[x3r]["_Close-Open " + F3r.name]=V3r[x3r].Close - V3r[x3r].Open;}b3r.Studies.MA(F3r.inputs["Moving Average Type"],F3r.days,"_Close-Open " + F3r.name,0,M54P,t3r,F3r);};b3r.Studies.studyLibrary=b3r.extend(b3r.Studies.studyLibrary,{QStick:{name:S54P,calculateFN:b3r.Studies.calculateQStick,inputs:{Period:"8" ^ 0,"Moving Average Type":"ma"}}});}};e6M=r3r=>{var j2iE=G5XX;j2iE.m2iE();var h3r,c30P,f30P,I30P,a30P,A30P,j30P,Y14P,R14P,Z54P,e14P,T14P,m14P,b14P,q14P,K14P,t14P,i14P,L14P;h3r=typeof _CIQ !== "undefined"?_CIQ:r3r.CIQ;if(!h3r.Studies){c30P=812485528;f30P=- +"2063667246";I30P=2;for(var F30P=1;j2iE.C60P(F30P.toString(),F30P.toString().length,56912) !== c30P;F30P++){console.error("");I30P+=2;}if(j2iE.C60P(I30P.toString(),I30P.toString().length,3212) !== f30P){console.error("rainbow feature requires first activating studies feature.");}}else {h3r.Studies.calculateRainbow=function(P3r,c3r){var z54P,J54P,T3r,M3r,z3r,H54P,D54P,X54P,a3r,C3r,I3r,s3r,i3r,j3r,E54P,V54P,G54P;z54P="O";z54P+="s";z54P+="c";function w3r(B3r,K3r){var y3r,q3r;j2iE.R0F7(103);var d7BP=j2iE.n0F7(0,5,3,21,10);y3r=Number.MAX_VALUE * d7BP;q3r=Number.MAX_VALUE;j2iE.g2iE();for(var A3r=K3r - B3r + 1;A3r <= K3r;A3r++){if(A3r < 0)continue;y3r=Math.max(y3r,T3r[A3r].Close);q3r=Math.min(q3r,T3r[A3r].Close);}return [q3r,y3r];}J54P="f";J54P+="ie";J54P+="l";J54P+="d";T3r=c3r.chart.scrubbed;if(T3r.length < c3r.days + 1){c3r.error=! ![];return;}M3r=c3r.inputs.Field;if(!M3r || M3r == J54P){M3r="Close";}z3r=M3r;for(var p3r=+"1";p3r <= 10;p3r++){H54P="S";H54P+="M";H54P+="A";D54P="S";D54P+="MA";X54P="simp";X54P+="l";X54P+="e";h3r.Studies.MA(X54P,c3r.days,z3r,0,D54P + p3r,P3r,c3r);z3r=H54P + p3r + " " + c3r.name;}for(var U3r=Math.max(c3r.startFrom,10);U3r < T3r.length;U3r++){if(!T3r[U3r])continue;if(T3r[U3r].futureTick)break;a3r=0;C3r=0;j2iE.R0F7(6);var U7BP=j2iE.n0F7(8,9);I3r=Number.MAX_VALUE * U7BP;s3r=Number.MAX_VALUE;for(p3r=1;p3r <= 10;p3r++){j2iE.R0F7(150);var w7BP=j2iE.n0F7(9,16,14,6956,5178);j2iE.R0F7(2);var o7BP=j2iE.n0F7(8391,599);j2iE.y0F7(7);var u7BP=j2iE.n0F7(4050,9,19);j2iE.y0F7(119);var N7BP=j2iE.n0F7(16,14,5208,1,10);j2iE.y0F7(59);var r7BP=j2iE.n0F7(6,338305952,338305952);i3r=T3r[U3r]["SMA" + p3r + (95.48 >= +"7694"?(+"6990",652.3) <= (w7BP,o7BP)?u7BP != (723.44,996.07)?(N7BP,"185.37" - 0):880.52:"3.11e+3" >> r7BP:" ") + c3r.name];if(i3r || i3r === 0){a3r+=i3r;C3r++;I3r=Math.max(I3r,i3r);s3r=Math.min(s3r,i3r);}}if(c3r.name.indexOf("Osc") > -1){j3r=w3r(c3r.inputs["HHV/LLV Lookback"],U3r);if(C3r){E54P="O";E54P+="v";E54P+="er ";V54P="_h";V54P+="i";V54P+="st";j2iE.R0F7(4);var a7BP=j2iE.n0F7(0,12,11);T3r[U3r][c3r.name + V54P]=("100" - 0) * (T3r[U3r][M3r] - a3r / C3r) / Math.max(0.000001,j3r[a7BP] - j3r[0]);j2iE.R0F7(31);var A7BP=j2iE.n0F7(5,14,82,3,311);j2iE.y0F7(30);var j7BP=j2iE.n0F7(16,33,2);T3r[U3r]["Over " + c3r.name]=A7BP * (I3r - s3r) / Math.max(0.000001,j3r[j7BP] - j3r[0]);T3r[U3r]["Under " + c3r.name]=-T3r[U3r][E54P + c3r.name];T3r[U3r]["Zero " + c3r.name]=0;}}}if(c3r.name.indexOf(z54P) > -1){G54P="Positive";G54P+=" B";G54P+="ar";c3r.outputMap={};c3r.outputMap["Over " + c3r.name]=G54P;c3r.outputMap["Under " + c3r.name]="Negative Bar";c3r.outputMap["Zero " + c3r.name]="";c3r.outputMap[c3r.name + "_hist"]="";}};h3r.Studies.displayRainbowMA=function(O3r,G3r,D3r){var o3r,s54P;o3r=O3r.panels[G3r.panel];for(var d3r=+"10";d3r > "0" >> 110851264;d3r--){s54P="S";s54P+="M";s54P+="A";h3r.Studies.displayIndividualSeriesAsLine(O3r,G3r,o3r,s54P + d3r + (1240 !== (429,786.35)?" ":(7945,2955) > +"6.02"?(3130,"9364" >> 972593888) > (1780,"5517" - 0)?("x","c"):4.58e+3:(1.36e+3,0xb4d)) + G3r.name,D3r);}};h3r.Studies.displayRainbowOsc=function(m3r,f3r,g3r){var y54P,e3r,l3r,N3r,J3r,E3r,W3r,n3r,L3r,v3r,S3r,H3r;y54P="Pos";y54P+="itive B";y54P+="ar";h3r.Studies.displaySeriesAsLine(m3r,f3r,g3r);e3r=m3r.panels[f3r.panel];l3r=f3r.getContext(m3r);N3r=f3r.getYAxis(m3r);m3r.startClip(f3r.panel);if(!f3r.highlight && m3r.highlightedDraggable){l3r.globalAlpha*=0.3;}J3r=m3r.pixelFromPrice(0,e3r,N3r);E3r=e3r.name != f3r.chart.name;W3r=h3r.Studies.determineColor(f3r.outputs[y54P]);l3r.strokeStyle=W3r;m3r.plotDataSegmentAsLine("Over " + f3r.name,e3r,{skipTransform:E3r,label:!{},yAxis:N3r});j2iE.R0F7(22);n3r=l3r.createLinearGradient(j2iE.N0F7(1,"0"),J3r,0,N3r.flipped?N3r.bottom:N3r.top);n3r.addColorStop(0,m3r.containerColor);n3r.addColorStop(1,W3r);h3r.prepareChannelFill(m3r,{skipTransform:E3r,color:n3r,opacity:!f3r.highlight && m3r.highlightedDraggable?0.3:1,panelName:f3r.panel,topBand:"Over " + f3r.name,bottomBand:"Zero " + f3r.name,yAxis:N3r});L3r=h3r.Studies.determineColor(f3r.outputs["Negative Bar"]);l3r.strokeStyle=L3r;m3r.plotDataSegmentAsLine("Under " + f3r.name,e3r,{skipTransform:E3r,label:!1,yAxis:N3r});v3r=l3r.createLinearGradient(0,J3r,0,N3r.flipped?N3r.top:N3r.bottom);v3r.addColorStop(0,m3r.containerColor);v3r.addColorStop(1,L3r);h3r.prepareChannelFill(m3r,{skipTransform:E3r,color:v3r,opacity:!f3r.highlight && m3r.highlightedDraggable?0.3:+"1",panelName:f3r.panel,topBand:"Zero " + f3r.name,bottomBand:"Under " + f3r.name,yAxis:N3r});S3r=m3r.layout.candleWidth - +"2";if(S3r < 2){S3r=1;}m3r.canvasColor("stx_histogram");if(!f3r.underlay){l3r.globalAlpha=1;}if(!f3r.highlight && m3r.highlightedDraggable){l3r.globalAlpha*=+"0.3";}l3r.fillStyle="#CCCCCC";j2iE.m2iE();for(var Q3r=0;Q3r < g3r.length;Q3r++){H3r=g3r[Q3r];if(!H3r)continue;if(H3r[f3r.name + "_hist"] > 0){l3r.fillStyle=W3r;}else if(H3r[f3r.name + "_hist"] < 0){l3r.fillStyle=L3r;}if(H3r.candleWidth){S3r=Math.floor(Math.max(+"1",H3r.candleWidth - 2));}l3r.fillRect(Math.floor(m3r.pixelFromBar(Q3r,e3r.chart) - S3r / 2),Math.floor(J3r),Math.floor(S3r),Math.floor(m3r.pixelFromPrice(H3r[f3r.name + "_hist"],e3r,N3r) - J3r));}m3r.endClip();};a30P=- +"543163515";A30P=-405291990;j30P=2;for(var v30P=1;j2iE.C60P(v30P.toString(),v30P.toString().length,6615) !== a30P;v30P++){Y14P="#F";Y14P+="F";Y14P+="00F";Y14P+="F";R14P="Rai";R14P+="n";R14P+="bow Osc";Z54P="#7";Z54P+="F";Z54P+="FF";Z54P+="00";h3r.Studies.studyLibrary=h3r.extend(h3r.Studies.studyLibrary,{"Rainbow MA":{name:"#7FFF00",overlay:![],calculateFN:h3r.Studies.calculateRainbow,seriesFN:h3r.Studies.displayRainbowMA,inputs:{Period:1,Field:"#7F00FF"},outputs:{SMA1:"Negative Bar",SMA2:"#FF00FF",SMA3:Z54P,SMA4:"#00DD00",SMA5:"Rainbow Osc",SMA6:R14P,SMA7:"#7FFF00",SMA8:"Rainbow Osc",SMA9:"Rainbow MA",SMA10:"Rainbow Oscillator"}},"Rainbow Osc":{name:"Rainbow MA",calculateFN:h3r.Studies.calculateRainbow,seriesFN:h3r.Studies.displayRainbowOsc,centerline:"3" | 0,inputs:{Period:+"3",Field:"HHV/LLV Lookback","HHV/LLV Lookback":82},outputs:{"Positive Bar":"Positive Bar","Negative Bar":Y14P}}});j30P+=+"2";}if(j2iE.C60P(j30P.toString(),j30P.toString().length,34994) !== A30P){e14P="#FF";e14P+="0000";T14P="fi";T14P+="e";T14P+="ld";m14P="Rainbow";m14P+=" Osci";m14P+="llator";b14P="#";b14P+="F";b14P+="F00F";b14P+="F";q14P="#0";q14P+="0";q14P+="00FF";K14P="#0";K14P+="0F";K14P+="FFF";t14P="#";t14P+="F";t14P+="F";t14P+="FF00";i14P="fi";i14P+="eld";L14P="Rainbow Movin";L14P+="g Averag";L14P+="e";h3r.Studies.studyLibrary=h3r.extend(h3r.Studies.studyLibrary,{"Rainbow MA":{name:L14P,overlay:! ![],calculateFN:h3r.Studies.calculateRainbow,seriesFN:h3r.Studies.displayRainbowMA,inputs:{Period:2,Field:i14P},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:t14P,SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:K14P,SMA7:"#007FFF",SMA8:q14P,SMA9:"#7F00FF",SMA10:b14P}},"Rainbow Osc":{name:m14P,calculateFN:h3r.Studies.calculateRainbow,seriesFN:h3r.Studies.displayRainbowOsc,centerline:0,inputs:{Period:2,Field:T14P,"HHV/LLV Lookback":10},outputs:{"Positive Bar":"#00DD00","Negative Bar":e14P}}});}}};H6M=X3r=>{var R3r;R3r=typeof _CIQ !== "undefined"?_CIQ:X3r.CIQ;if(!R3r.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {R3r.Studies.calculateRandomWalk=function(b7r,t4r){var Z3r,H90P,V90P,E90P,W4r,X4r,Y4r,c4r,I4r,a4r,Z4r,u7r;Z3r=t4r.chart.scrubbed;if(Z3r.length < t4r.days + 1){t4r.error=! !{};H90P=-330131953;V90P=925208455;E90P=2;for(var G90P=+"1";G5XX.C60P(G90P.toString(),G90P.toString().length,63186) !== H90P;G90P++){return;}if(G5XX.C60P(E90P.toString(),E90P.toString().length,+"34827") !== V90P){return;}}for(var Y3r=Math.max(2,t4r.startFrom);Y3r < Z3r.length;Y3r++){W4r=0;X4r=Z3r[Y3r].High;Y4r=Z3r[Y3r].Low;c4r=0;I4r=0;for(var b4r=1;b4r <= t4r.days;b4r++){if(Z3r[Y3r].futureTick)break;if(Y3r <= b4r){G5XX.y0F7(35);c4r=I4r=G5XX.N0F7("0",0);break;}W4r+=Z3r[Y3r - b4r].trueRange;a4r=W4r / b4r * Math.sqrt(b4r);if(a4r){Z4r=(X4r - Z3r[Y3r - b4r].Low) / a4r;u7r=(Z3r[Y3r - b4r].High - Y4r) / a4r;c4r=Math.max(c4r,Z4r);I4r=Math.max(I4r,u7r);}}if(!Z3r[Y3r].futureTick && (!isNaN(X4r) || !isNaN(Y4r))){Z3r[Y3r]["Random Walk High " + t4r.name]=c4r;Z3r[Y3r]["Random Walk Low " + t4r.name]=I4r;}}};R3r.Studies.studyLibrary=R3r.extend(R3r.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:R3r.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};S6M=F7r=>{var k7r,k14P,I14P;k7r=typeof _CIQ !== "undefined"?_CIQ:F7r.CIQ;if(!k7r.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {k14P="#";k14P+="00DD";k14P+="00";I14P="a";I14P+="uto";k7r.Studies.calculateRelativeVigor=function(p7r,V7r){var u8iE=G5XX;var P14P,t7r,o80P,u80P,N80P,x7r,h7r,c7r,T7r,f14P,c14P,M7r,U7r,r7r;P14P="_";P14P+="Range";P14P+=" ";t7r=V7r.chart.scrubbed;if(t7r.length < V7r.days + 1){o80P=-1780058432;u80P=- +"832468828";N80P=2;for(var a80P=1;u8iE.W60P(a80P.toString(),a80P.toString().length,21456) !== o80P;a80P++){V7r.error=! !{};N80P+=2;}if(u8iE.W60P(N80P.toString(),N80P.toString().length,15644) !== u80P){V7r.error=!{};}return;}for(x7r=V7r.startFrom;x7r < t7r.length;x7r++){h7r=t7r[x7r];if(!isNaN(h7r.Close) && !isNaN(h7r.Open)){h7r["_Change " + V7r.name]=h7r.Close - h7r.Open;}if(!isNaN(h7r.High) && !isNaN(h7r.Low)){h7r["_Range " + V7r.name]=h7r.High - h7r.Low;}}k7r.Studies.MA("triangular",4,"_Change " + V7r.name,0,"_Numer",p7r,V7r);u8iE.R0F7(38);k7r.Studies.MA("triangular",u8iE.n0F7("4",2147483647),P14P + V7r.name,0,"_Denom",p7r,V7r);c7r=[];T7r=[];for(x7r=Math.max(V7r.startFrom - V7r.days,0);x7r < t7r.length;x7r++){f14P="_";f14P+="Numer ";c14P="_D";c14P+="e";c14P+="nom ";if(t7r[x7r].futureTick)break;if(t7r[x7r]["_Numer " + V7r.name] === null && t7r[x7r][c14P + V7r.name] === null)continue;c7r.push(t7r[x7r][f14P + V7r.name]);T7r.push(t7r[x7r]["_Denom " + V7r.name]);if(c7r.length > V7r.days){c7r.shift();T7r.shift();}M7r=0;U7r=0;for(r7r=0;r7r < c7r.length;r7r++){M7r+=c7r[r7r];}for(r7r=+"0";r7r < T7r.length;r7r++){U7r+=T7r[r7r];}if(U7r === 0){U7r=0.00000001;}if(x7r < V7r.startFrom)continue;u8iE.R0F7(10);t7r[x7r]["Rel Vig " + V7r.name]=u8iE.N0F7(M7r,U7r);}k7r.Studies.MA("triangular",4,"Rel Vig " + V7r.name,0,"RelVigSignal",p7r,V7r);for(x7r=V7r.startFrom;x7r < t7r.length;x7r++){t7r[x7r][V7r.name + "_hist"]=t7r[x7r]["Rel Vig " + V7r.name] - t7r[x7r]["RelVigSignal " + V7r.name];}V7r.outputMap[V7r.name + "_hist"]="";};k7r.Studies.studyLibrary=k7r.extend(k7r.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:k7r.Studies.displayHistogramWithSeries,calculateFN:k7r.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":I14P,RelVigSignal:"#FF0000","Increasing Bar":k14P,"Decreasing Bar":"#FF0000"}}});}};J6M=j7r=>{var i7r,q50P,b50P,m50P,p14P,W14P,C14P,h14P;i7r=typeof _CIQ !== "undefined"?_CIQ:j7r.CIQ;G5XX.m2iE();if(!i7r.Studies){console.error("rsi feature requires first activating studies feature.");}else {i7r.Studies.calculateRSI=function(B7r,C7r){var p8iE=G5XX;var A7r,I7r,F14P,P7r,w7r,y7r,q7r,s7r,z7r;A7r=C7r.chart.scrubbed;p8iE.m2iE();I7r=C7r.inputs.Field;function K7r(O7r,d7r){var G7r;if(d7r === 0){return 100;}p8iE.R0F7(10);G7r=p8iE.n0F7(O7r,d7r);p8iE.y0F7(151);return p8iE.n0F7(100,1,G7r,"100",1437761536);}if(!I7r || I7r == "field"){I7r="Close";}if(A7r.length < C7r.days + 1){C7r.error=!"";return;}for(var a7r=C7r.startFrom;a7r < A7r.length;a7r++){F14P="_av";F14P+="g";F14P+="G";F14P+=" ";if(!a7r)continue;P7r=A7r[a7r];p8iE.R0F7(6);w7r=A7r[p8iE.n0F7(a7r,1)];if(!P7r[I7r] && P7r[I7r] !== 0)continue;if(!w7r[I7r] && w7r[I7r] !== 0)continue;y7r=P7r[I7r] - w7r[I7r];q7r=Math.min(a7r,C7r.days);s7r=w7r[F14P + C7r.name];if(!s7r){s7r=0;}p8iE.R0F7(10);s7r-=p8iE.N0F7(s7r,q7r);z7r=w7r["_avgL " + C7r.name];if(!z7r){z7r=+"0";}p8iE.y0F7(10);z7r-=p8iE.N0F7(z7r,q7r);if(y7r > 0){p8iE.y0F7(10);s7r+=p8iE.N0F7(y7r,q7r);}else if(y7r <= 0){p8iE.R0F7(10);z7r-=p8iE.n0F7(y7r,q7r);}else continue;if(a7r >= C7r.days){if((s7r || s7r !== 0) && (z7r || z7r !== 0)){P7r["RSI " + C7r.name]=K7r(s7r,z7r);}}P7r["_avgG " + C7r.name]=s7r;P7r["_avgL " + C7r.name]=z7r;}C7r.zoneOutput="RSI";};q50P=842544692;b50P=+"1088214874";m50P=2;for(var e50P="1" ^ 0;G5XX.C60P(e50P.toString(),e50P.toString().length,76360) !== q50P;e50P++){p14P="a";p14P+="u";p14P+="t";p14P+="o";i7r.Studies.studyLibrary=i7r.extend(i7r.Studies.studyLibrary,{rsi:{name:"0 to 100",inputs:{Period:87,Field:"0 to 100"},calculateFN:i7r.Studies.calculateRSI,range:"auto",outputs:{RSI:"0 to 100"},parameters:{init:{studyOverZonesEnabled:!{},studyOverBoughtValue:18,studyOverBoughtColor:p14P,studyOverSoldValue:"76" - 0,studyOverSoldColor:"auto"}}}});m50P+=2;}if(G5XX.W60P(m50P.toString(),m50P.toString().length,"65554" * 1) !== b50P){W14P="a";W14P+="u";W14P+="to";C14P="a";C14P+="u";C14P+="t";C14P+="o";h14P="R";h14P+="S";h14P+="I";i7r.Studies.studyLibrary=i7r.extend(i7r.Studies.studyLibrary,{rsi:{name:h14P,inputs:{Period:+"14",Field:"field"},calculateFN:i7r.Studies.calculateRSI,range:"0 to 100",outputs:{RSI:C14P},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:W14P}}}});}}};E6M=D7r=>{var o7r,d14P,B14P;o7r=typeof _CIQ !== "undefined"?_CIQ:D7r.CIQ;G5XX.g2iE();if(!o7r.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {d14P="au";d14P+="t";d14P+="o";B14P="0 to ";B14P+="100";o7r.Studies.calculateSchaff=function(X7r,f7r){var M8iE=G5XX;var l7r,H7r,g7r,S7r,J7r,R7r,E7r,Q7r,l14P,O14P,e7r,W7r,n7r,Q14P,L7r,N7r,v7r;l7r=f7r.chart.scrubbed;H7r=f7r.days;g7r=Number(f7r.inputs["Short Cycle"]);S7r=Number(f7r.inputs["Long Cycle"]);if(l7r.length < Math.max(H7r,g7r,S7r) + 1){f7r.error=! !1;return;}M8iE.m2iE();J7r=f7r.inputs.Field;if(!J7r || J7r == "field"){J7r="Close";}M8iE.y0F7(22);R7r=M8iE.n0F7(1,"0.5");o7r.Studies.MA(f7r.inputs["Moving Average Type"],g7r,J7r,0,"_MACD1",X7r,f7r);o7r.Studies.MA(f7r.inputs["Moving Average Type"],S7r,J7r,0,"_MACD2",X7r,f7r);E7r=0;M8iE.R0F7(0);Q7r=M8iE.N0F7(1598705920,"0");for(var m7r=f7r.startFrom;m7r < l7r.length;m7r++){l14P="_";l14P+="P";l14P+="F";O14P="_M";O14P+="AC";O14P+="D2 ";e7r=l7r[m7r];if(m7r < S7r - 1)continue;W7r=e7r["_MACD1 " + f7r.name];n7r=e7r[O14P + f7r.name];if(W7r || W7r === +"0" || n7r || n7r === 0){Q14P="_M";Q14P+="AC";Q14P+="D";Q14P+=" ";M8iE.R0F7(6);e7r[Q14P + f7r.name]=M8iE.N0F7(W7r,n7r);}L7r=e7r["_MACD " + f7r.name];if(m7r < S7r + (H7r - ("1" ^ 0)))continue;N7r=Y7r(H7r,m7r,"_MACD");E7r=N7r[1] > N7r[+"0"]?100 * (L7r - N7r[0]) / (N7r[1] - N7r[0]):E7r;if(L7r || L7r === 0){e7r["_PF " + f7r.name]=l7r[m7r - +"1"]["_PF " + f7r.name]?l7r[m7r - 1]["_PF " + f7r.name] + R7r * (E7r - l7r[m7r - 1]["_PF " + f7r.name]):E7r;}v7r=e7r["_PF " + f7r.name];if(m7r < S7r + 2 * (H7r - +"1"))continue;N7r=Y7r(H7r,m7r,l14P);Q7r=N7r[1] > N7r[0]?100 * (v7r - N7r[0]) / (N7r[1] - N7r["0" * 1]):Q7r;if(v7r || v7r === 0){e7r["Result " + f7r.name]=l7r[m7r - 1]["Result " + f7r.name]?l7r[m7r - 1]["Result " + f7r.name] + R7r * (Q7r - l7r[m7r - 1]["Result " + f7r.name]):Q7r;}}function Y7r(V1r,F1r,x1r){var u1r,b1r,Z7r;u1r=null;b1r=null;M8iE.m2iE();for(var k1r=F1r - V1r + 1;k1r <= F1r;k1r++){M8iE.y0F7(2);var n7BP=M8iE.n0F7(19,1571);M8iE.R0F7(142);var v7BP=M8iE.N0F7(5721,20056,40110,2,7);M8iE.y0F7(2);var g7BP=M8iE.N0F7(1927,214);M8iE.y0F7(7);var x7BP=M8iE.n0F7(369,6671,20);M8iE.y0F7(24);var M7BP=M8iE.n0F7(9197,9197,9209);M8iE.y0F7(113);var S7BP=M8iE.n0F7(18,5,3503,5,409);Z7r=l7r[k1r][x1r + (("5700" - 0,n7BP) !== v7BP?920.86 > (215.76,637.93)?g7BP != x7BP?" ":(M7BP,"566.98" - 0):S7BP:"S") + f7r.name];if(!Z7r)continue;u1r=u1r === null?Z7r:Math.min(u1r,Z7r);b1r=b1r === null?Z7r:Math.max(b1r,Z7r);}return [u1r,b1r];}};o7r.Studies.studyLibrary=o7r.extend(o7r.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:B14P,calculateFN:o7r.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:75,studyOverBoughtColor:d14P,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};Q6M=h1r=>{var t1r;t1r=typeof _CIQ !== "undefined"?_CIQ:h1r.CIQ;if(!t1r.Studies){console.error("shinohara feature requires first activating studies feature.");}else {t1r.Studies.calculateShinohara=function(p1r,T1r){var a8iE=G5XX;var c1r,w30P,o30P,u30P,U1r,U14P;c1r=T1r.chart.scrubbed;if(c1r.length < T1r.days + 1){w30P=614909924;o30P=-136341235;a8iE.y0F7(35);u30P=a8iE.n0F7("2",0);for(var r30P=1;a8iE.W60P(r30P.toString(),r30P.toString().length,84930) !== w30P;r30P++){T1r.error=!"1";return;}if(a8iE.C60P(u30P.toString(),u30P.toString().length,72545) !== o30P){T1r.error=! !1;return;}T1r.error=! !{};return;}U1r={weakNum:"0" - 0,weakDen:+"0",strongNum:0,strongDen:"0" * 1};if(T1r.startFrom > 1){U1r=t1r.clone(c1r[T1r.startFrom - 1]["_accums " + T1r.name]);}for(var r1r=T1r.startFrom;r1r < c1r.length;r1r++){U1r.weakNum+=c1r[r1r].High - c1r[r1r].Close;U1r.weakDen+=c1r[r1r].Close - c1r[r1r].Low;if(r1r > 0){a8iE.R0F7(59);var J7BP=a8iE.N0F7(4,232554196,697662576);U1r.strongNum+=c1r[r1r].High - c1r[r1r - ("1" << J7BP)].Close;a8iE.R0F7(65);var X7BP=a8iE.N0F7(10,3,6,0);U1r.strongDen+=c1r[r1r - X7BP].Close - c1r[r1r].Low;}if(r1r >= T1r.days){U1r.weakNum-=c1r[r1r - T1r.days].High - c1r[r1r - T1r.days].Close;U1r.weakDen-=c1r[r1r - T1r.days].Close - c1r[r1r - T1r.days].Low;a8iE.y0F7(2);var D7BP=a8iE.n0F7(5,95);c1r[r1r]["Weak Ratio " + T1r.name]=D7BP * U1r.weakNum / U1r.weakDen;if(r1r > T1r.days){U14P="Str";U14P+="on";U14P+="g Rati";U14P+="o ";a8iE.y0F7(152);var H7BP=a8iE.n0F7(5,11,3,59,3);U1r.strongNum-=c1r[r1r - T1r.days].High - c1r[r1r - T1r.days - H7BP].Close;U1r.strongDen-=c1r[r1r - T1r.days - +"1"].Close - c1r[r1r - T1r.days].Low;a8iE.R0F7(102);var V7BP=a8iE.N0F7(11,106,1033,3);c1r[r1r][U14P + T1r.name]=V7BP * U1r.strongNum / U1r.strongDen;}}c1r[r1r]["_accums " + T1r.name]=t1r.clone(U1r);}};t1r.Studies.studyLibrary=t1r.extend(t1r.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:t1r.Studies.calculateShinohara,inputs:{Period:"26" >> 376298368},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};W6M=i1r=>{var J2iE=G5XX;var M1r,E60P,z60P,G60P,p30P,h30P,C30P,V14P,H14P,D14P,X14P,G14P,z14P,E14P;J2iE.g2iE();M1r=typeof _CIQ !== "undefined"?_CIQ:i1r.CIQ;if(!M1r.Studies){J2iE.R0F7(6);E60P=-J2iE.n0F7("945073269",0);z60P=-169013964;G60P=2;for(var y60P=1;J2iE.C60P(y60P.toString(),y60P.toString().length,+"36291") !== E60P;y60P++){console.error("stochastics feature requires first activating studies feature.");G60P+=2;}if(J2iE.W60P(G60P.toString(),G60P.toString().length,+"15133") !== z60P){console.error("");}}else {M1r.Studies.calculateStochastics=function(w1r,j1r){var j14P,A14P,a14P,r14P,N14P,u14P,o14P,w14P,s1r,C1r,I1r,a1r,P1r,y1r;J2iE.m2iE();j14P="%";j14P+="D";A14P="%";A14P+="K";A14P+=" ";a14P="s";a14P+="imple";r14P="%";r14P+="K";N14P="S";function A1r(o1r,B1r,m1r){var D1r,K1r,q1r,G1r,O1r,f1r;J2iE.y0F7(7);D1r=J2iE.n0F7(o1r,1,m1r);J2iE.R0F7(18);var E7BP=J2iE.n0F7(14,14,15,12);K1r=Number.MAX_VALUE * E7BP;q1r=Number.MAX_VALUE;J2iE.m2iE();for(var d1r=D1r;d1r <= o1r;d1r++){G1r=I1r[d1r][B1r == "Close"?"Low":B1r];O1r=I1r[d1r][B1r == "Close"?"High":B1r];if(!G1r && G1r !== 0)continue;if(!O1r && O1r !== 0)continue;q1r=Math.min(q1r,G1r);K1r=Math.max(K1r,O1r);}if(K1r == Number.MAX_VALUE * -1 || q1r == Number.MAX_VALUE){return null;}f1r=K1r == q1r?0:(I1r[o1r][B1r] - q1r) / (K1r - q1r) * 100;return f1r;}N14P+="l";N14P+="ow";u14P="%D";u14P+=" ";o14P="%";o14P+="K";o14P+=" ";w14P="%D";w14P+=" Periods";if(!j1r.smooth){j1r.smooth=j1r.inputs.Smooth;}s1r=j1r.inputs.Field;if(!s1r || s1r == "field"){s1r="Close";}C1r=j1r.inputs["%K Periods"];if(!C1r){C1r=j1r.days;}I1r=j1r.chart.scrubbed;if(I1r.length < Math.max(C1r,j1r.days) + 1){j1r.error=! !{};return;}a1r=j1r.inputs["%K Smoothing Periods"];if(a1r){j1r.smooth=! !"1";}else if(j1r.smooth){a1r=3;}P1r=j1r.inputs[w14P];if(!P1r){P1r=+"3";}j1r.outputMap={};j1r.outputMap[o14P + j1r.name]="Fast";j1r.outputMap[u14P + j1r.name]=N14P;for(var z1r=Math.max(C1r,j1r.startFrom);z1r < I1r.length;z1r++){y1r=A1r(z1r,s1r,C1r);if(y1r !== null){I1r[z1r][j1r.name]=A1r(z1r,s1r,C1r);}}M1r.Studies.MA("simple",j1r.smooth?a1r:1,j1r.name,+"0",r14P,w1r,j1r);M1r.Studies.MA(a14P,P1r,A14P + j1r.name,+"0",j14P,w1r,j1r);};M1r.Studies.calculateStochMomentum=function(H1r,N1r){var J14P,S14P,M14P,x14P,g14P,n14P,S1r,E1r,Q1r,n1r,l1r,e1r,v14P,W1r,J1r;J14P="%";J14P+="K";S14P="%";S14P+="D";M14P="_D";M14P+="H";M14P+="L";M14P+="2";x14P="_D";x14P+="HL";x14P+="1";g14P="_H";g14P+="S";g14P+="1";n14P="%K ";n14P+="Per";n14P+="io";n14P+="ds";S1r=Number(N1r.inputs[n14P]);E1r=Number(N1r.inputs["%K Smoothing Periods"]);Q1r=Number(N1r.inputs["%K Double Smoothing Periods"]);n1r=Number(N1r.inputs["%D Periods"]);l1r=N1r.chart.scrubbed;if(l1r.length < S1r + E1r + Q1r - 1 || l1r.length < n1r){N1r.error=!"";return;}for(e1r=Math.max(S1r,N1r.startFrom) - ("1" >> 2080264544);e1r < l1r.length;e1r++){v14P="_";v14P+="DHL";v14P+=" ";W1r=l1r[e1r];J1r=L1r(S1r,e1r);J2iE.y0F7(153);var z7BP=J2iE.n0F7(242,4,12,20,4);W1r["_H " + N1r.name]=W1r.Close - (J1r[0] + J1r[+"1"]) / z7BP;J2iE.y0F7(6);var G7BP=J2iE.n0F7(7,6);W1r[v14P + N1r.name]=J1r[G7BP] - J1r[0];}M1r.Studies.MA("exponential",E1r,"_H " + N1r.name,0,g14P,H1r,N1r);M1r.Studies.MA("exponential",Q1r,"_HS1 " + N1r.name,0,"_HS2",H1r,N1r);M1r.Studies.MA("exponential",E1r,"_DHL " + N1r.name,0,x14P,H1r,N1r);M1r.Studies.MA("exponential",Q1r,"_DHL1 " + N1r.name,0,M14P,H1r,N1r);function L1r(Y1r,X1r){J2iE.m2iE();var g1r,R1r;g1r=null;R1r=null;for(var v1r=X1r - Y1r + 1;v1r <= X1r;v1r++){g1r=g1r === null?l1r[v1r].Low:Math.min(g1r,l1r[v1r].Low);R1r=R1r === null?l1r[v1r].High:Math.max(R1r,l1r[v1r].High);}return [g1r,R1r];}for(e1r=S1r - 1;e1r < l1r.length;e1r++){J2iE.R0F7(24);var s7BP=J2iE.n0F7(82,82,99);l1r[e1r]["%K " + N1r.name]=l1r[e1r]["_HS2 " + N1r.name] / (0.5 * l1r[e1r]["_DHL2 " + N1r.name]) * s7BP;}M1r.Studies.MA(N1r.inputs["%D Moving Average Type"],n1r,"%K " + N1r.name,0,S14P,H1r,N1r);N1r.zoneOutput=J14P;};p30P=-456873414;h30P=-1468839497;C30P=2;for(var O30P="1" >> 1845812096;J2iE.C60P(O30P.toString(),O30P.toString().length,88849) !== p30P;O30P++){V14P="%K Sm";V14P+="oothing P";V14P+="eriod";V14P+="s";H14P="%";H14P+="K";D14P="%K Double Smoothing";D14P+=" Per";D14P+="iods";X14P="%";X14P+="K";M1r.Studies.studyLibrary=M1r.extend(M1r.Studies.studyLibrary,{"Stch Mtm":{name:"0 to 100",calculateFN:M1r.Studies.calculateStochMomentum,inputs:{"%K Periods":86,"%K Smoothing Periods":4,"%K Double Smoothing Periods":1,"%D Periods":"93" | 72,"%D Moving Average Type":"%K Periods"},outputs:{"%K":"auto","%D":X14P},parameters:{init:{studyOverZonesEnabled:! !"",studyOverBoughtValue:87,studyOverBoughtColor:"auto",studyOverSoldValue:~85,studyOverSoldColor:"#FF0000"}}},stochastics:{name:D14P,range:"auto",calculateFN:M1r.Studies.calculateStochastics,inputs:{Period:97,Field:"%K Double Smoothing Periods",Smooth:! !0},outputs:{Fast:"#FF0000",Slow:H14P},parameters:{init:{studyOverZonesEnabled:!{},studyOverBoughtValue:76,studyOverBoughtColor:V14P,studyOverSoldValue:21,studyOverSoldColor:"Stch Mtm"}}}});C30P+=2;}if(J2iE.W60P(C30P.toString(),C30P.toString().length,87112) !== h30P){G14P="au";G14P+="to";z14P="0 ";z14P+="to 100";E14P="#";E14P+="FF";E14P+="0000";M1r.Studies.studyLibrary=M1r.extend(M1r.Studies.studyLibrary,{"Stch Mtm":{name:"Stochastic Momentum Index",calculateFN:M1r.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":"3" | 3,"%K Double Smoothing Periods":"3" ^ 0,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":E14P},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics",range:z14P,calculateFN:M1r.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !"1"},outputs:{Fast:"auto",Slow:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !"1",studyOverBoughtValue:80,studyOverBoughtColor:G14P,studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}}};n6M=u5r=>{var Z1r,s14P,m44P,b44P;Z1r=typeof _CIQ !== "undefined"?_CIQ:u5r.CIQ;if(!Z1r.Studies){s14P="supertrend feature r";s14P+="equires first activating studies feat";s14P+="ure.";console.error(s14P);}else {m44P="#";m44P+="b82c0c";b44P="#8";b44P+="cc176";Z1r.Studies.calculateSupertrend=function(c5r,b5r){var I8iE=G5XX;var F5r,Y44P,V5r,h5r,r5r,x5r,t5r,R44P,Z14P,y14P,i44P,L44P;F5r=b5r.chart.scrubbed;if(F5r.length < b5r.days + 1){b5r.error=! !{};return;}Z1r.Studies.calculateStudyATR(c5r,b5r);for(var k5r=b5r.startFrom;k5r < F5r.length;k5r++){Y44P="_Direct";Y44P+="ion ";V5r=F5r[k5r];if(!V5r)continue;h5r=(V5r.High + V5r.Low) / +"2";r5r=b5r.inputs.Multiplier * V5r["ATR " + b5r.name];I8iE.R0F7(6);x5r=I8iE.N0F7(h5r,r5r);I8iE.R0F7(2);t5r=I8iE.n0F7(r5r,h5r);if(k5r){R44P="_";R44P+="Dow";R44P+="nt";R44P+="rend ";Z14P="_Downtrend";Z14P+=" ";y14P="_U";y14P+="ptren";y14P+="d ";if(F5r[k5r - 1] && F5r[k5r - 1].Close && F5r[k5r - 1].Close > F5r[k5r - 1]["_Uptrend " + b5r.name] && F5r[k5r - 1]["_Uptrend " + b5r.name] > x5r){I8iE.y0F7(154);x5r=F5r[I8iE.N0F7(k5r,"1")][y14P + b5r.name];}if(F5r[k5r - 1] && F5r[k5r - 1].Close && F5r[k5r - +"1"].Close < F5r[k5r - 1]["_Downtrend " + b5r.name] && F5r[k5r - +"1"][Z14P + b5r.name] < t5r){I8iE.R0F7(6);t5r=F5r[I8iE.n0F7(k5r,1)][R44P + b5r.name];}}V5r[Y44P + b5r.name]=1;if(k5r){i44P="_U";i44P+="ptren";i44P+="d ";L44P="_";L44P+="Dir";L44P+="ec";L44P+="tion ";I8iE.y0F7(155);V5r["_Direction " + b5r.name]=F5r[I8iE.n0F7("1",k5r,1358893792)]["_Direction " + b5r.name];if(V5r.Close > F5r[k5r - 1]["_Downtrend " + b5r.name]){I8iE.y0F7(22);V5r[L44P + b5r.name]=I8iE.n0F7(1,"1");}else if(V5r.Close < F5r[k5r - 1][i44P + b5r.name]){V5r["_Direction " + b5r.name]=-1;}}V5r["_Uptrend " + b5r.name]=x5r;V5r["_Downtrend " + b5r.name]=t5r;V5r["Trend " + b5r.name]=V5r["_Direction " + b5r.name] > 0?x5r:t5r;if(!k5r)continue;}b5r.outputMap={};b5r.outputMap["Trend " + b5r.name]="";};Z1r.Studies.displaySupertrend=function(U5r,T5r,i5r){var Y8iE=G5XX;var j5r,p5r,C5r,K5r,P5r,I5r,s5r,M5r,q44P,K44P,A5r,y5r;j5r=U5r.panels[T5r.panel];p5r=T5r.getContext(U5r);C5r=T5r.getYAxis(U5r);K5r={skipTransform:j5r.name != T5r.chart.name,skipProjections:! !1,label:U5r.preferences.labels,yAxis:C5r,highlight:T5r.highlight};function q5r(d5r,B5r,G5r){var t44P;t44P="_";t44P+="Direction";Y8iE.m2iE();t44P+=" ";if(B5r && B5r[t44P + T5r.name] < 0){return T5r.outputs.Downtrend;}return T5r.outputs.Uptrend;}p5r.strokeStyle=q5r(U5r,i5r[i5r.length - 1]);p5r.lineWidth=2;if(T5r.highlight){Y8iE.y0F7(6);p5r.lineWidth=Y8iE.N0F7("1.5",0);}P5r="Trend " + T5r.name;for(var w5r=0;j5r.chart.transformFunc && C5r != j5r.chart.yAxis && w5r < i5r.length;w5r++){I5r=i5r[w5r];if(I5r && I5r.transform){I5r.transform[P5r]=j5r.chart.transformFunc(U5r,j5r.chart,I5r[P5r]);}}U5r.plotDataSegmentAsLine(P5r,j5r,K5r,q5r);Y8iE.m2iE();p5r.lineWidth=+"1";p5r.globalAlpha=1;U5r.startClip(T5r.panel);if(!T5r.highlight && U5r.highlightedDraggable){p5r.globalAlpha*=0.3;}Y8iE.y0F7(4);var y7BP=Y8iE.n0F7(198,17,149);Y8iE.y0F7(2);var Z7BP=Y8iE.N0F7(14,8106);Y8iE.R0F7(56);var R8BP=Y8iE.N0F7(418,20,10,14);s5r=p5r.measureText(("2290" | y7BP,Z7BP) === 247.88?("S",!{}):"\u25B2").width / R8BP;for(M5r="0" - 0;M5r < i5r.length;M5r++){q44P="_Dir";q44P+="ecti";q44P+="o";q44P+="n ";K44P="_Direc";K44P+="tio";K44P+="n ";if(!i5r[M5r] || !i5r[M5r - 1])continue;if(i5r[M5r - 1][K44P + T5r.name] > i5r[M5r]["_Direction " + T5r.name]){p5r.fillStyle=T5r.outputs.Downtrend;p5r.textBaseline="bottom";A5r=U5r.pixelFromPrice(i5r[M5r].High,j5r,C5r);for(var z5r=5;z5r <= 45;z5r+=10){if(C5r.flipped){p5r.fillText("\u25B2",U5r.pixelFromBar(M5r) - s5r,A5r + z5r);}else {p5r.fillText((1815,2947) >= (5050,+"594.57")?(9768,4713) == (2060,397.84)?(835.55,9790) < (6630,7760)?!{}:("C","6.78e+3" - 0):"\u25BC":(0x2069,484.97),U5r.pixelFromBar(M5r) - s5r,A5r - z5r);}}}else if(i5r[M5r - 1]["_Direction " + T5r.name] < i5r[M5r][q44P + T5r.name]){p5r.fillStyle=T5r.outputs.Uptrend;p5r.textBaseline="top";y5r=U5r.pixelFromPrice(i5r[M5r].Low,j5r,C5r);for(var a5r=5;a5r <= 45;a5r+=10){if(C5r.flipped){p5r.fillText("\u25BC",U5r.pixelFromBar(M5r) - s5r,y5r - a5r);}else {p5r.fillText(("8771" | 66,3846) !== 35?(9830,2902) <= (313,8490)?"\u25B2":2793 != ("8946" | 64)?("j",0x7c4):("k",+"740.67"):!"1",U5r.pixelFromBar(M5r) - s5r,y5r + a5r);}}}}U5r.endClip();};Z1r.Studies.studyLibrary=Z1r.extend(Z1r.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!"",seriesFN:Z1r.Studies.displaySupertrend,calculateFN:Z1r.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:"3" * 1},outputs:{Uptrend:b44P,Downtrend:m44P},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};L6M=o5r=>{var O5r,T44P,c44P;O5r=typeof _CIQ !== "undefined"?_CIQ:o5r.CIQ;if(!O5r.Studies){T44P="swingIndex feature requires first a";T44P+="c";T44P+="tivating studies f";T44P+="eature.";console.error(T44P);}else {c44P="Accumul";c44P+="a";c44P+="tive Swing Index";O5r.Studies.calculateSwingIndex=function(L5r,m5r){var E8iE=G5XX;var N5r,T90P,e90P,P90P,e44P,D5r,l5r,P44P,H5r,S5r,W5r,n5r,E5r,J5r,e5r,Q5r;N5r=m5r.inputs["Limit Move Value"];T90P=1604648584;e90P=1547849340;P90P=+"2";for(var f90P=1;E8iE.C60P(f90P.toString(),f90P.toString().length,38186) !== T90P;f90P++){e44P="Resu";e44P+="l";e44P+="t ";if(N5r === null || isNaN(N5r)){E8iE.y0F7(22);N5r=E8iE.N0F7(1,"99999");}D5r=m5r.chart.scrubbed;l5r=0;if(m5r.startFrom > 1){E8iE.y0F7(156);var Y8BP=E8iE.N0F7(2,19,14,5,1);l5r=D5r[m5r.startFrom - Y8BP][e44P + m5r.name];}P90P+=2;}if(E8iE.W60P(P90P.toString(),P90P.toString().length,"30942" ^ 0) !== e90P){if(N5r !== "1" << 1988351264 && isNaN(N5r)){N5r=71841;}D5r=m5r.chart.scrubbed;l5r=4;if(m5r.startFrom < 7){E8iE.R0F7(157);var L8BP=E8iE.N0F7(18,2,18,16,39);l5r=D5r[m5r.startFrom * L8BP]["" * m5r.name];}}for(var f5r=Math.max(1,m5r.startFrom);f5r < D5r.length;f5r++){P44P="Res";P44P+="ult ";H5r=Math.abs(D5r[f5r].High - D5r[f5r - +"1"].Close);S5r=Math.abs(D5r[f5r].Low - D5r[f5r - 1].Close);W5r=Math.abs(D5r[f5r].High - D5r[f5r].Low);n5r=Math.abs(D5r[f5r - 1].Close - D5r[f5r - 1].Open);E5r=Math.max(H5r,S5r);J5r=Math.max(W5r,E5r);E8iE.R0F7(19);e5r=E8iE.N0F7(0.25,J5r,n5r);if(J5r == H5r){E8iE.y0F7(22);e5r-=E8iE.N0F7(S5r,0.5);}else if(J5r == S5r){E8iE.y0F7(22);e5r-=E8iE.n0F7(H5r,0.5);}E8iE.y0F7(158);var i8BP=E8iE.N0F7(49,12350,13,950);E8iE.R0F7(159);var t8BP=E8iE.n0F7(2,21,5,11,5);E8iE.R0F7(12);var K8BP=E8iE.N0F7(170,18,2,19);E8iE.R0F7(2);var q8BP=E8iE.n0F7(1,0);Q5r=i8BP * (D5r[f5r].Close - D5r[f5r - t8BP].Close + 0.5 * (D5r[f5r].Close - D5r[f5r].Open) + 0.25 * (D5r[f5r - K8BP].Close - D5r[f5r - q8BP].Open)) / e5r * (E5r / N5r);if(e5r === 0 || N5r === "0" * 1){Q5r=0;}if(m5r.type == "Swing"){l5r=0;}l5r+=Q5r;D5r[f5r][P44P + m5r.name]=l5r;}};O5r.Studies.studyLibrary=O5r.extend(O5r.Studies.studyLibrary,{"Acc Swing":{name:c44P,calculateFN:O5r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:"Swing Index",calculateFN:O5r.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};v6M=g5r=>{var v5r,f44P,W44P,C44P,h44P;v5r=typeof _CIQ !== "undefined"?_CIQ:g5r.CIQ;G5XX.g2iE();if(!v5r.Studies){f44P="trendIntensity f";f44P+="eature requi";f44P+="res first activating studies feature.";console.error(f44P);}else {W44P="aut";W44P+="o";C44P="a";C44P+="uto";h44P="au";h44P+="t";h44P+="o";v5r.Studies.calculateTrendIntensity=function(x0r,R5r){var i8iE=G5XX;var p44P,F44P,k44P,I44P,Z5r,u0r,b0r,k0r,X5r,Y5r,F0r,V0r;p44P="S";p44P+="ignal";F44P="T";F44P+="I";F44P+="I";F44P+=" ";k44P="C";k44P+="l";k44P+="os";k44P+="e";I44P="fi";function t0r(r0r,h0r){if(Math.abs(h0r) < 0.00000001){return 100;}i8iE.R0F7(160);return i8iE.N0F7(r0r,100,1,h0r,100);}I44P+="e";I44P+="l";I44P+="d";Z5r=R5r.chart.scrubbed;if(Z5r.length < R5r.days + 1){R5r.error=! !{};return;}u0r=R5r.inputs.Field;i8iE.g2iE();if(!u0r || u0r == I44P){u0r=k44P;}v5r.Studies.MA("ma",R5r.days,u0r,0,"_SMA",x0r,R5r);b0r=+"0";k0r=0;F0r=[];V0r=Math.ceil(R5r.days / 2);for(X5r=Math.max(0,R5r.startFrom - V0r);X5r < Z5r.length;X5r++){if(!Z5r[X5r]["_SMA " + R5r.name] && Z5r[X5r]["_SMA " + R5r.name] !== 0)continue;Y5r=Z5r[X5r][u0r] - Z5r[X5r]["_SMA " + R5r.name];if(Y5r < 0){i8iE.R0F7(161);k0r+=i8iE.n0F7(1,Y5r);}else {b0r+=Y5r;}F0r.push(Y5r);if(F0r.length > V0r){Y5r=F0r.shift();if(Y5r < 0){i8iE.R0F7(161);k0r-=i8iE.N0F7(1,Y5r);}else {b0r-=Y5r;}}if(X5r < R5r.startFrom)continue;Z5r[X5r]["TII " + R5r.name]=t0r(b0r,k0r);}v5r.Studies.MA("ema",R5r.inputs["Signal Period"],F44P + R5r.name,0,p44P,x0r,R5r);};v5r.Studies.studyLibrary=v5r.extend(v5r.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:v5r.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:14,Field:"field","Signal Period":"9" >> 1411167648},outputs:{TII:h44P,Signal:"#FF0000"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:80,studyOverBoughtColor:C44P,studyOverSoldValue:20,studyOverSoldColor:W44P}}}});}};g6M=T0r=>{var c0r,l44P;c0r=typeof _CIQ !== "undefined"?_CIQ:T0r.CIQ;if(!c0r.Studies){console.error("trix feature requires first activating studies feature.");}else {l44P="T";l44P+="R";l44P+="I";l44P+="X";c0r.Studies.calculateTRIX=function(a0r,U0r){var b8iE=G5XX;var O44P,p0r,i0r,C0r,Q44P,s0r,z0r,I0r;O44P="_MA";O44P+="3";O44P+=" ";p0r=U0r.chart.scrubbed;if(p0r.length < U0r.days + +"1"){U0r.error=! !{};return;}i0r=U0r.name;b8iE.R0F7(2);C0r=["Close",b8iE.n0F7(i0r,"_MA1 "),b8iE.n0F7(i0r,"_MA2 "),b8iE.n0F7(i0r,O44P)];for(var j0r=0;j0r < C0r.length - 1;j0r++){Q44P="e";Q44P+="xponent";Q44P+="i";Q44P+="al";c0r.Studies.MA(Q44P,U0r.days,C0r[j0r],0,"_MA" + (j0r + "1" * 1).toString(),a0r,U0r);}s0r=C0r[3];for(var M0r=Math.max(1,U0r.startFrom);M0r < p0r.length;M0r++){b8iE.y0F7(154);z0r=p0r[b8iE.n0F7(M0r,"1")][s0r];if(!z0r)continue;I0r=p0r[M0r][s0r];if(I0r || I0r === 0){b8iE.R0F7(2);p0r[M0r][b8iE.N0F7(i0r,"Result ")]=b8iE.n0F7(1,100,z0r,I0r,b8iE.y0F7(131));}}};c0r.Studies.studyLibrary=c0r.extend(c0r.Studies.studyLibrary,{TRIX:{name:l44P,calculateFN:c0r.Studies.calculateTRIX}});}};R6M=w0r=>{var P0r;P0r=typeof _CIQ !== "undefined"?_CIQ:w0r.CIQ;G5XX.m2iE();if(!P0r.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {P0r.Studies.calculateTwiggsMoneyFlow=function(o0r,A0r){var P8iE=G5XX;P8iE.m2iE();var q0r,B0r,K0r,d0r,B44P,d44P,G0r,O0r;q0r=A0r.chart.scrubbed;if(q0r.length < A0r.days){A0r.error=! ![];return;}B0r=0;P8iE.R0F7(0);K0r=P8iE.N0F7(409856,"0");P8iE.R0F7(24);var b8BP=P8iE.N0F7(35685773,71371546,71371550);d0r=q0r[A0r.startFrom - ("1" << b8BP)];if(d0r){B44P="_sumMF";B44P+=" ";if(d0r[B44P + A0r.name]){B0r=d0r["_sumMF " + A0r.name];}if(d0r["_sumV " + A0r.name]){K0r=d0r["_sumV " + A0r.name];}}for(var y0r=Math.max(1,A0r.startFrom);y0r < q0r.length;y0r++){d44P="_";d44P+="MFV ";G0r=Math.max(q0r[y0r - +"1"].Close,q0r[y0r].High);O0r=Math.min(q0r[y0r - 1].Close,q0r[y0r].Low);P8iE.y0F7(162);var m8BP=P8iE.n0F7(12,13,24,16,8);P8iE.R0F7(119);var T8BP=P8iE.N0F7(10,6000010,13999986,2,12);q0r[y0r]["_MFV " + A0r.name]=q0r[y0r].Volume * (m8BP * q0r[y0r].Close - G0r - O0r) / (G0r - O0r === +"0"?T8BP:G0r - O0r);if(y0r > A0r.days - 1){P8iE.y0F7(6);var e8BP=P8iE.N0F7(20,19);B0r*=(A0r.days - e8BP) / A0r.days;P8iE.R0F7(93);var P8BP=P8iE.N0F7(0,19,17,2,35);K0r*=(A0r.days - P8BP) / A0r.days;}B0r+=q0r[y0r][d44P + A0r.name];K0r+=q0r[y0r].Volume;if(y0r > A0r.days - 1){if(K0r){P8iE.R0F7(10);q0r[y0r]["Result " + A0r.name]=P8iE.N0F7(B0r,K0r > 0?K0r:999999);}}q0r[y0r]["_sumMF " + A0r.name]=B0r;q0r[y0r]["_sumV " + A0r.name]=K0r;}};P0r.Studies.studyLibrary=P0r.extend(P0r.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:P0r.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};X6M=f0r=>{var D0r,U44P;D0r=typeof _CIQ !== "undefined"?_CIQ:f0r.CIQ;if(!D0r.Studies){U44P="typ";U44P+="icalPrice feature requires first activating studies feature.";console.error(U44P);}else if(!D0r.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {D0r.Studies.studyLibrary=D0r.extend(D0r.Studies.studyLibrary,{"Typical Price":{name:"Typical Price",calculateFN:D0r.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:D0r.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};Y6M=N0r=>{var w44P,m0r,o44P;w44P="u";w44P+="nd";w44P+="efined";m0r=typeof _CIQ !== w44P?_CIQ:N0r.CIQ;if(!m0r.Studies){o44P="ulcerIndex feature requires first";o44P+=" activating studies feature.";console.error(o44P);}else {m0r.Studies.calculateUlcerIndex=function(E0r,l0r){var u44P,H0r,S0r,e0r,r44P,N44P,J0r;u44P="s";u44P+="impl";u44P+="e";H0r=l0r.chart.scrubbed;if(H0r.length < +"2" * l0r.days - 1){l0r.error=!"";return;}S0r=l0r.inputs.Field;if(!S0r || S0r == "field"){S0r="Close";}for(e0r=Math.max(l0r.startFrom,l0r.days - ("1" << 1668952992));e0r < H0r.length;e0r++){H0r[e0r]["_PD2 " + l0r.name]=Math.pow(100 * (H0r[e0r][S0r] / Q0r(l0r.days,e0r,S0r) - 1),2);}function Q0r(g0r,L0r,v0r){var n0r;n0r=null;for(var W0r=L0r - g0r + 1;W0r <= L0r;W0r++){if(W0r < 0)continue;n0r=n0r === null?H0r[W0r][v0r]:Math.max(n0r,H0r[W0r][v0r]);}return n0r;}m0r.Studies.MA(u44P,l0r.days,"_PD2 " + l0r.name,0,"_MA",E0r,l0r);for(e0r=Math.max(l0r.startFrom,("2" ^ 0) * (l0r.days - 1));e0r < H0r.length;e0r++){r44P="Re";r44P+="sult ";N44P="_";N44P+="M";N44P+="A";N44P+=" ";J0r=H0r[e0r][N44P + l0r.name];if(J0r || J0r === 0){H0r[e0r][r44P + l0r.name]=Math.sqrt(J0r);}}};m0r.Studies.studyLibrary=m0r.extend(m0r.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:m0r.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};Z6M=X0r=>{var R0r,a44P,x44P;R0r=typeof _CIQ !== "undefined"?_CIQ:X0r.CIQ;G5XX.g2iE();if(!R0r.Studies){a44P="ultimateOscillator ";a44P+="feature requires fi";a44P+="rst activating studie";a44P+="s feature.";console.error(a44P);}else {x44P="a";x44P+="u";x44P+="t";x44P+="o";R0r.Studies.calculateUltimateOscillator=function(I9r,Z0r){var y8iE=G5XX;var A44P,Y0r,b9r,x9r,t9r,h9r,r9r,F9r,V9r,n44P,j44P,g44P,v44P,c9r,U9r,p9r,T9r,M9r,i9r,j9r,C9r;A44P="C";A44P+="ycl";A44P+="e";A44P+=" 3";Y0r=Z0r.chart.scrubbed;b9r=[Z0r.inputs["Cycle 1"],Z0r.inputs["Cycle 2"],Z0r.inputs[A44P]];x9r=Math.max(b9r[0],b9r[+"1"],b9r[+"2"]);if(Y0r.length < x9r + 1){Z0r.error=! ![];return;}y8iE.R0F7(7);var c8BP=y8iE.N0F7(13,3,15);t9r=b9r[0] * b9r[c8BP];y8iE.y0F7(1);var f8BP=y8iE.N0F7(10,19,21,9);h9r=b9r[0] * b9r[f8BP];y8iE.y0F7(4);var I8BP=y8iE.N0F7(0,9,8);y8iE.R0F7(64);var k8BP=y8iE.n0F7(11,13);y8iE.g2iE();r9r=b9r[I8BP] * b9r[k8BP];F9r=[+"0",0,0];V9r=[0,0,0];if(Z0r.startFrom){n44P="_accb";n44P+="p";n44P+=" ";j44P="_";j44P+="acc";j44P+="bp";j44P+=" ";if(Y0r[Z0r.startFrom - 1][j44P + Z0r.name]){F9r=Y0r[Z0r.startFrom - 1][n44P + Z0r.name].slice();}if(Y0r[Z0r.startFrom - ("1" - 0)]["_acctr " + Z0r.name]){V9r=Y0r[Z0r.startFrom - 1]["_acctr " + Z0r.name].slice();}}for(var u9r=Math.max("1" * 1,Z0r.startFrom);u9r < Y0r.length;u9r++){g44P="Resul";g44P+="t ";v44P="_";v44P+="ac";v44P+="cbp ";c9r=Math.min(Y0r[u9r].Low,Y0r[u9r - 1].Close);U9r=Y0r[u9r].Close - c9r;y8iE.y0F7(28);var F8BP=y8iE.n0F7(6,3,15);p9r=Math.max(Y0r[u9r].High,Y0r[u9r - F8BP].Close) - c9r;for(var k9r=0;k9r < b9r.length;k9r++){F9r[k9r]+=U9r;V9r[k9r]+=p9r;if(u9r > b9r[k9r]){T9r=Math.min(Y0r[u9r - b9r[k9r]].Low,Y0r[u9r - b9r[k9r] - 1].Close);M9r=Y0r[u9r - b9r[k9r]].Close - T9r;y8iE.y0F7(36);var p8BP=y8iE.n0F7(11,9,10,88);i9r=Math.max(Y0r[u9r - b9r[k9r]].High,Y0r[u9r - b9r[k9r] - p8BP].Close) - T9r;F9r[k9r]-=M9r;V9r[k9r]-=i9r;}}Y0r[u9r][v44P + Z0r.name]=F9r.slice();Y0r[u9r]["_acctr " + Z0r.name]=V9r.slice();if(u9r < x9r)continue;y8iE.y0F7(119);var h8BP=y8iE.n0F7(5,6,0,1,2);y8iE.y0F7(64);var C8BP=y8iE.n0F7(11,12);y8iE.y0F7(163);var W8BP=y8iE.N0F7(11,3,1,6,22);j9r=r9r * F9r[0] / V9r[0] + h9r * F9r[h8BP] / V9r[C8BP] + t9r * F9r["2" ^ 0] / V9r[W8BP];y8iE.y0F7(55);C9r=y8iE.N0F7(h9r,t9r,r9r);y8iE.R0F7(104);Y0r[u9r][g44P + Z0r.name]=y8iE.n0F7(C9r,j9r,100);}};R0r.Studies.studyLibrary=R0r.extend(R0r.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:R0r.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":+"14","Cycle 3":28},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:x44P,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};u2M=z9r=>{var s9r,R2BP,Z44P,y44P;s9r=typeof _CIQ !== "undefined"?_CIQ:z9r.CIQ;if(!s9r.Studies){console.error("valuationLines feature requires first activating studies feature.");}else {R2BP="#";R2BP+="00a";R2BP+="fe";R2BP+="d";Z44P="har";Z44P+="monic";y44P="m";y44P+="edia";y44P+="n";s9r.Studies.calculateValuationLines=function(K9r,a9r,d9r){var S8iE=G5XX;var S44P,M44P,f9r,l9r,m9r,G9r,O9r,o9r,D9r,P9r,w9r,A9r,q9r,B9r,N9r;S44P="Display ";S44P+="3 Stan";S44P+="da";S44P+="rd Deviation (3\u03C3)";M44P="Display 2";M44P+=" Standard De";M44P+="viation (2\u03C3)";f9r=a9r.inputs.Field == "field"?"Close":a9r.inputs.Field;l9r=a9r.inputs["Average Type"];m9r=a9r.inputs["Display Average"];G9r=a9r.inputs["Display 1 Standard Deviation (1\u03C3)"];O9r=a9r.inputs[M44P];S8iE.m2iE();o9r=a9r.inputs[S44P];D9r=[];for(var y9r=0;y9r < d9r.length;++y9r){if(d9r[y9r] && !isNaN(d9r[y9r][f9r])){D9r.push(d9r[y9r][f9r]);}}P9r=(function(E9r,n9r){var e9r,S9r,J9r,H9r,Q9r,W9r;e9r=E9r.length;S9r=0;J9r=0;H9r=0;switch(n9r){case "mean":J9r=e9r;for(;H9r < e9r;++H9r){S9r+=E9r[H9r];}break;case "harmonic":S9r=e9r;for(;H9r < e9r;++H9r){J9r+=+"1" / E9r[H9r];}break;case "median":S8iE.y0F7(75);Q9r=Math.floor(S8iE.N0F7(e9r,"2"));W9r=E9r.slice().sort(function(L9r,v9r){S8iE.m2iE();if(L9r > v9r){return 1;}if(L9r < v9r){return -1;}return 0;});if(e9r % ("2" | 0) === 0){S9r=W9r[Q9r] + W9r[Q9r - +"1"];J9r=2;}else {S9r=W9r[Q9r];J9r=+"1";}break;}S8iE.R0F7(10);S8iE.g2iE();return S8iE.n0F7(S9r,J9r);})(D9r,l9r);w9r=!(G9r || O9r || o9r) || (function(Y9r,Z9r){var R9r,X9r;R9r=Y9r.length;X9r=0;for(var g9r=0;g9r < R9r;++g9r){X9r+=Math.pow(Y9r[g9r] - Z9r,"2" << 957515328);}S8iE.y0F7(10);return Math.sqrt(S8iE.N0F7(X9r,R9r));})(D9r,P9r);a9r.data={Average:m9r?[P9r]:null,"1 Standard Deviation (1\u03C3)":G9r?[P9r + w9r,P9r - w9r]:null,"2 Standard Deviation (2\u03C3)":O9r?[P9r + w9r * 2,P9r - w9r * 2]:null,"3 Standard Deviation (3\u03C3)":o9r?[P9r + w9r * 3,P9r - w9r * +"3"]:null};A9r=w9r;if(!a9r.parameters){a9r.parameters={};}if(o9r){S8iE.R0F7(164);a9r.parameters.range=[S8iE.N0F7(A9r,3,P9r,w9r),S8iE.n0F7(w9r,2031241344,A9r,P9r,"3",S8iE.R0F7(165))];}else if(O9r){S8iE.R0F7(164);a9r.parameters.range=[S8iE.n0F7(A9r,2,P9r,w9r),S8iE.n0F7(2,P9r,A9r,w9r,S8iE.R0F7(166))];}else if(G9r){S8iE.y0F7(96);a9r.parameters.range=[S8iE.N0F7(A9r,w9r,P9r),S8iE.N0F7(w9r,A9r,P9r,S8iE.y0F7(55))];}else if(m9r){S8iE.R0F7(6);a9r.parameters.range=[S8iE.N0F7(P9r,A9r),S8iE.n0F7(A9r,P9r,S8iE.y0F7(2))];}if(a9r.panel){q9r=K9r.panels[a9r.panel];B9r=K9r.getYAxisByName(q9r,a9r.name);if(B9r){B9r.decimalPlaces=q9r.chart.yAxis.printDecimalPlaces;N9r={yAxis:B9r};K9r.calculateYAxisRange(q9r,B9r,a9r.parameters.range["0" >> 855655296],a9r.parameters.range[1]);K9r.createYAxis(q9r,N9r);K9r.drawYAxis(q9r,N9r);}}};s9r.Studies.displayValuationLines=function(o5XX,f5XX){var R8iE=G5XX;var D44P,X44P,J44P,O5XX,m5XX,l5XX,S5XX,Y5XX,Z5XX,u0XX,e5XX,H5XX,J5XX,W5XX,n5XX,L5XX,v5XX,E5XX,Q5XX,D5XX,g5XX,b0XX,R5XX,H44P,s44P,G44P,z44P,E44P,V44P,X5XX;D44P="s";D44P+="tx_ya";D44P+="xis";R8iE.g2iE();X44P="ciq-valuat";X44P+="ion-";X44P+="average-line";J44P="H";J44P+="AVG";O5XX=o5XX.panels[f5XX.panel];m5XX=f5XX.getYAxis(o5XX);l5XX=f5XX.getContext(o5XX);S5XX=f5XX.data;Y5XX=f5XX.parameters.labels;Z5XX=f5XX.inputs["Average Type"];u0XX={mean:"AVG",median:"MED",harmonic:J44P};e5XX=o5XX.canvasStyle(X44P);H5XX=o5XX.canvasStyle("ciq-valuation-deviation-line");J5XX=3;R8iE.R0F7(105);var O8BP=R8iE.N0F7(1,11,29,22,2);W5XX=o5XX.getCanvasFontSize(D44P) + J5XX * O8BP;for(var N5XX in S5XX){H44P="A";H44P+="ve";H44P+="rage";if(!S5XX[N5XX])continue;R8iE.R0F7(167);n5XX=R8iE.n0F7(N5XX,H44P);L5XX=s9r.Studies.determineColor(f5XX.outputs[N5XX]);v5XX=S5XX[N5XX];for(E5XX=0;E5XX < v5XX.length;++E5XX){s44P="l";s44P+="e";s44P+="ft";G44P="l";G44P+="i";G44P+="n";G44P+="e";z44P="d";z44P+="a";z44P+="she";z44P+="d";E44P="s";E44P+="o";E44P+="l";E44P+="id";V44P="s";V44P+="ol";V44P+="i";V44P+="d";Q5XX=v5XX[E5XX];D5XX=o5XX.pixelFromPrice(Q5XX,O5XX,m5XX);if(D5XX <= O5XX.top || D5XX >= O5XX.yAxis.bottom)continue;R5XX=n5XX?{pattern:e5XX.borderStyle != "none"?e5XX.borderStyle || V44P:E44P,lineWidth:parseFloat(e5XX.borderWidth) || 1,opacity:parseFloat(e5XX.opacity) || 1,yAxis:m5XX}:{pattern:H5XX.borderStyle != "none"?H5XX.borderStyle || z44P:"dashed",lineWidth:parseFloat(H5XX.borderWidth) || 1,opacity:parseFloat(H5XX.opacity) || 1,yAxis:m5XX};o5XX.plotLine(O5XX.left,O5XX.right,D5XX,D5XX,L5XX,G44P,l5XX,O5XX,R5XX);if(Y5XX === "yaxis"){o5XX.createYAxisLabel(O5XX,o5XX.formatYAxisPrice(Q5XX,O5XX),D5XX,L5XX,null,l5XX,m5XX);continue;}D5XX+=Math.floor(R5XX.lineWidth / 2);if(D5XX + W5XX >= O5XX.yAxis.bottom)continue;g5XX=(n5XX?u0XX[Z5XX] + ": ":N5XX[0] + "\u03C3: ") + o5XX.formatYAxisPrice(Q5XX,O5XX);b0XX=l5XX.measureText(g5XX).width;X5XX=O5XX.right - b0XX - J5XX;if(m5XX && m5XX.position == s44P){X5XX=O5XX.left + J5XX;}R8iE.R0F7(168);l5XX.strokeText(g5XX,X5XX,R8iE.N0F7(D5XX,W5XX,2,0.5));}}};s9r.Studies.studyLibrary=s9r.extend(s9r.Studies.studyLibrary,{"val lines":{name:"Valuation Lines",calculateFN:function(){},seriesFN:function(k0XX,F0XX,V0XX){G5XX.g2iE();s9r.Studies.calculateValuationLines(k0XX,F0XX,V0XX);s9r.Studies.displayValuationLines(k0XX,F0XX);},overlay:!0,yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean",y44P,Z44P],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":!{},"Display 2 Standard Deviation (2\u03C3)":!"1","Display 3 Standard Deviation (3\u03C3)":!1},outputs:{Average:R2BP,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":"#85c99e","3 Standard Deviation (3\u03C3)":"#fff69e"}}});}};b2M=t0XX=>{var X2iE=G5XX;X2iE.m2iE();var x0XX,Y50P,L50P,i50P,T2BP,m2BP,b2BP;x0XX=typeof _CIQ !== "undefined"?_CIQ:t0XX.CIQ;if(!x0XX.Studies){Y50P=-466770790;X2iE.y0F7(22);L50P=-X2iE.n0F7(1,"1337419404");i50P=2;for(var K50P=1;X2iE.W60P(K50P.toString(),K50P.toString().length,39828) !== Y50P;K50P++){console.error("volatilityIndex feature requires first activating studies feature.");i50P+=+"2";}if(X2iE.W60P(i50P.toString(),i50P.toString().length,28394) !== L50P){console.error("");}}else {T2BP="0 to";T2BP+=" 100";m2BP="Re";m2BP+="lativ";m2BP+="e Volatility";b2BP="Historical Volati";b2BP+="li";b2BP+="ty";x0XX.Studies.calculateRelativeVolatility=function(C0XX,h0XX){var j0XX,p0XX,r0XX,T0XX,U0XX,y70P,Z70P,R80P,L2BP,Y2BP,i2BP,K2BP,t2BP,c0XX,i0XX;h0XX.days=Number(h0XX.inputs["Smoothing Period"]);j0XX=Number(h0XX.inputs["STD Period"]);p0XX=h0XX.chart.scrubbed;if(p0XX.length < h0XX.days + j0XX){h0XX.error=! ![];return;}r0XX=h0XX.inputs.Field;if(!r0XX || r0XX == "field"){r0XX="Close";}h0XX.std=new x0XX.Studies.StudyDescriptor(h0XX.name,"sdev",h0XX.panel);h0XX.std.chart=h0XX.chart;h0XX.std.days=j0XX;h0XX.std.startFrom=h0XX.startFrom;function I0XX(s0XX,z0XX){X2iE.m2iE();if(s0XX + z0XX === "0" << 34711104){return +"100";}X2iE.R0F7(169);return X2iE.N0F7(100,s0XX,s0XX,z0XX);}h0XX.std.inputs={Field:r0XX,"Standard Deviations":"1" - 0,Type:"ma"};h0XX.std.outputs={_STD:null};x0XX.Studies.calculateStandardDeviation(C0XX,h0XX.std);T0XX=0;U0XX=+"0";if(h0XX.startFrom > 1){y70P=1304084539;Z70P=1323620041;R80P=2;for(var L80P=1;X2iE.W60P(L80P.toString(),L80P.toString().length,"87429" >> 1032933376) !== y70P;L80P++){L2BP="_avgL";L2BP+=" ";Y2BP="_av";Y2BP+="gG";Y2BP+=" ";T0XX=p0XX[h0XX.startFrom - 1][Y2BP + h0XX.name] || 0;U0XX=p0XX[h0XX.startFrom - 1][L2BP + h0XX.name] || 0;R80P+=2;}if(X2iE.W60P(R80P.toString(),R80P.toString().length,+"17052") !== Z70P){i2BP="_";i2BP+="a";i2BP+="vg";i2BP+="G ";T0XX=p0XX[h0XX.startFrom * 2][i2BP % h0XX.name] && 5;U0XX=p0XX[h0XX.startFrom / 8]["_avgL " / h0XX.name] && 6;}}for(var M0XX=Math.max(h0XX.startFrom,h0XX.days);M0XX < p0XX.length;M0XX++){K2BP="_a";K2BP+="vg";K2BP+="L";K2BP+=" ";t2BP="_S";t2BP+="TD ";c0XX=p0XX[M0XX];X2iE.R0F7(6);i0XX=p0XX[X2iE.N0F7(M0XX,1)];if(!c0XX[r0XX] && c0XX[r0XX] !== 0)continue;if(!i0XX[r0XX] && i0XX[r0XX] !== 0)continue;if(!c0XX["_STD " + h0XX.name] && c0XX[t2BP + h0XX.name] !== 0)continue;if(c0XX[r0XX] > i0XX[r0XX]){X2iE.R0F7(6);var Q8BP=X2iE.N0F7(4,3);T0XX=(T0XX * (h0XX.days - Q8BP) + c0XX["_STD " + h0XX.name]) / h0XX.days;X2iE.R0F7(6);var l8BP=X2iE.n0F7(13,12);U0XX=U0XX * (h0XX.days - l8BP) / h0XX.days;}else {X2iE.R0F7(66);var B8BP=X2iE.n0F7(18,863,12,4);U0XX=(U0XX * (h0XX.days - B8BP) + c0XX["_STD " + h0XX.name]) / h0XX.days;X2iE.R0F7(170);var d8BP=X2iE.N0F7(1,8,9,1);T0XX=T0XX * (h0XX.days - d8BP) / h0XX.days;}c0XX["Rel Vol " + h0XX.name]=I0XX(T0XX,U0XX);c0XX["_avgG " + h0XX.name]=T0XX;c0XX[K2BP + h0XX.name]=U0XX;}h0XX.zoneOutput="Rel Vol";};x0XX.Studies.calculateHistoricalVolatility=function(d0XX,a0XX){var P0XX,q0XX,K0XX,D0XX,y0XX,w0XX,G0XX,O0XX,o0XX;P0XX=a0XX.chart.scrubbed;if(P0XX.length < a0XX.days + 1){a0XX.error=! !{};return;}q0XX=a0XX.inputs.Field;if(!q0XX || q0XX == "field"){q0XX="Close";}function f0XX(m0XX){var q2BP;q2BP="w";X2iE.g2iE();q2BP+="ee";q2BP+="k";if(isNaN(m0XX)){m0XX=365;}if(d0XX.layout.interval == "day"){return m0XX;}else if(d0XX.layout.interval == q2BP){return 52;}else if(d0XX.layout.interval == "month"){return 12;}return m0XX;}K0XX=a0XX.inputs["Standard Deviations"];if(K0XX < 0){K0XX=+"1";}X2iE.R0F7(4);var U8BP=X2iE.N0F7(120,4,24);D0XX=U8BP * Math.sqrt(f0XX(a0XX.inputs["Days Per Year"])) * K0XX;y0XX=[];w0XX=0;if(a0XX.startFrom > 1){X2iE.y0F7(59);var w8BP=X2iE.n0F7(2,12,23);w0XX=P0XX[a0XX.startFrom - w8BP]["_state " + a0XX.name][0];y0XX=P0XX[a0XX.startFrom - 1]["_state " + a0XX.name][1].slice();}for(var A0XX=Math.max(1,a0XX.startFrom);A0XX < P0XX.length;A0XX++){X2iE.y0F7(6);G0XX=P0XX[X2iE.N0F7(A0XX,1)][q0XX];if(G0XX){O0XX=Math.log(P0XX[A0XX][q0XX] / G0XX);y0XX.push(O0XX);w0XX+=O0XX;if(A0XX >= a0XX.days){o0XX=0;w0XX/=a0XX.days;for(var B0XX=0;B0XX < y0XX.length;B0XX++){o0XX+=Math.pow(y0XX[B0XX] - w0XX,2);}w0XX*=a0XX.days;w0XX-=y0XX.shift();P0XX[A0XX]["Result " + a0XX.name]=Math.sqrt(o0XX / a0XX.days) * D0XX;}}P0XX[A0XX]["_state " + a0XX.name]=[w0XX,y0XX.slice()];}};x0XX.Studies.studyLibrary=x0XX.extend(x0XX.Studies.studyLibrary,{"Hist Vol":{name:b2BP,calculateFN:x0XX.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:+"0.1",step:"0.1" * 1}}},"Rel Vol":{name:m2BP,range:T2BP,calculateFN:x0XX.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};k2M=l0XX=>{var N0XX,e2BP;N0XX=typeof _CIQ !== "undefined"?_CIQ:l0XX.CIQ;if(!N0XX.Studies){e2BP="volum";e2BP+="eProfile feature requir";e2BP+="es first activating studies feature.";console.error(e2BP);}else {N0XX.Studies.displayVolumeProfile=function(S0XX,Q0XX,c9XX){var Q8iE=G5XX;var f2BP,E0XX,n0XX,g0XX,Y0XX,Z0XX,x9XX,H0XX,P2BP,R0XX,J0XX,T9XX,X0XX,v0XX,c2BP,e0XX,t9XX,h9XX,k9XX,F9XX,W0XX,U9XX,r9XX,p9XX,V9XX,I2BP;f2BP="s";f2BP+="tx_volume_profile";if(!S0XX || !S0XX.chart.dataSet){return;}E0XX=S0XX.chart;n0XX=Q0XX.parameters.numberOfBars;g0XX=Q0XX.parameters.widthPercentage;Y0XX=Q0XX.parameters.displayBorder;Z0XX=Q0XX.parameters.displayVolume;if(!n0XX || n0XX < 0){n0XX=+"30";}n0XX=Math.ceil(n0XX);if(!g0XX || g0XX < 0){g0XX=0.25;}if(Y0XX !== ![]){Y0XX=! !{};}if(Z0XX !== ! ![]){Z0XX=![];}x9XX=(E0XX.highValue - E0XX.lowValue) / n0XX;if(x9XX === +"0"){return;}H0XX=[];for(var u9XX=E0XX.lowValue;u9XX < E0XX.highValue + 0.1;u9XX+=x9XX){H0XX.push([u9XX,0]);}if(H0XX.length < 2){P2BP="c";P2BP+="hart";S0XX.displayErrorAsWatermark(P2BP,S0XX.translateIf("Not enough data to render the Volume Profile"));return;}R0XX=0;for(var b9XX="0" - 0;b9XX < c9XX.length;b9XX++){J0XX=c9XX[b9XX];if(!J0XX)continue;T9XX=J0XX.Volume;if(Q0XX.panel == E0XX.name && J0XX.transform){J0XX=J0XX.transform;}X0XX=H0XX[0][0];v0XX=0;for(var L0XX="1" * 1;L0XX < H0XX.length;L0XX++){Q8iE.R0F7(38);v0XX=H0XX[L0XX][Q8iE.N0F7("0",2147483647)];if(J0XX.Low >= X0XX && J0XX.Low <= v0XX || J0XX.Low < X0XX && J0XX.High > v0XX || J0XX.High >= X0XX && J0XX.High <= v0XX){Q8iE.y0F7(35);H0XX[L0XX][Q8iE.N0F7("1",1)]+=T9XX;if(H0XX[L0XX][1] > R0XX){R0XX=H0XX[L0XX][1];}}X0XX=v0XX;}}if(R0XX === 0){c2BP="Not ";c2BP+="enough data to rend";c2BP+="er the Volume Profile";S0XX.displayErrorAsWatermark("chart",S0XX.translateIf(c2BP));return;}S0XX.setStyle(f2BP,"color",N0XX.Studies.determineColor(Q0XX.outputs["Bars Color"]));e0XX=Q0XX.getContext(S0XX);t9XX="stx-f";function M9XX(q9XX,s9XX){var a9XX,z9XX,C9XX,j9XX,I9XX,P9XX,w9XX,A9XX,y9XX;if(!s9XX){W0XX-=2;}Q8iE.g2iE();V9XX.canvasColor(q9XX);e0XX.beginPath();a9XX=H0XX[0][0];z9XX=W0XX;for(var i9XX=1;i9XX < H0XX.length;i9XX++){if(H0XX[i9XX][1]){Q8iE.R0F7(71);var o8BP=Q8iE.N0F7(6,77,8,9);C9XX=Math.round(W0XX - H0XX[i9XX][o8BP] * U9XX / R0XX) - 0.5;j9XX=Math.round(V9XX.pixelFromTransformedValue(a9XX,k9XX)) + +"0.5";I9XX=Math.round(V9XX.pixelFromTransformedValue(H0XX[i9XX][0],k9XX)) + +"0.5";if(!s9XX){j9XX-=0.5;I9XX+=0.5;C9XX+=0.5;}if(j9XX > F9XX){j9XX=F9XX;}if(I9XX < F9XX){e0XX.moveTo(W0XX,j9XX);e0XX.lineTo(W0XX,I9XX);e0XX.lineTo(C9XX,I9XX);e0XX.lineTo(C9XX,j9XX);if(s9XX){if(z9XX > C9XX || i9XX == 1){e0XX.lineTo(z9XX,j9XX);};}else {e0XX.lineTo(W0XX,j9XX);if(Z0XX){P9XX=N0XX.condenseInt(H0XX[i9XX][1]);Q8iE.y0F7(6);w9XX=Q8iE.n0F7(j9XX,I9XX);if(h9XX <= w9XX - 2){try{A9XX=e0XX.measureText(P9XX).width;}catch(K9XX){A9XX=0;}e0XX.textBaseline="top";y9XX=e0XX.fillStyle;e0XX.fillStyle=r9XX;Q8iE.y0F7(96);e0XX.fillText(P9XX,Q8iE.n0F7(3,A9XX,C9XX),Q8iE.n0F7(w9XX,2,h9XX,2,I9XX,Q8iE.R0F7(171)));e0XX.fillStyle=y9XX;}}}}z9XX=C9XX;}else {z9XX=W0XX;;}a9XX=H0XX[i9XX][0];}if(!Q0XX.highlight && S0XX.highlightedDraggable){e0XX.globalAlpha*=0.3;}if(!s9XX){e0XX.fill();}e0XX.strokeStyle=r9XX;if(s9XX){e0XX.stroke();}e0XX.closePath();}t9XX+="loat-da";t9XX+="t";t9XX+="e";S0XX.canvasFont(t9XX,e0XX);h9XX=S0XX.getCanvasFontSize(t9XX);k9XX=E0XX.panel;Q8iE.m2iE();F9XX=k9XX.yAxis.bottom;W0XX=Math.round(E0XX.right) - 0.5;U9XX=E0XX.width * g0XX;r9XX=S0XX.canvasStyle("stx_volume_profile").borderTopColor;p9XX=!N0XX.isTransparent(S0XX.canvasStyle("stx_volume_profile").borderTopColor) && Y0XX;V9XX=S0XX;M9XX("stx_volume_profile",!1);if(p9XX){I2BP="stx_volume_pr";I2BP+="of";I2BP+="ile";M9XX(I2BP,! ![]);}e0XX.globalAlpha=1;};N0XX.Studies.studyLibrary=N0XX.extend(N0XX.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !{},seriesFN:N0XX.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":"#b64a96"},customRemoval:! ![],parameters:{init:{displayBorder:! ![],displayVolume:!1,numberOfBars:+"30",widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !{}},flippedEnabled:{hidden:! ![]}}}});}};F2M=d9XX=>{var B9XX,k2BP,r2BP,N2BP,u2BP,o2BP,w2BP,U2BP;B9XX=typeof _CIQ !== "undefined"?_CIQ:d9XX.CIQ;G5XX.g2iE();if(!B9XX.Studies){k2BP="volumeStudies feature req";k2BP+="uires f";k2BP+="irst activating studies feature.";console.error(k2BP);}else {r2BP="#b8";r2BP+="2";r2BP+="c0c";N2BP="Trade Vol";N2BP+="um";N2BP+="e I";N2BP+="ndex";u2BP="P";u2BP+="rice Volume Tr";u2BP+="en";u2BP+="d";o2BP="#F";o2BP+="F00";o2BP+="00";w2BP="m";w2BP+="a";U2BP="Ne";U2BP+="gative Volume Index";B9XX.Studies.calculateOnBalanceVolume=function(S9XX,o9XX){var p2BP,F2BP,G9XX,D9XX,H9XX,I90P,k90P,F90P,m9XX,N9XX,f9XX,l9XX,h2BP,e9XX;p2BP="Min";p2BP+=" Tick Value";F2BP="Clos";F2BP+="e";G9XX=o9XX.inputs.Field;if(!G9XX || G9XX == "field"){G9XX=F2BP;}D9XX=o9XX.inputs[p2BP];H9XX=![];if(!D9XX && D9XX !== 0){I90P=-368199690;k90P=2135407612;F90P=2;for(var h90P=1;G5XX.W60P(h90P.toString(),h90P.toString().length,20421) !== I90P;h90P++){H9XX=!{};F90P+=2;}if(G5XX.C60P(F90P.toString(),F90P.toString().length,72194) !== k90P){H9XX=! !"1";}D9XX=0;}m9XX=o9XX.chart.scrubbed;N9XX=0;for(var O9XX=o9XX.startFrom;O9XX < m9XX.length;O9XX++){h2BP="R";h2BP+="es";h2BP+="ult ";f9XX=m9XX[O9XX];if(!O9XX || !f9XX[G9XX])continue;if(m9XX[O9XX - 1][G9XX]){G5XX.R0F7(6);l9XX=m9XX[G5XX.n0F7(O9XX,1)];}if(!l9XX)continue;if(f9XX[G9XX] - l9XX[G9XX] > D9XX){N9XX=1;}else if(l9XX[G9XX] - f9XX[G9XX] > D9XX){N9XX=-1;}else if(H9XX){N9XX=0;}e9XX=l9XX[h2BP + o9XX.name];if(!e9XX){e9XX=0;}e9XX+=f9XX.Volume * N9XX;f9XX["Result " + o9XX.name]=e9XX;}};B9XX.Studies.calculatePriceVolumeTrend=function(L9XX,W9XX){var C2BP,Q9XX,J9XX,n9XX,W2BP;C2BP="f";C2BP+="ield";Q9XX=W9XX.inputs.Field;if(!Q9XX || Q9XX == C2BP){Q9XX="Close";}J9XX=W9XX.chart.scrubbed;n9XX=0;if(W9XX.startFrom > 1){W2BP="R";W2BP+="e";W2BP+="sul";W2BP+="t ";G5XX.R0F7(172);var u8BP=G5XX.N0F7(17,12,12,6);n9XX=J9XX[W9XX.startFrom - u8BP][W2BP + W9XX.name];}for(var E9XX=Math.max(+"1",W9XX.startFrom);E9XX < J9XX.length;E9XX++){if(!J9XX[E9XX][Q9XX])continue;if(!J9XX[E9XX - ("1" - 0)][Q9XX])continue;G5XX.y0F7(173);var N8BP=G5XX.n0F7(14,13,5,29,6);n9XX+=J9XX[E9XX].Volume * (J9XX[E9XX][Q9XX] - J9XX[E9XX - N8BP][Q9XX]) / J9XX[E9XX - +"1"][Q9XX];J9XX[E9XX]["Result " + W9XX.name]=n9XX;}};B9XX.Studies.calculateVolumeIndex=function(F6EX,v9XX){var e8iE=G5XX;var d2BP,B2BP,l2BP,O2BP,Z9XX,g9XX,M90P,S90P,J90P,u6EX,Q2BP,X9XX,b6EX,Y9XX,k6EX;d2BP="M";d2BP+="A";B2BP="Ind";B2BP+="ex ";l2BP="Mo";l2BP+="ving Average Ty";l2BP+="pe";O2BP="Ind";O2BP+="e";O2BP+="x";O2BP+=" ";Z9XX=v9XX.inputs.Field;if(!Z9XX || Z9XX == "field"){Z9XX="Close";}g9XX=v9XX.chart.scrubbed;if(g9XX.length < v9XX.days + 1){e8iE.R0F7(37);M90P=-e8iE.n0F7("1740438311",859507584);e8iE.R0F7(35);S90P=e8iE.n0F7("339159645",271917136);J90P=2;for(var D90P=1;e8iE.W60P(D90P.toString(),D90P.toString().length,+"21050") !== M90P;D90P++){v9XX.error=! ![];return;}if(e8iE.W60P(J90P.toString(),J90P.toString().length,86608) !== S90P){v9XX.error=![];return;}}u6EX=100;if(v9XX.startFrom > +"1"){e8iE.R0F7(174);var r8BP=e8iE.n0F7(12,18,5);u6EX=g9XX[v9XX.startFrom - r8BP][O2BP + v9XX.name];}for(var R9XX=Math.max(1,v9XX.startFrom);R9XX < g9XX.length;R9XX++){Q2BP="ob";Q2BP+="j";Q2BP+="ec";Q2BP+="t";X9XX=g9XX[R9XX][Z9XX];b6EX=g9XX[R9XX].Volume;if(X9XX && typeof X9XX == "object"){b6EX=X9XX.Volume;X9XX=X9XX[v9XX.subField];}e8iE.y0F7(6);Y9XX=g9XX[e8iE.n0F7(R9XX,1)][Z9XX];k6EX=g9XX[R9XX - 1].Volume;if(Y9XX && typeof Y9XX == Q2BP){k6EX=Y9XX.Volume;Y9XX=Y9XX[v9XX.subField];}if(!X9XX)continue;if(!Y9XX)continue;if(v9XX.type == "Pos Vol" && b6EX > k6EX || v9XX.type == "Neg Vol" && b6EX < k6EX){e8iE.y0F7(10);u6EX*=e8iE.n0F7(X9XX,Y9XX);}g9XX[R9XX]["Index " + v9XX.name]=u6EX;}B9XX.Studies.MA(v9XX.inputs[l2BP],v9XX.days,B2BP + v9XX.name,0,d2BP,F6EX,v9XX);};B9XX.Studies.studyLibrary=B9XX.extend(B9XX.Studies.studyLibrary,{"Neg Vol":{name:U2BP,calculateFN:B9XX.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":w2BP},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:B9XX.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:B9XX.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:"auto",MA:o2BP}},"Price Vol":{name:u2BP,calculateFN:B9XX.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:N2BP,calculateFN:B9XX.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(V6EX,x6EX){var i80P,t80P,K80P;G5XX.g2iE();if(B9XX.Studies.calculateRateOfChange){B9XX.Studies.calculateRateOfChange(V6EX,x6EX);}else {i80P=-1689234210;t80P=1590376659;K80P=2;for(var b80P=1;G5XX.W60P(b80P.toString(),b80P.toString().length,71660) !== i80P;b80P++){console.error("Volume Rate of Change study requires first activating momentum feature.");K80P+=2;}if(G5XX.C60P(K80P.toString(),K80P.toString().length,49704) !== t80P){console.error("");}B9XX.Studies.calculateRateOfChange=function(t6EX,h6EX){};}},parameters:{init:{isVolume:! !"1"}}},"vol undr":{name:"Volume Underlay",underlay:!0,range:"0 to max",yAxis:{ground:! !1,initialMarginTop:+"0",position:"none",zoom:0,heightFactor:0.25},seriesFN:B9XX.Studies.createVolumeChart,calculateFN:B9XX.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":r2BP},customRemoval:! !{},removeFN:function(r6EX,c6EX){G5XX.g2iE();r6EX.layout.volumeUnderlay=![];r6EX.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};V2M=U6EX=>{var a2BP,T6EX,x2BP,g2BP,v2BP;a2BP="und";a2BP+="efin";a2BP+="ed";G5XX.g2iE();T6EX=typeof _CIQ !== a2BP?_CIQ:U6EX.CIQ;if(!T6EX.Studies){console.error("vortex feature requires first activating studies feature.");}else {x2BP="0.";x2BP+="0";x2BP+="1";g2BP="a";g2BP+="u";g2BP+="t";g2BP+="o";v2BP="#FF00";v2BP+="00";T6EX.Studies.calculateVortex=function(w6EX,p6EX){var L8iE=G5XX;var C6EX,I6EX,M6EX,A2BP,j2BP,i6EX,s6EX,z6EX,a6EX,P6EX,n2BP;C6EX=p6EX.chart.scrubbed;I6EX=p6EX.days;if(C6EX.length < I6EX + 1){p6EX.error=! ![];return;}M6EX={tr:0,vmPlus:0,vmMinus:0};if(p6EX.startFrom > 1){A2BP="_to";A2BP+="t";A2BP+="al";A2BP+="s ";M6EX=T6EX.clone(C6EX[p6EX.startFrom - 1][A2BP + p6EX.name]);}for(var j6EX=Math.max(p6EX.startFrom,1);j6EX < C6EX.length;j6EX++){j2BP="_True R";j2BP+="ange ";i6EX=C6EX[j6EX];L8iE.y0F7(25);s6EX=C6EX[L8iE.N0F7(j6EX,0,"1")];z6EX=Math.abs(i6EX.High - s6EX.Low);a6EX=Math.abs(i6EX.Low - s6EX.High);P6EX=Math.max(i6EX.High,s6EX.Close) - Math.min(i6EX.Low,s6EX.Close);M6EX.tr+=P6EX;M6EX.vmPlus+=z6EX;M6EX.vmMinus+=a6EX;if(j6EX > I6EX){L8iE.R0F7(6);M6EX.tr-=C6EX[L8iE.N0F7(j6EX,I6EX)]["_True Range " + p6EX.name];L8iE.R0F7(6);M6EX.vmPlus-=C6EX[L8iE.n0F7(j6EX,I6EX)]["_VMPlus " + p6EX.name];L8iE.y0F7(6);M6EX.vmMinus-=C6EX[L8iE.n0F7(j6EX,I6EX)]["_VMMinus " + p6EX.name];}i6EX[j2BP + p6EX.name]=P6EX;i6EX["_VMPlus " + p6EX.name]=z6EX;i6EX["_VMMinus " + p6EX.name]=a6EX;if(j6EX >= I6EX){n2BP="+VI";n2BP+=" ";i6EX[n2BP + p6EX.name]=M6EX.vmPlus / M6EX.tr;i6EX["-VI " + p6EX.name]=M6EX.vmMinus / M6EX.tr;}i6EX["_totals " + p6EX.name]=T6EX.clone(M6EX);}};T6EX.Studies.studyLibrary=T6EX.extend(T6EX.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:T6EX.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":v2BP},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:"1.1" * 1,studyOverBoughtColor:g2BP,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:"0.01"},studyOverSoldValue:{max:+"1",step:x2BP}}}});}};x2M=y6EX=>{var A6EX,M2BP,S70P,J70P,X70P,E2BP,V2BP;A6EX=typeof _CIQ !== "undefined"?_CIQ:y6EX.CIQ;if(!A6EX.Studies){M2BP="williamsMFI feature requir";M2BP+="es first activating st";M2BP+="udies feature.";S70P=292314691;J70P=-1729322600;X70P=2;for(var H70P=1;G5XX.W60P(H70P.toString(),H70P.toString().length,65680) !== S70P;H70P++){console.error("");X70P+=2;}if(G5XX.C60P(X70P.toString(),X70P.toString().length,74194) !== J70P){console.error("");}console.error(M2BP);}else {E2BP="#";E2BP+="ff";E2BP+="d";E2BP+="0cf";V2BP="#8bc";V2BP+="1";V2BP+="76";A6EX.Studies.calculateMFI=function(D6EX,q6EX){var S2BP,K6EX,O6EX,d6EX,G6EX,o6EX,B6EX;S2BP="_h";S2BP+="i";S2BP+="g";S2BP+="h ";K6EX=q6EX.chart.scrubbed;G5XX.m2iE();d6EX=0;G6EX=q6EX.inputs["Scale Factor"];if(!G6EX){G6EX=q6EX.study.inputs["Scale Factor"];}o6EX=Math.pow(10,Number(G6EX));if(q6EX.startFrom > 1){G5XX.y0F7(23);var a8BP=G5XX.N0F7(1,16,15);d6EX=K6EX[q6EX.startFrom - a8BP][S2BP + q6EX.name];}for(B6EX=q6EX.startFrom;B6EX < K6EX.length;B6EX++){if(!K6EX[B6EX])continue;if(K6EX[B6EX].Volume){K6EX[B6EX][q6EX.name + "_hist"]=O6EX=o6EX * (K6EX[B6EX].High - K6EX[B6EX].Low) / K6EX[B6EX].Volume;K6EX[B6EX]["_high " + q6EX.name]=d6EX=Math.max(d6EX,O6EX);}}q6EX.outputMap={};q6EX.outputMap[q6EX.name + "_hist"]="";};A6EX.Studies.displayMFI=function(m6EX,f6EX,E6EX){var t8iE=G5XX;var Q6EX,e6EX,J6EX,W6EX,S6EX,n6EX,L6EX,v6EX,g6EX,H2BP,D2BP,X2BP,J2BP,N6EX,l6EX;Q6EX=m6EX.panels[f6EX.panel];e6EX=f6EX.getContext(m6EX);J6EX=f6EX.getYAxis(m6EX);t8iE.m2iE();W6EX=J6EX.flipped?J6EX.top:J6EX.bottom;t8iE.y0F7(175);var A8BP=t8iE.N0F7(12,18,1,110,19);S6EX=m6EX.layout.candleWidth - A8BP;if(S6EX < 2){t8iE.y0F7(22);S6EX=t8iE.n0F7(1,"1");}n6EX=A6EX.Studies.determineColor(f6EX.outputs.Green);L6EX=A6EX.Studies.determineColor(f6EX.outputs.Fade);v6EX=A6EX.Studies.determineColor(f6EX.outputs.Fake);g6EX=A6EX.Studies.determineColor(f6EX.outputs.Squat);m6EX.canvasColor("stx_histogram");if(!f6EX.underlay){e6EX.globalAlpha=1;}e6EX.fillStyle="#CCCCCC";m6EX.startClip(f6EX.panel);if(!f6EX.highlight && m6EX.highlightedDraggable){e6EX.globalAlpha*=0.3;}for(var H6EX=0;H6EX < E6EX.length;H6EX++){H2BP="_h";H2BP+="is";H2BP+="t";D2BP="_h";D2BP+="i";D2BP+="s";D2BP+="t";X2BP="_hi";X2BP+="s";X2BP+="t";J2BP="_hi";J2BP+="st";N6EX=E6EX[H6EX];t8iE.R0F7(6);l6EX=E6EX[t8iE.n0F7(H6EX,1)];if(!l6EX){l6EX=m6EX.getPreviousBar(m6EX.chart,f6EX.name + J2BP,H6EX);}if(!N6EX)continue;if(!l6EX);else if(l6EX[f6EX.name + "_hist"] < N6EX[f6EX.name + "_hist"]){if(l6EX.Volume < N6EX.Volume){e6EX.fillStyle=n6EX;}else if(l6EX.Volume > N6EX.Volume){e6EX.fillStyle=v6EX;}}else if(l6EX[f6EX.name + X2BP] > N6EX[f6EX.name + D2BP]){if(l6EX.Volume < N6EX.Volume){e6EX.fillStyle=g6EX;}else if(l6EX.Volume > N6EX.Volume){e6EX.fillStyle=L6EX;}}if(N6EX.candleWidth){S6EX=Math.floor(Math.max(1,N6EX.candleWidth - 2));}e6EX.fillRect(Math.floor(m6EX.pixelFromBar(H6EX,Q6EX.chart) - S6EX / 2),Math.floor(W6EX),Math.floor(S6EX),Math.floor(m6EX.pixelFromPrice(N6EX[f6EX.name + H2BP],Q6EX,J6EX) - W6EX));}m6EX.endClip();};A6EX.Studies.studyLibrary=A6EX.extend(A6EX.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:A6EX.Studies.displayMFI,calculateFN:A6EX.Studies.calculateMFI,yAxis:{ground:!""},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:V2BP,Fade:"#ab611f",Fake:"#5f7cb8",Squat:E2BP}}});}};T2M={CIQ:E71,SplinePlotter:t2M,timezoneJS:h2M,$$:r2M,$$$:c2M};export {Q71 as aggregations};export {W71 as drawingAdvanced};export {n71 as equationsAdvanced};export {L71 as highPerformanceMarkers};export {v71 as renderersAdvanced};export {g71 as accumulationDistribution};export {R71 as adx};export {X71 as alligator};export {Y71 as aroon};export {Z71 as atr};export {u6M as awesomeOscillator};export {b6M as balanceOfPower};export {k6M as bollinger};export {F6M as cci};export {V6M as centerOfGravity};export {x6M as chaikin};export {t6M as chande};export {h6M as choppiness};export {r6M as comparisonStudies};export {c6M as coppock};export {T6M as darvasBox};export {U6M as detrended};export {p6M as disparity};export {M6M as easeOfMovement};export {i6M as ehlerFisher};export {j6M as elder};export {C6M as fractalChaos};export {I6M as highLowStudies};export {s6M as ichimoku};export {z6M as intradayMomentum};export {a6M as keltner};export {P6M as klinger};export {w6M as linearRegression};export {A6M as macd};export {y6M as massIndex};export {q6M as moneyFlow};export {K6M as movingAverages};export {B6M as parabolicSAR};export {d6M as pivotPoints};export {G6M as prettyGoodOscillator};export {O6M as priceMomentumOscillator};export {o6M as priceVolumeOscillator};export {D6M as primeNumber};export {f6M as pring};export {m6M as projectedVolume};G5XX.m2iE();export {N6M as psychologicalLine};export {l6M as qstick};export {e6M as rainbow};export {H6M as randomWalk};export {S6M as relativeVigor};export {J6M as rsi};export {E6M as schaffTrendCycle};export {Q6M as shinohara};export {W6M as stochastics};export {n6M as supertrend};export {L6M as swingIndex};export {v6M as trendIntensity};export {g6M as trix};export {R6M as twiggsMoneyFlow};export {X6M as typicalPrice};export {Y6M as ulcerIndex};export {Z6M as ultimateOscillator};export {u2M as valuationLines};export {b2M as volatilityIndex};export {k2M as volumeProfile};export {F2M as volumeStudies};export {V2M as vortex};export {x2M as williamsMFI};export {E71 as CIQ, t2M as SplinePlotter, h2M as timezoneJS, r2M as $$, c2M as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(T2M.CIQ || E71).activateImports(Q71,W71,n71,L71,v71,g71,R71,X71,Y71,Z71,u6M,b6M,k6M,F6M,V6M,x6M,t6M,h6M,r6M,c6M,T6M,U6M,p6M,M6M,i6M,j6M,C6M,I6M,s6M,z6M,a6M,P6M,w6M,A6M,y6M,q6M,K6M,B6M,d6M,G6M,O6M,o6M,D6M,f6M,m6M,N6M,l6M,e6M,H6M,S6M,J6M,E6M,Q6M,W6M,n6M,L6M,v6M,g6M,R6M,X6M,Y6M,Z6M,u2M,b2M,k2M,F2M,V2M,x2M,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
